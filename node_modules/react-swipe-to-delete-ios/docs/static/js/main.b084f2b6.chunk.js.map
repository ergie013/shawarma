{"version":3,"sources":["demo/styles.js","lib/helpers.js","lib/styles.js","lib/SwipeToDelete.jsx","lib/index.js","demo/App.jsx","index.js"],"names":["GlobalStyle","createGlobalStyle","_templateObject","Container","styled","div","_templateObject2","Dot","_templateObject3","_ref","itemHeight","_ref2","_ref3","_ref4","color","Item","span","_templateObject4","_ref5","_ref6","cursorPosition","event","touches","clientX","deletingCss","css","styles_templateObject","transitionDuration","styles_templateObject2","heightProp","props","deleting","Content","styles_templateObject3","translate","transition","concat","Delete","styles_templateObject4","deleteColor","deleteWidth","_ref7","_ref8","buttonMarginLeft","SwipeToDelete","state","touching","onMouseDown","e","_this","startTouchPosition","initTranslate","setState","addEventListenerToMoveAndUp","arguments","length","undefined","window","removeEventListener","onMouseMove","onMouseUp","addEventListener","newState","acceptableMove","showDelete","notShowDelete","deleteWithoutConfirm","deleteWithoutConfirmThreshold","containerWidth","onDeleteClick","_this$props","onDelete","setTimeout","this","forceUpdate","_this2","_this$state","_this$props2","deleteText","cssParams","height","shiftDelete","react_default","a","createElement","styles_Container","Object","assign","ref","c","container","getBoundingClientRect","width","onClick","onTouchStart","children","React","Component","defaultProps","Math","ceil","random","App","items","content","handleDelete","itemToDelete","filter","item","map","lib","key","ReactDOM","render","demo_App","document","getElementById"],"mappings":"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","file":"static/js/main.b084f2b6.chunk.js","sourcesContent":["import styled, { createGlobalStyle } from 'styled-components'\n\nconst GlobalStyle = createGlobalStyle`\n  body, html {\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    height: 100%;\n    color: #111;\n    font-family: sans-serif;\n    box-sizing: border-box;\n    position: relative;\n  }\n\n  body {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: column;\n    min-height: 750px;\n  }\n\n  a#back-to-github {\n    position: absolute;\n    width: 200px;\n    background: #111;\n    color: white;\n    height: 30px;\n    top: 35px;\n    right: -50px;\n    transform: rotate(45deg);\n    text-align: center;\n    line-height: 30px;\n    text-decoration: none;\n  }\n\n  #root {\n    max-width: 100%;\n    width: 300px;\n    border: 1px solid #111;\n    max-height: 400px;\n    overflow: auto;\n  }\n`;\n\nconst Container = styled.div`\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  position: relative;\n`\n\nconst Dot = styled.div`\n  height: ${({ itemHeight }) => itemHeight * 0.5}px;\n  width: ${({ itemHeight }) => itemHeight * 0.5}px;\n  margin-right: ${({ itemHeight }) => itemHeight}px;\n  background-color: ${({ color }) => color};\n  border-radius: 50%;\n`\n\n\nconst Item = styled.span`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  height: ${({ itemHeight }) => itemHeight}px;\n  line-height: ${({ itemHeight }) => itemHeight}px;\n  border-bottom: 1px solid grey;\n  padding-left: 10px;\n  background: white;\n  width: 100%;\n  box-sizing: border-box;\n  position: relative;\n`\n\nexport {\n  GlobalStyle,\n  Container,\n  Item,\n  Dot\n}\n","\nconst cursorPosition = event => event.touches ? event.touches[0].clientX : event.clientX;\n\nexport {\n  cursorPosition\n}\n","import styled, { css } from 'styled-components'\n\nconst deletingCss = css`\n  transition: all ${({ transitionDuration }) => transitionDuration}ms ease-out;\n  max-height: 0;\n  * {\n    outline: none;\n  }\n`\n\nconst Container = styled.div`\n  height: ${({ heightProp }) => heightProp}px;\n  max-height: ${({ heightProp }) => heightProp + 10}px;\n  width: auto;\n  position: relative;\n  box-sizing: border-box;\n  ${props => props.deleting && deletingCss}\n  *, *:before, *:after {\n    box-sizing: border-box;\n  }\n`\n\nconst Content = styled.div`\n  height: 100%;\n  width: auto;\n  position: relative;\n  transform: ${props => props.deleting && 'scale(0)'} translateX(${({ translate }) => translate}px);\n  ${props => props.transition && `transition: transform ${props.transitionDuration}ms ease-out`}\n`\n\nconst Delete = styled.div`\n  position: absolute;\n  right: 0;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  background: ${({ deleteColor }) => deleteColor};\n  font-weight: 400;\n  display: inline-flex;\n  justify-content: flex-start;\n  align-items: center;\n  button {\n    width: ${({ deleteWidth }) => deleteWidth}px;\n    transition: margin ${({ transitionDuration }) => transitionDuration}ms ease-in-out;\n    margin-left: ${({ buttonMarginLeft }) => buttonMarginLeft}px;\n    text-align: center;\n    height: 100%;\n    background: transparent;\n    border: none;\n    color: white;\n    font-size: 1rem;\n    cursor: pointer;\n  }\n`\n\nexport {\n  Container,\n  Content,\n  Delete\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { cursorPosition } from './helpers';\nimport { Container, Delete, Content } from './styles';\n\n\nclass SwipeToDelete extends React.Component {\n\n  state = {\n    touching: null,\n    translate: 0,\n    deleting: false,\n  }\n\n  componentDidMount() {\n    // to get ref dimensions\n    this.forceUpdate()\n  }\n\n  onMouseDown = (e) => {\n    if (this.state.touching) return;\n    this.startTouchPosition = cursorPosition(e);\n    this.initTranslate = this.state.translate;\n    this.setState({ touching: true }, () => {\n      this.addEventListenerToMoveAndUp()\n    })\n  };\n\n  addEventListenerToMoveAndUp = (remove = false) => {\n    if (remove) {\n      window.removeEventListener('mousemove', this.onMouseMove);\n      window.removeEventListener('touchmove', this.onMouseMove);\n      window.removeEventListener('mouseup', this.onMouseUp);\n      window.removeEventListener('touchend', this.onMouseUp);\n    } else {\n      window.addEventListener('mousemove', this.onMouseMove);\n      window.addEventListener('touchmove', this.onMouseMove);\n      window.addEventListener('mouseup', this.onMouseUp);\n      window.addEventListener('touchend', this.onMouseUp);\n    }\n  }\n\n  onMouseMove = (e) => {\n    if (!this.state.touching) return\n    cursorPosition(e)\n    if (cursorPosition(e) > this.startTouchPosition - this.initTranslate) {\n      this.setState({ translate: 0 })\n      return;\n    }\n    this.setState({ translate: cursorPosition(e) - this.startTouchPosition + this.initTranslate })\n  };\n\n  onMouseUp = () => {\n    this.startTouchPosition = null;\n    const { deleteWidth } = this.props;\n    const newState = {\n      touching: false\n    }\n    const acceptableMove = -deleteWidth * 0.7;\n    const showDelete = this.state.translate < acceptableMove;\n    const notShowDelete = this.state.translate >= acceptableMove;\n    const deleteWithoutConfirm = -this.state.translate >= this.deleteWithoutConfirmThreshold;\n    if (deleteWithoutConfirm) newState.translate = -this.containerWidth;\n    if (notShowDelete) newState.translate = 0;\n    if (showDelete && !deleteWithoutConfirm) newState.translate = -deleteWidth;\n    this.setState(newState, () => {\n      if (deleteWithoutConfirm) this.onDeleteClick()\n    });\n\n    this.addEventListenerToMoveAndUp(true)\n  }\n\n  onDeleteClick = () => {\n    const { transitionDuration, onDelete } = this.props;\n    this.setState({ deleting: true }, () => {\n      window.setTimeout(() => {\n        onDelete();\n      }, transitionDuration)\n    })\n  }\n\n  componentWillUnmount() {\n    this.addEventListenerToMoveAndUp(true)\n  }\n\n  render() {\n    const { translate, touching, deleting } = this.state;\n    const { deleteWidth, transitionDuration, deleteText, deleteColor, height } = this.props;\n    const cssParams = { deleteWidth, transitionDuration, deleteColor, heightProp: height };\n    const shiftDelete = -translate >= this.deleteWithoutConfirmThreshold;\n    return(\n      <Container\n        deleting={deleting}\n        {...cssParams}\n        ref={c => {\n          if (c) {\n            this.container = c\n            this.containerWidth = c.getBoundingClientRect().width;\n            this.deleteWithoutConfirmThreshold = this.containerWidth * 0.75;\n          }\n        }}\n      >\n        <Delete\n          buttonMarginLeft={shiftDelete ? this.containerWidth + translate : this.containerWidth - deleteWidth}\n          {...cssParams}\n        >\n          <button onClick={this.onDeleteClick}>{deleteText}</button>\n        </Delete>\n        <Content\n          {...cssParams}\n          deleting={deleting}\n          onMouseDown={this.onMouseDown}\n          onTouchStart={this.onMouseDown}\n          translate={translate}\n          transition={!touching}\n\n        >\n          {this.props.children}\n        </Content>\n      </Container>\n     )\n  }\n}\n\nSwipeToDelete.propTypes = {\n  onDelete: PropTypes.func.isRequired,\n  height: PropTypes.number.isRequired,\n  transitionDuration: PropTypes.number,\n  deleteWidth: PropTypes.number,\n  deleteColor: PropTypes.string,\n  deleteText: PropTypes.string,\n}\n\nSwipeToDelete.defaultProps = {\n  transitionDuration: 250,\n  deleteWidth: 75,\n  deleteColor: 'rgba(252, 58, 48, 1.00)',\n  deleteText: 'Delete',\n}\n\n\nexport default SwipeToDelete;\n","import SwipeToDelete from \"./SwipeToDelete\";\n\nexport default SwipeToDelete;\n","\nimport React from 'react'\nimport { GlobalStyle, Container, Item, Dot } from './styles'\nimport SwipeToDelete from '../lib'\n\nconst itemHeight = 50;\n\nconst color = () => Math.ceil(Math.random() * 250);\n\nclass App extends React.Component {\n  state = {\n    items: [\n      {\n        content: 'Item 1',\n        color: `rgba(${color()}, ${color()}, ${color()}, 1)`\n      },\n      {\n        content: 'Item 2',\n        color: `rgba(${color()}, ${color()}, ${color()}, 1)`\n      },\n      {\n        content: 'Item 3',\n        color: `rgba(${color()}, ${color()}, ${color()}, 1)`\n      },\n      {\n        content: 'Item 4',\n        color: `rgba(${color()}, ${color()}, ${color()}, 1)`\n      },\n      {\n        content: 'Item 5',\n        color: `rgba(${color()}, ${color()}, ${color()}, 1)`\n      },\n      {\n        content: 'Item 6',\n        color: `rgba(${color()}, ${color()}, ${color()}, 1)`\n      },\n      {\n        content: 'Item 7',\n        color: `rgba(${color()}, ${color()}, ${color()}, 1)`\n      },\n      {\n        content: 'Item 8',\n        color: `rgba(${color()}, ${color()}, ${color()}, 1)`\n      },\n      {\n        content: 'Item 9',\n        color: `rgba(${color()}, ${color()}, ${color()}, 1)`\n      },\n      {\n        content: 'Item 10',\n        color: `rgba(${color()}, ${color()}, ${color()}, 1)`\n      },\n      {\n        content: 'Item 11',\n        color: `rgba(${color()}, ${color()}, ${color()}, 1)`\n      },\n      {\n        content: 'Item 12',\n        color: `rgba(${color()}, ${color()}, ${color()}, 1)`\n      },\n      {\n        content: 'Item 13',\n        color: `rgba(${color()}, ${color()}, ${color()}, 1)`\n      },\n      {\n        content: 'Item 14',\n        color: `rgba(${color()}, ${color()}, ${color()}, 1)`\n      },\n    ]\n  }\n\n  handleDelete = itemToDelete => this.setState(({ items }) => ({ items: items.filter(item => item !== itemToDelete) }))\n\n  render() {\n    return(\n      <Container>\n        <GlobalStyle />\n        {this.state.items.map(item => (\n          <SwipeToDelete key={item.content} height={itemHeight} onDelete={() => this.handleDelete(item)}>\n            <Item itemHeight={itemHeight}>\n              <Dot\n                itemHeight={itemHeight}\n                color={item.color}\n              />\n              <span>{item.content}</span>\n            </Item>\n          </SwipeToDelete>\n        ))}\n      </Container>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './demo/App';\n\nconst render = () => ReactDOM.render(<App />, document.getElementById('root'));\nrender();\n\nif (module.hot) {\n  module.hot.accept(['./demo/App'], () => {\n    render();\n  });\n}\n"],"sourceRoot":""}