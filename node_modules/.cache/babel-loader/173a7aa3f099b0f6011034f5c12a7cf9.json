{"ast":null,"code":"import _classCallCheck from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/lampp/htdocs/shawarma/src/components/Desktop/index.js\";\nimport React, { Component } from \"react\";\nimport Meta from \"../helpers/meta\";\nimport { connect } from \"react-redux\";\nimport { getSettings } from \"../../services/settings/actions\";\nimport { getSingleLanguageData } from \"../../services/languages/actions\";\nimport V1 from \"./V1\"; // import V2 from \"./V2\";\n\nvar Desktop =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Desktop, _Component);\n\n  function Desktop() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Desktop);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Desktop)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      showGdpr: false\n    };\n\n    _this.handleGdprClick = function () {\n      localStorage.setItem(\"gdprAccepted\", \"true\");\n\n      _this.setState({\n        showGdpr: false\n      });\n    };\n\n    _this.handleOnChange = function (event) {\n      // console.log(event.target.value);\n      _this.props.getSingleLanguageData(event.target.value);\n\n      localStorage.setItem(\"userPreferedLanguage\", event.target.value);\n    };\n\n    return _this;\n  }\n\n  _createClass(Desktop, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!localStorage.getItem(\"storeColor\")) {\n        this.props.getSettings();\n      }\n\n      if (!localStorage.getItem(\"gdprAccepted\")) {\n        localStorage.setItem(\"gdprAccepted\", \"false\");\n\n        if (localStorage.getItem(\"showGdpr\") === \"true\") {\n          this.setState({\n            showGdpr: true\n          });\n        }\n      }\n\n      if (localStorage.getItem(\"showGdpr\") === \"true\" && localStorage.getItem(\"gdprAccepted\") === \"false\") {\n        this.setState({\n          showGdpr: true\n        });\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.languages !== nextProps.languages) {\n        if (localStorage.getItem(\"userPreferedLanguage\")) {\n          this.props.getSingleLanguageData(localStorage.getItem(\"userPreferedLanguage\")); // console.log(\"Called 1\");\n        } else {\n          if (nextProps.languages.length) {\n            var id = nextProps.languages.filter(function (lang) {\n              return lang.is_default === 1;\n            })[0].id;\n            this.props.getSingleLanguageData(id);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, this.state.showGdpr && React.createElement(\"div\", {\n        className: \"fixed-gdpr\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        dangerouslySetInnerHTML: {\n          __html: localStorage.getItem(\"gdprMessage\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-sm ml-2\",\n        style: {\n          backgroundColor: localStorage.getItem(\"storeColor\")\n        },\n        onClick: this.handleGdprClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, localStorage.getItem(\"gdprConfirmButton\")))), React.createElement(Meta, {\n        seotitle: localStorage.getItem(\"seoMetaTitle\"),\n        seodescription: localStorage.getItem(\"seoMetaDescription\"),\n        ogtype: \"website\",\n        ogtitle: localStorage.getItem(\"seoOgTitle\"),\n        ogdescription: localStorage.getItem(\"seoOgDescription\"),\n        ogurl: window.location.href,\n        twittertitle: localStorage.getItem(\"seoTwitterTitle\"),\n        twitterdescription: localStorage.getItem(\"seoTwitterDescription\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(V1, {\n        languages: this.props.languages,\n        handleOnChange: this.handleOnChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Desktop;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    settings: state.settings.settings,\n    languages: state.languages.languages,\n    language: state.languages.language\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getSettings: getSettings,\n  getSingleLanguageData: getSingleLanguageData\n})(Desktop);","map":{"version":3,"sources":["/opt/lampp/htdocs/shawarma/src/components/Desktop/index.js"],"names":["React","Component","Meta","connect","getSettings","getSingleLanguageData","V1","Desktop","state","showGdpr","handleGdprClick","localStorage","setItem","setState","handleOnChange","event","props","target","value","getItem","nextProps","languages","length","id","filter","lang","is_default","__html","backgroundColor","window","location","href","mapStateToProps","settings","language"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport Meta from \"../helpers/meta\";\r\nimport { connect } from \"react-redux\";\r\nimport { getSettings } from \"../../services/settings/actions\";\r\nimport { getSingleLanguageData } from \"../../services/languages/actions\";\r\nimport V1 from \"./V1\";\r\n// import V2 from \"./V2\";\r\n\r\nclass Desktop extends Component {\r\n\tstate = {\r\n\t\tshowGdpr: false,\r\n\t};\r\n\tcomponentDidMount() {\r\n\t\tif (!localStorage.getItem(\"storeColor\")) {\r\n\t\t\tthis.props.getSettings();\r\n\t\t}\r\n\r\n\t\tif (!localStorage.getItem(\"gdprAccepted\")) {\r\n\t\t\tlocalStorage.setItem(\"gdprAccepted\", \"false\");\r\n\t\t\tif (localStorage.getItem(\"showGdpr\") === \"true\") {\r\n\t\t\t\tthis.setState({ showGdpr: true });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (localStorage.getItem(\"showGdpr\") === \"true\" && localStorage.getItem(\"gdprAccepted\") === \"false\") {\r\n\t\t\tthis.setState({ showGdpr: true });\r\n\t\t}\r\n\t}\r\n\thandleGdprClick = () => {\r\n\t\tlocalStorage.setItem(\"gdprAccepted\", \"true\");\r\n\t\tthis.setState({ showGdpr: false });\r\n\t};\r\n\r\n\thandleOnChange = (event) => {\r\n\t\t// console.log(event.target.value);\r\n\t\tthis.props.getSingleLanguageData(event.target.value);\r\n\t\tlocalStorage.setItem(\"userPreferedLanguage\", event.target.value);\r\n\t};\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (this.props.languages !== nextProps.languages) {\r\n\t\t\tif (localStorage.getItem(\"userPreferedLanguage\")) {\r\n\t\t\t\tthis.props.getSingleLanguageData(localStorage.getItem(\"userPreferedLanguage\"));\r\n\t\t\t\t// console.log(\"Called 1\");\r\n\t\t\t} else {\r\n\t\t\t\tif (nextProps.languages.length) {\r\n\t\t\t\t\tconst id = nextProps.languages.filter((lang) => lang.is_default === 1)[0].id;\r\n\t\t\t\t\tthis.props.getSingleLanguageData(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{this.state.showGdpr && (\r\n\t\t\t\t\t<div className=\"fixed-gdpr\">\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t__html: localStorage.getItem(\"gdprMessage\"),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-sm ml-2\"\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: localStorage.getItem(\"storeColor\") }}\r\n\t\t\t\t\t\t\t\tonClick={this.handleGdprClick}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"gdprConfirmButton\")}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tseotitle={localStorage.getItem(\"seoMetaTitle\")}\r\n\t\t\t\t\tseodescription={localStorage.getItem(\"seoMetaDescription\")}\r\n\t\t\t\t\togtype=\"website\"\r\n\t\t\t\t\togtitle={localStorage.getItem(\"seoOgTitle\")}\r\n\t\t\t\t\togdescription={localStorage.getItem(\"seoOgDescription\")}\r\n\t\t\t\t\togurl={window.location.href}\r\n\t\t\t\t\ttwittertitle={localStorage.getItem(\"seoTwitterTitle\")}\r\n\t\t\t\t\ttwitterdescription={localStorage.getItem(\"seoTwitterDescription\")}\r\n\t\t\t\t/>\r\n\t\t\t\t<V1 languages={this.props.languages} handleOnChange={this.handleOnChange} />\r\n\t\t\t\t{/* {localStorage.getItem(\"desktopLayoutVersion\") === \"desktopV1\" && (\r\n\t\t\t\t\t<V1 languages={this.props.languages} handleOnChange={this.handleOnChange} />\r\n\t\t\t\t)}\r\n\t\t\t\t{localStorage.getItem(\"desktopLayoutVersion\") === \"desktopV2\" && <V2 />} */}\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tsettings: state.settings.settings,\r\n\tlanguages: state.languages.languages,\r\n\tlanguage: state.languages.language,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ getSettings, getSingleLanguageData }\r\n)(Desktop);\r\n"]},"metadata":{},"sourceType":"module"}