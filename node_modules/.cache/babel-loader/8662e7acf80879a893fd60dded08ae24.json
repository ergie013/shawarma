{"ast":null,"code":"import _classCallCheck from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/lampp/htdocs/shawarma/src/components/Mobile/Explore/index.js\";\nimport React, { Component } from \"react\";\nimport { clearSearch, searchRestaurants } from \"../../../services/searchRestaurants/actions\";\nimport Footer from \"../Footer\";\nimport ItemSearchList from \"./ItemSearchList\";\nimport Meta from \"../../helpers/meta\";\nimport { Redirect } from \"react-router\";\nimport RestaurantSearch from \"./RestaurantSearch\";\nimport RestaurantSearchList from \"./RestaurantSearchList\";\nimport { connect } from \"react-redux\";\nimport { debounce } from \"../../helpers/debounce\";\nimport ContentLoader from \"react-content-loader\";\n\nvar Explore =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Explore, _Component);\n\n  function Explore() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Explore);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Explore)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      queryLengthError: false,\n      loading: false,\n      showBgImage: true,\n      nothingFound: false\n    };\n    _this.handleRestaurantSearch = debounce(function (query) {\n      // call to searchRestaurants search API\n      if (query.length >= 3) {\n        _this.props.searchRestaurants(JSON.parse(localStorage.getItem(\"userSetAddress\")).lat, JSON.parse(localStorage.getItem(\"userSetAddress\")).lng, query);\n\n        _this.setState({\n          queryLengthError: false,\n          loading: true,\n          nothingFound: false\n        });\n      } else {\n        _this.setState({\n          queryLengthError: true\n        });\n      }\n    }, 400);\n    return _this;\n  }\n\n  _createClass(Explore, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (document.querySelectorAll(\"a[href='/explore']\")[0]) {\n        document.querySelectorAll(\"a[href='/explore']\")[0].classList.add(\"no-click\");\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // this.props.clearSearch();\n      if (document.querySelectorAll(\"a[href='/explore']\")[0]) {\n        document.querySelectorAll(\"a[href='/explore']\")[0].classList.remove(\"no-click\");\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.restaurants !== nextProps.restaurants) {\n        this.setState({\n          loading: false\n        });\n      } // console.log(nextProps.restaurants.restaurants.length);\n\n\n      if (nextProps.restaurants) {\n        if (nextProps.restaurants.restaurants.length === 0 && nextProps.restaurants.items.length === 0) {\n          this.setState({\n            showBgImage: true,\n            nothingFound: true\n          });\n        } else {\n          this.setState({\n            showBgImage: false,\n            nothingFound: false\n          });\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // console.log(\"Show BG Image:\", this.state.showBgImage);\n      if (window.innerWidth > 768) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        });\n      }\n\n      if (localStorage.getItem(\"storeColor\") === null) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Meta, {\n        seotitle: localStorage.getItem(\"seoMetaTitle\"),\n        seodescription: localStorage.getItem(\"seoMetaDescription\"),\n        ogtype: \"website\",\n        ogtitle: localStorage.getItem(\"seoOgTitle\"),\n        ogdescription: localStorage.getItem(\"seoOgDescription\"),\n        ogurl: window.location.href,\n        twittertitle: localStorage.getItem(\"seoTwitterTitle\"),\n        twitterdescription: localStorage.getItem(\"seoTwitterDescription\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), this.state.queryLengthError && React.createElement(\"div\", {\n        className: \"auth-error\",\n        style: {\n          marginBottom: \"4rem\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, localStorage.getItem(\"searchAtleastThreeCharsMsg\"))), React.createElement(RestaurantSearch, {\n        searchFunction: this.handleRestaurantSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), this.state.loading && React.createElement(ContentLoader, {\n        height: window.innerHeight,\n        width: window.innerWidth,\n        speed: 1.2,\n        primaryColor: \"#f3f3f3\",\n        secondaryColor: \"#ecebeb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"rect\", {\n        x: \"20\",\n        y: \"20\",\n        rx: \"4\",\n        ry: \"4\",\n        width: \"80\",\n        height: \"78\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"144\",\n        y: \"35\",\n        rx: \"0\",\n        ry: \"0\",\n        width: \"115\",\n        height: \"18\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"144\",\n        y: \"65\",\n        rx: \"0\",\n        ry: \"0\",\n        width: \"165\",\n        height: \"16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"20\",\n        y: \"145\",\n        rx: \"4\",\n        ry: \"4\",\n        width: \"80\",\n        height: \"78\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"144\",\n        y: \"160\",\n        rx: \"0\",\n        ry: \"0\",\n        width: \"115\",\n        height: \"18\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"144\",\n        y: \"190\",\n        rx: \"0\",\n        ry: \"0\",\n        width: \"165\",\n        height: \"16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"20\",\n        y: \"270\",\n        rx: \"4\",\n        ry: \"4\",\n        width: \"80\",\n        height: \"78\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"144\",\n        y: \"285\",\n        rx: \"0\",\n        ry: \"0\",\n        width: \"115\",\n        height: \"18\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"144\",\n        y: \"315\",\n        rx: \"0\",\n        ry: \"0\",\n        width: \"165\",\n        height: \"16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      })), this.props.restaurants.restaurants && this.props.restaurants.restaurants.length > 0 && React.createElement(RestaurantSearchList, {\n        restaurants: this.props.restaurants.restaurants,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), this.props.restaurants.items && this.props.restaurants.items.length > 0 && React.createElement(ItemSearchList, {\n        items: this.props.restaurants.items,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), this.state.showBgImage && React.createElement(\"div\", {\n        className: \"d-flex justify-content-center mt-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"img-fluid explore-bg\",\n        src: \"/assets/img/various/explore-bg.png\",\n        alt: localStorage.getItem(\"restaurantSearchPlaceholder\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      })), this.state.nothingFound && React.createElement(\"div\", {\n        className: \"auth-error\",\n        style: {\n          marginBottom: \"4rem\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"error-shake\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, localStorage.getItem(\"exploreNoResults\"))), React.createElement(Footer, {\n        active_explore: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Explore;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    restaurants: state.restaurants.restaurants\n  };\n};\n\nexport default connect(mapStateToProps, {\n  searchRestaurants: searchRestaurants,\n  clearSearch: clearSearch\n})(Explore);","map":{"version":3,"sources":["/opt/lampp/htdocs/shawarma/src/components/Mobile/Explore/index.js"],"names":["React","Component","clearSearch","searchRestaurants","Footer","ItemSearchList","Meta","Redirect","RestaurantSearch","RestaurantSearchList","connect","debounce","ContentLoader","Explore","state","queryLengthError","loading","showBgImage","nothingFound","handleRestaurantSearch","query","length","props","JSON","parse","localStorage","getItem","lat","lng","setState","document","querySelectorAll","classList","add","remove","nextProps","restaurants","items","window","innerWidth","location","href","marginBottom","innerHeight","mapStateToProps"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,iBAAtB,QAA+C,6CAA/C;AAEA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,oBAAP,MAAiC,wBAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,QAAyB,wBAAzB;AACA,OAAOC,aAAP,MAA0B,sBAA1B;;IAEMC,O;;;;;;;;;;;;;;;;;UACLC,K,GAAQ;AACPC,MAAAA,gBAAgB,EAAE,KADX;AAEPC,MAAAA,OAAO,EAAE,KAFF;AAGPC,MAAAA,WAAW,EAAE,IAHN;AAIPC,MAAAA,YAAY,EAAE;AAJP,K;UAORC,sB,GAAyBR,QAAQ,CAAC,UAACS,KAAD,EAAW;AAC5C;AACA,UAAIA,KAAK,CAACC,MAAN,IAAgB,CAApB,EAAuB;AACtB,cAAKC,KAAL,CAAWnB,iBAAX,CACCoB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAX,EAAmDC,GADpD,EAECJ,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAX,EAAmDE,GAFpD,EAGCR,KAHD;;AAKA,cAAKS,QAAL,CAAc;AACbd,UAAAA,gBAAgB,EAAE,KADL;AAEbC,UAAAA,OAAO,EAAE,IAFI;AAGbE,UAAAA,YAAY,EAAE;AAHD,SAAd;AAKA,OAXD,MAWO;AACN,cAAKW,QAAL,CAAc;AAAEd,UAAAA,gBAAgB,EAAE;AAApB,SAAd;AACA;AACD,KAhBgC,EAgB9B,GAhB8B,C;;;;;;wCAkBb;AACnB,UAAIe,QAAQ,CAACC,gBAAT,CAA0B,oBAA1B,EAAgD,CAAhD,CAAJ,EAAwD;AACvDD,QAAAA,QAAQ,CAACC,gBAAT,CAA0B,oBAA1B,EAAgD,CAAhD,EAAmDC,SAAnD,CAA6DC,GAA7D,CAAiE,UAAjE;AACA;AACD;;;2CACsB;AACtB;AACA,UAAIH,QAAQ,CAACC,gBAAT,CAA0B,oBAA1B,EAAgD,CAAhD,CAAJ,EAAwD;AACvDD,QAAAA,QAAQ,CAACC,gBAAT,CAA0B,oBAA1B,EAAgD,CAAhD,EAAmDC,SAAnD,CAA6DE,MAA7D,CAAoE,UAApE;AACA;AACD;;;8CAEyBC,S,EAAW;AACpC,UAAI,KAAKb,KAAL,CAAWc,WAAX,KAA2BD,SAAS,CAACC,WAAzC,EAAsD;AACrD,aAAKP,QAAL,CAAc;AAAEb,UAAAA,OAAO,EAAE;AAAX,SAAd;AACA,OAHmC,CAIpC;;;AAEA,UAAImB,SAAS,CAACC,WAAd,EAA2B;AAC1B,YAAID,SAAS,CAACC,WAAV,CAAsBA,WAAtB,CAAkCf,MAAlC,KAA6C,CAA7C,IAAkDc,SAAS,CAACC,WAAV,CAAsBC,KAAtB,CAA4BhB,MAA5B,KAAuC,CAA7F,EAAgG;AAC/F,eAAKQ,QAAL,CAAc;AAAEZ,YAAAA,WAAW,EAAE,IAAf;AAAqBC,YAAAA,YAAY,EAAE;AAAnC,WAAd;AACA,SAFD,MAEO;AACN,eAAKW,QAAL,CAAc;AAAEZ,YAAAA,WAAW,EAAE,KAAf;AAAsBC,YAAAA,YAAY,EAAE;AAApC,WAAd;AACA;AACD;AACD;;;6BACQ;AACR;AAEA,UAAIoB,MAAM,CAACC,UAAP,GAAoB,GAAxB,EAA6B;AAC5B,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACA;;AACD,UAAId,YAAY,CAACC,OAAb,CAAqB,YAArB,MAAuC,IAA3C,EAAiD;AAChD,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAE,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACA;;AACD,aACC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,IAAD;AACC,QAAA,QAAQ,EAAED,YAAY,CAACC,OAAb,CAAqB,cAArB,CADX;AAEC,QAAA,cAAc,EAAED,YAAY,CAACC,OAAb,CAAqB,oBAArB,CAFjB;AAGC,QAAA,MAAM,EAAC,SAHR;AAIC,QAAA,OAAO,EAAED,YAAY,CAACC,OAAb,CAAqB,YAArB,CAJV;AAKC,QAAA,aAAa,EAAED,YAAY,CAACC,OAAb,CAAqB,kBAArB,CALhB;AAMC,QAAA,KAAK,EAAEY,MAAM,CAACE,QAAP,CAAgBC,IANxB;AAOC,QAAA,YAAY,EAAEhB,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAPf;AAQC,QAAA,kBAAkB,EAAED,YAAY,CAACC,OAAb,CAAqB,uBAArB,CARrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAWE,KAAKZ,KAAL,CAAWC,gBAAX,IACA;AAAK,QAAA,SAAS,EAAC,YAAf;AAA4B,QAAA,KAAK,EAAE;AAAE2B,UAAAA,YAAY,EAAE;AAAhB,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmBjB,YAAY,CAACC,OAAb,CAAqB,4BAArB,CAAnB,CADD,CAZF,EAgBC,oBAAC,gBAAD;AAAkB,QAAA,cAAc,EAAE,KAAKP,sBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhBD,EAkBE,KAAKL,KAAL,CAAWE,OAAX,IACA,oBAAC,aAAD;AACC,QAAA,MAAM,EAAEsB,MAAM,CAACK,WADhB;AAEC,QAAA,KAAK,EAAEL,MAAM,CAACC,UAFf;AAGC,QAAA,KAAK,EAAE,GAHR;AAIC,QAAA,YAAY,EAAC,SAJd;AAKC,QAAA,cAAc,EAAC,SALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOC;AAAM,QAAA,CAAC,EAAC,IAAR;AAAa,QAAA,CAAC,EAAC,IAAf;AAAoB,QAAA,EAAE,EAAC,GAAvB;AAA2B,QAAA,EAAE,EAAC,GAA9B;AAAkC,QAAA,KAAK,EAAC,IAAxC;AAA6C,QAAA,MAAM,EAAC,IAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPD,EAQC;AAAM,QAAA,CAAC,EAAC,KAAR;AAAc,QAAA,CAAC,EAAC,IAAhB;AAAqB,QAAA,EAAE,EAAC,GAAxB;AAA4B,QAAA,EAAE,EAAC,GAA/B;AAAmC,QAAA,KAAK,EAAC,KAAzC;AAA+C,QAAA,MAAM,EAAC,IAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARD,EASC;AAAM,QAAA,CAAC,EAAC,KAAR;AAAc,QAAA,CAAC,EAAC,IAAhB;AAAqB,QAAA,EAAE,EAAC,GAAxB;AAA4B,QAAA,EAAE,EAAC,GAA/B;AAAmC,QAAA,KAAK,EAAC,KAAzC;AAA+C,QAAA,MAAM,EAAC,IAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATD,EAWC;AAAM,QAAA,CAAC,EAAC,IAAR;AAAa,QAAA,CAAC,EAAC,KAAf;AAAqB,QAAA,EAAE,EAAC,GAAxB;AAA4B,QAAA,EAAE,EAAC,GAA/B;AAAmC,QAAA,KAAK,EAAC,IAAzC;AAA8C,QAAA,MAAM,EAAC,IAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXD,EAYC;AAAM,QAAA,CAAC,EAAC,KAAR;AAAc,QAAA,CAAC,EAAC,KAAhB;AAAsB,QAAA,EAAE,EAAC,GAAzB;AAA6B,QAAA,EAAE,EAAC,GAAhC;AAAoC,QAAA,KAAK,EAAC,KAA1C;AAAgD,QAAA,MAAM,EAAC,IAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZD,EAaC;AAAM,QAAA,CAAC,EAAC,KAAR;AAAc,QAAA,CAAC,EAAC,KAAhB;AAAsB,QAAA,EAAE,EAAC,GAAzB;AAA6B,QAAA,EAAE,EAAC,GAAhC;AAAoC,QAAA,KAAK,EAAC,KAA1C;AAAgD,QAAA,MAAM,EAAC,IAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbD,EAeC;AAAM,QAAA,CAAC,EAAC,IAAR;AAAa,QAAA,CAAC,EAAC,KAAf;AAAqB,QAAA,EAAE,EAAC,GAAxB;AAA4B,QAAA,EAAE,EAAC,GAA/B;AAAmC,QAAA,KAAK,EAAC,IAAzC;AAA8C,QAAA,MAAM,EAAC,IAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAfD,EAgBC;AAAM,QAAA,CAAC,EAAC,KAAR;AAAc,QAAA,CAAC,EAAC,KAAhB;AAAsB,QAAA,EAAE,EAAC,GAAzB;AAA6B,QAAA,EAAE,EAAC,GAAhC;AAAoC,QAAA,KAAK,EAAC,KAA1C;AAAgD,QAAA,MAAM,EAAC,IAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhBD,EAiBC;AAAM,QAAA,CAAC,EAAC,KAAR;AAAc,QAAA,CAAC,EAAC,KAAhB;AAAsB,QAAA,EAAE,EAAC,GAAzB;AAA6B,QAAA,EAAE,EAAC,GAAhC;AAAoC,QAAA,KAAK,EAAC,KAA1C;AAAgD,QAAA,MAAM,EAAC,IAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAjBD,CAnBF,EAwCE,KAAKjB,KAAL,CAAWc,WAAX,CAAuBA,WAAvB,IAAsC,KAAKd,KAAL,CAAWc,WAAX,CAAuBA,WAAvB,CAAmCf,MAAnC,GAA4C,CAAlF,IACA,oBAAC,oBAAD;AAAsB,QAAA,WAAW,EAAE,KAAKC,KAAL,CAAWc,WAAX,CAAuBA,WAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAzCF,EA2CE,KAAKd,KAAL,CAAWc,WAAX,CAAuBC,KAAvB,IAAgC,KAAKf,KAAL,CAAWc,WAAX,CAAuBC,KAAvB,CAA6BhB,MAA7B,GAAsC,CAAtE,IACA,oBAAC,cAAD;AAAgB,QAAA,KAAK,EAAE,KAAKC,KAAL,CAAWc,WAAX,CAAuBC,KAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA5CF,EA+CE,KAAKvB,KAAL,CAAWG,WAAX,IACA;AAAK,QAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AACC,QAAA,SAAS,EAAC,sBADX;AAEC,QAAA,GAAG,EAAC,oCAFL;AAGC,QAAA,GAAG,EAAEQ,YAAY,CAACC,OAAb,CAAqB,6BAArB,CAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CAhDF,EAwDE,KAAKZ,KAAL,CAAWI,YAAX,IACA;AAAK,QAAA,SAAS,EAAC,YAAf;AAA4B,QAAA,KAAK,EAAE;AAAEwB,UAAAA,YAAY,EAAE;AAAhB,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA8BjB,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAA9B,CADD,CAzDF,EA8DC,oBAAC,MAAD;AAAQ,QAAA,cAAc,EAAE,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA9DD,CADD;AAkEA;;;;EA/HoBzB,S;;AAkItB,IAAM2C,eAAe,GAAG,SAAlBA,eAAkB,CAAC9B,KAAD;AAAA,SAAY;AACnCsB,IAAAA,WAAW,EAAEtB,KAAK,CAACsB,WAAN,CAAkBA;AADI,GAAZ;AAAA,CAAxB;;AAIA,eAAe1B,OAAO,CACrBkC,eADqB,EAErB;AAAEzC,EAAAA,iBAAiB,EAAjBA,iBAAF;AAAqBD,EAAAA,WAAW,EAAXA;AAArB,CAFqB,CAAP,CAGbW,OAHa,CAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { clearSearch, searchRestaurants } from \"../../../services/searchRestaurants/actions\";\r\n\r\nimport Footer from \"../Footer\";\r\nimport ItemSearchList from \"./ItemSearchList\";\r\nimport Meta from \"../../helpers/meta\";\r\nimport { Redirect } from \"react-router\";\r\nimport RestaurantSearch from \"./RestaurantSearch\";\r\nimport RestaurantSearchList from \"./RestaurantSearchList\";\r\nimport { connect } from \"react-redux\";\r\nimport { debounce } from \"../../helpers/debounce\";\r\nimport ContentLoader from \"react-content-loader\";\r\n\r\nclass Explore extends Component {\r\n\tstate = {\r\n\t\tqueryLengthError: false,\r\n\t\tloading: false,\r\n\t\tshowBgImage: true,\r\n\t\tnothingFound: false,\r\n\t};\r\n\r\n\thandleRestaurantSearch = debounce((query) => {\r\n\t\t// call to searchRestaurants search API\r\n\t\tif (query.length >= 3) {\r\n\t\t\tthis.props.searchRestaurants(\r\n\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\")).lat,\r\n\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\")).lng,\r\n\t\t\t\tquery\r\n\t\t\t);\r\n\t\t\tthis.setState({\r\n\t\t\t\tqueryLengthError: false,\r\n\t\t\t\tloading: true,\r\n\t\t\t\tnothingFound: false,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({ queryLengthError: true });\r\n\t\t}\r\n\t}, 400);\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (document.querySelectorAll(\"a[href='/explore']\")[0]) {\r\n\t\t\tdocument.querySelectorAll(\"a[href='/explore']\")[0].classList.add(\"no-click\");\r\n\t\t}\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\t// this.props.clearSearch();\r\n\t\tif (document.querySelectorAll(\"a[href='/explore']\")[0]) {\r\n\t\t\tdocument.querySelectorAll(\"a[href='/explore']\")[0].classList.remove(\"no-click\");\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (this.props.restaurants !== nextProps.restaurants) {\r\n\t\t\tthis.setState({ loading: false });\r\n\t\t}\r\n\t\t// console.log(nextProps.restaurants.restaurants.length);\r\n\r\n\t\tif (nextProps.restaurants) {\r\n\t\t\tif (nextProps.restaurants.restaurants.length === 0 && nextProps.restaurants.items.length === 0) {\r\n\t\t\t\tthis.setState({ showBgImage: true, nothingFound: true });\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({ showBgImage: false, nothingFound: false });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\t// console.log(\"Show BG Image:\", this.state.showBgImage);\r\n\r\n\t\tif (window.innerWidth > 768) {\r\n\t\t\treturn <Redirect to=\"/\" />;\r\n\t\t}\r\n\t\tif (localStorage.getItem(\"storeColor\") === null) {\r\n\t\t\treturn <Redirect to={\"/\"} />;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tseotitle={localStorage.getItem(\"seoMetaTitle\")}\r\n\t\t\t\t\tseodescription={localStorage.getItem(\"seoMetaDescription\")}\r\n\t\t\t\t\togtype=\"website\"\r\n\t\t\t\t\togtitle={localStorage.getItem(\"seoOgTitle\")}\r\n\t\t\t\t\togdescription={localStorage.getItem(\"seoOgDescription\")}\r\n\t\t\t\t\togurl={window.location.href}\r\n\t\t\t\t\ttwittertitle={localStorage.getItem(\"seoTwitterTitle\")}\r\n\t\t\t\t\ttwitterdescription={localStorage.getItem(\"seoTwitterDescription\")}\r\n\t\t\t\t/>\r\n\t\t\t\t{this.state.queryLengthError && (\r\n\t\t\t\t\t<div className=\"auth-error\" style={{ marginBottom: \"4rem\" }}>\r\n\t\t\t\t\t\t<div className=\"\">{localStorage.getItem(\"searchAtleastThreeCharsMsg\")}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<RestaurantSearch searchFunction={this.handleRestaurantSearch} />\r\n\r\n\t\t\t\t{this.state.loading && (\r\n\t\t\t\t\t<ContentLoader\r\n\t\t\t\t\t\theight={window.innerHeight}\r\n\t\t\t\t\t\twidth={window.innerWidth}\r\n\t\t\t\t\t\tspeed={1.2}\r\n\t\t\t\t\t\tprimaryColor=\"#f3f3f3\"\r\n\t\t\t\t\t\tsecondaryColor=\"#ecebeb\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<rect x=\"20\" y=\"20\" rx=\"4\" ry=\"4\" width=\"80\" height=\"78\" />\r\n\t\t\t\t\t\t<rect x=\"144\" y=\"35\" rx=\"0\" ry=\"0\" width=\"115\" height=\"18\" />\r\n\t\t\t\t\t\t<rect x=\"144\" y=\"65\" rx=\"0\" ry=\"0\" width=\"165\" height=\"16\" />\r\n\r\n\t\t\t\t\t\t<rect x=\"20\" y=\"145\" rx=\"4\" ry=\"4\" width=\"80\" height=\"78\" />\r\n\t\t\t\t\t\t<rect x=\"144\" y=\"160\" rx=\"0\" ry=\"0\" width=\"115\" height=\"18\" />\r\n\t\t\t\t\t\t<rect x=\"144\" y=\"190\" rx=\"0\" ry=\"0\" width=\"165\" height=\"16\" />\r\n\r\n\t\t\t\t\t\t<rect x=\"20\" y=\"270\" rx=\"4\" ry=\"4\" width=\"80\" height=\"78\" />\r\n\t\t\t\t\t\t<rect x=\"144\" y=\"285\" rx=\"0\" ry=\"0\" width=\"115\" height=\"18\" />\r\n\t\t\t\t\t\t<rect x=\"144\" y=\"315\" rx=\"0\" ry=\"0\" width=\"165\" height=\"16\" />\r\n\t\t\t\t\t</ContentLoader>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{this.props.restaurants.restaurants && this.props.restaurants.restaurants.length > 0 && (\r\n\t\t\t\t\t<RestaurantSearchList restaurants={this.props.restaurants.restaurants} />\r\n\t\t\t\t)}\r\n\t\t\t\t{this.props.restaurants.items && this.props.restaurants.items.length > 0 && (\r\n\t\t\t\t\t<ItemSearchList items={this.props.restaurants.items} />\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{this.state.showBgImage && (\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center mt-100\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"img-fluid explore-bg\"\r\n\t\t\t\t\t\t\tsrc=\"/assets/img/various/explore-bg.png\"\r\n\t\t\t\t\t\t\talt={localStorage.getItem(\"restaurantSearchPlaceholder\")}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.state.nothingFound && (\r\n\t\t\t\t\t<div className=\"auth-error\" style={{ marginBottom: \"4rem\" }}>\r\n\t\t\t\t\t\t<div className=\"error-shake\">{localStorage.getItem(\"exploreNoResults\")}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Footer active_explore={true} />\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\trestaurants: state.restaurants.restaurants,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ searchRestaurants, clearSearch }\r\n)(Explore);\r\n"]},"metadata":{},"sourceType":"module"}