{"ast":null,"code":"import { LOGIN_USER, REGISTER_USER, LOGOUT_USER, UPDATE_USER_INFO, SEND_OTP, VERIFY_OTP, RUNNING_ORDER, GET_WALLET_TRANSACTIONS, SEND_PASSWORD_RESET_EMAIL, VERIFY_PASSWORD_RESET_OTP, CHANGE_USER_PASSWORD } from \"./actionTypes\";\nimport { LOGIN_USER_URL, REGISTER_USER_URL, UPDATE_USER_INFO_URL, SEND_OTP_URL, VERIFY_OTP_URL, CHECK_USER_RUNNING_ORDER_URL, GET_WALLET_TRANSACTIONS_URL, SEND_PASSWORD_RESET_EMAIL_URL, VERIFY_PASSWORD_RESET_OTP_URL, CHANGE_USER_PASSWORD_URL, CHANGE_USER_AVATAR_URL, CHECK_BAN_URL } from \"../../configs\";\nimport Axios from \"axios\";\nexport var loginUser = function loginUser(name, email, password, accessToken, phone, provider, address) {\n  return function (dispatch) {\n    Axios.post(LOGIN_USER_URL, {\n      name: name,\n      email: email,\n      password: password,\n      accessToken: accessToken,\n      phone: phone,\n      provider: provider,\n      address: address\n    }).then(function (response) {\n      var user = response.data;\n      return dispatch({\n        type: LOGIN_USER,\n        payload: user\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var registerUser = function registerUser(name, email, phone, password, address) {\n  return function (dispatch) {\n    Axios.post(REGISTER_USER_URL, {\n      name: name,\n      email: email,\n      phone: phone,\n      password: password,\n      address: address\n    }).then(function (response) {\n      var user = response.data;\n      return dispatch({\n        type: REGISTER_USER,\n        payload: user\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var logoutUser = function logoutUser() {\n  return function (dispatch) {\n    var user = [];\n    var walletEmpty = []; //remove geoLocation and userSetAddress\n\n    localStorage.removeItem(\"userSetAddress\");\n    localStorage.removeItem(\"geoLocation\");\n    localStorage.removeItem(\"lastSavedNotificationToken\");\n    dispatch({\n      type: LOGOUT_USER,\n      payload: user\n    });\n    dispatch({\n      type: RUNNING_ORDER,\n      payload: false\n    });\n    dispatch({\n      type: GET_WALLET_TRANSACTIONS,\n      payload: walletEmpty\n    });\n  };\n};\nexport var updateUserInfo = function updateUserInfo(user_id, token, unique_order_id) {\n  return function (dispatch) {\n    return Axios.post(UPDATE_USER_INFO_URL, {\n      token: token,\n      user_id: user_id,\n      unique_order_id: unique_order_id\n    }).then(function (response) {\n      var user = response.data;\n      return dispatch({\n        type: UPDATE_USER_INFO,\n        payload: user\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var checkUserRunningOrder = function checkUserRunningOrder(user_id, token) {\n  return function (dispatch) {\n    Axios.post(CHECK_USER_RUNNING_ORDER_URL, {\n      token: token,\n      user_id: user_id\n    }).then(function (response) {\n      var running_order = response.data;\n      return dispatch({\n        type: RUNNING_ORDER,\n        payload: running_order\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var sendOtp = function sendOtp(email, phone, accessToken, provider) {\n  return function (dispatch) {\n    return Axios.post(SEND_OTP_URL, {\n      email: email,\n      phone: phone,\n      accessToken: accessToken,\n      provider: provider\n    }).then(function (response) {\n      var user = response.data;\n      return dispatch({\n        type: SEND_OTP,\n        payload: user\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var verifyOtp = function verifyOtp(phone, otp) {\n  return function (dispatch) {\n    Axios.post(VERIFY_OTP_URL, {\n      phone: phone,\n      otp: otp\n    }).then(function (response) {\n      var user = response.data;\n      return dispatch({\n        type: VERIFY_OTP,\n        payload: user\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var getWalletTransactions = function getWalletTransactions(token, user_id) {\n  return function (dispatch) {\n    Axios.post(GET_WALLET_TRANSACTIONS_URL, {\n      token: token,\n      user_id: user_id\n    }).then(function (response) {\n      var wallet = response.data;\n      return dispatch({\n        type: GET_WALLET_TRANSACTIONS,\n        payload: wallet\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var sendPasswordResetMail = function sendPasswordResetMail(email) {\n  return function (dispatch) {\n    Axios.post(SEND_PASSWORD_RESET_EMAIL_URL, {\n      email: email\n    }).then(function (response) {\n      var data = response.data;\n      return dispatch({\n        type: SEND_PASSWORD_RESET_EMAIL,\n        payload: data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var verifyPasswordResetOtp = function verifyPasswordResetOtp(email, code) {\n  return function (dispatch) {\n    Axios.post(VERIFY_PASSWORD_RESET_OTP_URL, {\n      email: email,\n      code: code\n    }).then(function (response) {\n      var data = response.data;\n      return dispatch({\n        type: VERIFY_PASSWORD_RESET_OTP,\n        payload: data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var changeUserPassword = function changeUserPassword(email, code, password) {\n  return function (dispatch) {\n    Axios.post(CHANGE_USER_PASSWORD_URL, {\n      email: email,\n      code: code,\n      password: password\n    }).then(function (response) {\n      var data = response.data;\n      return dispatch({\n        type: CHANGE_USER_PASSWORD,\n        payload: data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var changeAvatar = function changeAvatar(token, avatar) {\n  return function () {\n    return Axios.post(CHANGE_USER_AVATAR_URL, {\n      token: token,\n      avatar: avatar\n    }).then(function (response) {\n      var data = response.data;\n      return data;\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var checkBan = function checkBan(token) {\n  return function () {\n    return Axios.post(CHECK_BAN_URL, {\n      token: token\n    }).then(function (response) {\n      var data = response.data;\n      return data;\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};","map":{"version":3,"sources":["/opt/lampp/htdocs/shawarma/src/services/user/actions.js"],"names":["LOGIN_USER","REGISTER_USER","LOGOUT_USER","UPDATE_USER_INFO","SEND_OTP","VERIFY_OTP","RUNNING_ORDER","GET_WALLET_TRANSACTIONS","SEND_PASSWORD_RESET_EMAIL","VERIFY_PASSWORD_RESET_OTP","CHANGE_USER_PASSWORD","LOGIN_USER_URL","REGISTER_USER_URL","UPDATE_USER_INFO_URL","SEND_OTP_URL","VERIFY_OTP_URL","CHECK_USER_RUNNING_ORDER_URL","GET_WALLET_TRANSACTIONS_URL","SEND_PASSWORD_RESET_EMAIL_URL","VERIFY_PASSWORD_RESET_OTP_URL","CHANGE_USER_PASSWORD_URL","CHANGE_USER_AVATAR_URL","CHECK_BAN_URL","Axios","loginUser","name","email","password","accessToken","phone","provider","address","dispatch","post","then","response","user","data","type","payload","catch","error","console","log","registerUser","logoutUser","walletEmpty","localStorage","removeItem","updateUserInfo","user_id","token","unique_order_id","checkUserRunningOrder","running_order","sendOtp","verifyOtp","otp","getWalletTransactions","wallet","sendPasswordResetMail","verifyPasswordResetOtp","code","changeUserPassword","changeAvatar","avatar","checkBan"],"mappings":"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","sourcesContent":["import {\r\n\tLOGIN_USER,\r\n\tREGISTER_USER,\r\n\tLOGOUT_USER,\r\n\tUPDATE_USER_INFO,\r\n\tSEND_OTP,\r\n\tVERIFY_OTP,\r\n\tRUNNING_ORDER,\r\n\tGET_WALLET_TRANSACTIONS,\r\n\tSEND_PASSWORD_RESET_EMAIL,\r\n\tVERIFY_PASSWORD_RESET_OTP,\r\n\tCHANGE_USER_PASSWORD,\r\n} from \"./actionTypes\";\r\nimport {\r\n\tLOGIN_USER_URL,\r\n\tREGISTER_USER_URL,\r\n\tUPDATE_USER_INFO_URL,\r\n\tSEND_OTP_URL,\r\n\tVERIFY_OTP_URL,\r\n\tCHECK_USER_RUNNING_ORDER_URL,\r\n\tGET_WALLET_TRANSACTIONS_URL,\r\n\tSEND_PASSWORD_RESET_EMAIL_URL,\r\n\tVERIFY_PASSWORD_RESET_OTP_URL,\r\n\tCHANGE_USER_PASSWORD_URL,\r\n\tCHANGE_USER_AVATAR_URL,\r\n\tCHECK_BAN_URL\r\n} from \"../../configs\";\r\n\r\nimport Axios from \"axios\";\r\n\r\nexport const loginUser = (name, email, password, accessToken, phone, provider, address) => (dispatch) => {\r\n\tAxios.post(LOGIN_USER_URL, {\r\n\t\tname: name,\r\n\t\temail: email,\r\n\t\tpassword: password,\r\n\t\taccessToken: accessToken,\r\n\t\tphone: phone,\r\n\t\tprovider: provider,\r\n\t\taddress: address,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: LOGIN_USER, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const registerUser = (name, email, phone, password, address) => (dispatch) => {\r\n\tAxios.post(REGISTER_USER_URL, {\r\n\t\tname: name,\r\n\t\temail: email,\r\n\t\tphone: phone,\r\n\t\tpassword: password,\r\n\t\taddress: address,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: REGISTER_USER, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const logoutUser = () => (dispatch) => {\r\n\tconst user = [];\r\n\tconst walletEmpty = [];\r\n\r\n\t//remove geoLocation and userSetAddress\r\n\tlocalStorage.removeItem(\"userSetAddress\");\r\n\tlocalStorage.removeItem(\"geoLocation\");\r\n\tlocalStorage.removeItem(\"lastSavedNotificationToken\");\r\n\r\n\tdispatch({\r\n\t\ttype: LOGOUT_USER,\r\n\t\tpayload: user,\r\n\t});\r\n\tdispatch({\r\n\t\ttype: RUNNING_ORDER,\r\n\t\tpayload: false,\r\n\t});\r\n\tdispatch({\r\n\t\ttype: GET_WALLET_TRANSACTIONS,\r\n\t\tpayload: walletEmpty,\r\n\t});\r\n};\r\n\r\nexport const updateUserInfo = (user_id, token, unique_order_id) => (dispatch) => {\r\n\treturn Axios.post(UPDATE_USER_INFO_URL, {\r\n\t\ttoken: token,\r\n\t\tuser_id: user_id,\r\n\t\tunique_order_id: unique_order_id,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: UPDATE_USER_INFO, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const checkUserRunningOrder = (user_id, token) => (dispatch) => {\r\n\tAxios.post(CHECK_USER_RUNNING_ORDER_URL, {\r\n\t\ttoken: token,\r\n\t\tuser_id: user_id,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst running_order = response.data;\r\n\t\t\treturn dispatch({ type: RUNNING_ORDER, payload: running_order });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const sendOtp = (email, phone, accessToken, provider) => (dispatch) => {\r\n\treturn Axios.post(SEND_OTP_URL, {\r\n\t\temail: email,\r\n\t\tphone: phone,\r\n\t\taccessToken: accessToken,\r\n\t\tprovider: provider,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: SEND_OTP, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const verifyOtp = (phone, otp) => (dispatch) => {\r\n\tAxios.post(VERIFY_OTP_URL, {\r\n\t\tphone: phone,\r\n\t\totp: otp,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: VERIFY_OTP, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const getWalletTransactions = (token, user_id) => (dispatch) => {\r\n\tAxios.post(GET_WALLET_TRANSACTIONS_URL, {\r\n\t\ttoken: token,\r\n\t\tuser_id: user_id,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst wallet = response.data;\r\n\t\t\treturn dispatch({ type: GET_WALLET_TRANSACTIONS, payload: wallet });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const sendPasswordResetMail = (email) => (dispatch) => {\r\n\tAxios.post(SEND_PASSWORD_RESET_EMAIL_URL, {\r\n\t\temail: email,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst data = response.data;\r\n\t\t\treturn dispatch({ type: SEND_PASSWORD_RESET_EMAIL, payload: data });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const verifyPasswordResetOtp = (email, code) => (dispatch) => {\r\n\tAxios.post(VERIFY_PASSWORD_RESET_OTP_URL, {\r\n\t\temail: email,\r\n\t\tcode: code,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst data = response.data;\r\n\t\t\treturn dispatch({ type: VERIFY_PASSWORD_RESET_OTP, payload: data });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const changeUserPassword = (email, code, password) => (dispatch) => {\r\n\tAxios.post(CHANGE_USER_PASSWORD_URL, {\r\n\t\temail: email,\r\n\t\tcode: code,\r\n\t\tpassword: password,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst data = response.data;\r\n\t\t\treturn dispatch({ type: CHANGE_USER_PASSWORD, payload: data });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const changeAvatar = (token, avatar) => () => {\r\n\treturn Axios.post(CHANGE_USER_AVATAR_URL, {\r\n\t\ttoken: token,\r\n\t\tavatar: avatar,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst data = response.data;\r\n\t\t\treturn data;\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const checkBan = (token) => () => {\r\n\treturn Axios.post(CHECK_BAN_URL, {\r\n\t\ttoken: token,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst data = response.data;\r\n\t\t\treturn data;\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n"]},"metadata":{},"sourceType":"module"}