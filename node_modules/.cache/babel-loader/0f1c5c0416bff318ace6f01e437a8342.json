{"ast":null,"code":"import _defineProperty from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/opt/lampp/htdocs/shawarma/src/components/Mobile/Auth/Login/index.js\";\nimport React, { Component } from \"react\";\nimport { loginUser, registerUser, sendOtp, verifyOtp } from \"../../../../services/user/actions\";\nimport BackButton from \"../../Elements/BackButton\";\nimport ContentLoader from \"react-content-loader\";\nimport { NavLink } from \"react-router-dom\";\nimport { Redirect } from \"react-router\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport SocialButton from \"../SocialButton\";\nimport { connect } from \"react-redux\";\nimport { getSingleLanguageData } from \"../../../../services/languages/actions\";\nimport Loading from \"../../../helpers/loading\";\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this));\n    _this.state = {\n      loading: false,\n      email: \"\",\n      phone: \"\",\n      password: \"\",\n      otp: \"\",\n      accessToken: \"\",\n      provider: \"\",\n      error: false,\n      email_phone_already_used: false,\n      invalid_otp: false,\n      showResendOtp: false,\n      countdownStart: false,\n      countDownSeconds: 15,\n      email_pass_error: false\n    };\n\n    _this.handleInputChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.handleLogin = function (event) {\n      event.preventDefault();\n\n      if (_this.validator.fieldValid(\"email\") && _this.validator.fieldValid(\"password\")) {\n        _this.setState({\n          loading: true\n        });\n\n        _this.props.loginUser(null, _this.state.email, _this.state.password, null, null, null, JSON.parse(localStorage.getItem(\"userSetAddress\")));\n      } else {\n        console.log(\"validation failed\");\n\n        _this.validator.showMessages();\n      }\n    };\n\n    _this.handleRegisterAfterSocialLogin = function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        loading: true\n      });\n\n      if (_this.validator.fieldValid(\"phone\")) {\n        if (localStorage.getItem(\"enSOV\") === \"true\") {\n          //sending email and phone, first verify if not exists, then send OTP from the server\n          _this.props.sendOtp(_this.state.email, _this.state.phone, null).then(function (response) {\n            if (!response.payload.otp) {\n              _this.setState({\n                error: false\n              });\n            }\n          });\n        } else {\n          _this.props.loginUser(_this.state.name, _this.state.email, null, _this.state.accessToken, _this.state.phone, _this.state.provider, JSON.parse(localStorage.getItem(\"userSetAddress\")));\n        }\n      } else {\n        _this.setState({\n          loading: false\n        });\n\n        console.log(\"Validation Failed\");\n\n        _this.validator.showMessages();\n      }\n    };\n\n    _this.resendOtp = function () {\n      if (_this.validator.fieldValid(\"phone\")) {\n        _this.setState({\n          countDownSeconds: 15,\n          showResendOtp: false\n        });\n\n        _this.props.sendOtp(_this.state.email, _this.state.phone, null).then(function (response) {\n          if (!response.payload.otp) {\n            _this.setState({\n              error: false\n            });\n          }\n        });\n      }\n    };\n\n    _this.handleVerifyOtp = function (event) {\n      event.preventDefault();\n      console.log(\"verify otp clicked\");\n\n      if (_this.validator.fieldValid(\"otp\")) {\n        _this.setState({\n          loading: true\n        });\n\n        _this.props.verifyOtp(_this.state.phone, _this.state.otp);\n      }\n    };\n\n    _this.handleOnChange = function (event) {\n      // console.log(event.target.value);\n      _this.props.getSingleLanguageData(event.target.value);\n\n      localStorage.setItem(\"userPreferedLanguage\", event.target.value);\n    };\n\n    _this.handleSocialLogin = function (user) {\n      //if otp verification is enabled\n      if (localStorage.getItem(\"enSOV\") === \"true\") {\n        //save user data in state\n        _this.setState({\n          name: user._profile.name,\n          email: user._profile.email,\n          accessToken: user._token.accessToken,\n          provider: user._provider,\n          social_login: true,\n          loading: true\n        }); //request for OTP, send accessToken, if email exists in db, user will login\n\n\n        _this.props.sendOtp(user._profile.email, null, user._token.accessToken, user._provider).then(function (response) {\n          if (!response.payload.otp) {\n            _this.setState({\n              error: false\n            });\n          }\n        });\n      } else {\n        //call to new api to check if phone number present\n        //if record phone number present, then login,\n        //else show enter phone number\n        _this.setState({\n          name: user._profile.name,\n          email: user._profile.email,\n          accessToken: user._token.accessToken,\n          provider: user._provider,\n          social_login: true,\n          loading: true\n        });\n\n        _this.props.loginUser(user._profile.name, user._profile.email, null, user._token.accessToken, null, user._provider, JSON.parse(localStorage.getItem(\"userSetAddress\")));\n      }\n    };\n\n    _this.handleSocialLoginFailure = function (err) {\n      // this.setState({ error: true });\n      console.log(\"Social Login Error\", err);\n    };\n\n    _this.handleCountDown = function () {\n      setTimeout(function () {\n        _this.setState({\n          showResendOtp: true\n        });\n\n        clearInterval(_this.intervalID);\n      }, 15000 + 1000);\n      _this.intervalID = setInterval(function () {\n        console.log(\"interval going on\");\n\n        _this.setState({\n          countDownSeconds: _this.state.countDownSeconds - 1\n        });\n      }, 1000);\n    };\n\n    _this.validator = new SimpleReactValidator({\n      autoForceUpdate: _assertThisInitialized(_assertThisInitialized(_this)),\n      messages: {\n        required: localStorage.getItem(\"fieldValidationMsg\"),\n        email: localStorage.getItem(\"emailValidationMsg\"),\n        regex: localStorage.getItem(\"phoneValidationMsg\")\n      }\n    });\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (localStorage.getItem(\"enableFacebookLogin\") === \"false\" && localStorage.getItem(\"enableGoogleLogin\") === \"false\") {\n        if (document.getElementById(\"socialLoginDiv\")) {\n          document.getElementById(\"socialLoginDiv\").classList.add(\"hidden\");\n        }\n      }\n\n      if (localStorage.getItem(\"enableFacebookLogin\") === \"true\" || localStorage.getItem(\"enableGoogleLogin\") === \"true\") {\n        setTimeout(function () {\n          if (_this2.refs.socialLogin) {\n            _this2.refs.socialLogin.classList.remove(\"hidden\");\n          }\n\n          if (_this2.refs.socialLoginLoader) {\n            _this2.refs.socialLoginLoader.classList.add(\"hidden\");\n          }\n        }, 0.5 * 1000);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var user = this.props.user;\n\n      if (user !== nextProps.user) {\n        this.setState({\n          loading: false\n        });\n      }\n\n      if (nextProps.user.success) {\n        if (nextProps.user.data.default_address !== null) {\n          var userSetAddress = {\n            lat: nextProps.user.data.default_address.latitude,\n            lng: nextProps.user.data.default_address.longitude,\n            address: nextProps.user.data.default_address.address,\n            house: nextProps.user.data.default_address.house,\n            tag: nextProps.user.data.default_address.tag\n          };\n          localStorage.setItem(\"userSetAddress\", JSON.stringify(userSetAddress));\n        } // this.context.router.history.goBack();\n\n      }\n\n      if (nextProps.user.email_phone_already_used) {\n        this.setState({\n          email_phone_already_used: true\n        });\n      }\n\n      if (nextProps.user.otp) {\n        this.setState({\n          email_phone_already_used: false,\n          error: false\n        }); //otp sent, hide reg form and show otp form\n\n        document.getElementById(\"loginForm\").classList.add(\"hidden\");\n        document.getElementById(\"socialLoginDiv\").classList.add(\"hidden\");\n        document.getElementById(\"phoneFormAfterSocialLogin\").classList.add(\"hidden\");\n        document.getElementById(\"otpForm\").classList.remove(\"hidden\"); //start countdown\n\n        this.setState({\n          countdownStart: true\n        });\n        this.handleCountDown();\n        this.validator.hideMessages();\n      }\n\n      if (nextProps.user.valid_otp) {\n        this.setState({\n          invalid_otp: false,\n          error: false,\n          loading: true\n        }); // register user\n\n        if (this.state.social_login) {\n          this.props.loginUser(this.state.name, this.state.email, null, this.state.accessToken, this.state.phone, this.state.provider, JSON.parse(localStorage.getItem(\"userSetAddress\")));\n        } else {\n          this.props.registerUser(this.state.name, this.state.email, this.state.phone, this.state.password, JSON.parse(localStorage.getItem(\"userSetAddress\")));\n        }\n\n        console.log(\"VALID OTP, REG USER NOW\"); // this.setState({ loading: false });\n      }\n\n      if (nextProps.user.valid_otp === false) {\n        console.log(\"Invalid OTP\");\n        this.setState({\n          invalid_otp: true\n        });\n      }\n\n      if (!nextProps.user) {\n        this.setState({\n          error: true\n        });\n      } //old user, proceed to login after social login\n\n\n      if (nextProps.user.proceed_login) {\n        this.setState({\n          loading: true\n        });\n        console.log(\"From Social : user already exists\");\n        this.props.loginUser(this.state.name, this.state.email, null, this.state.accessToken, null, this.state.provider, JSON.parse(localStorage.getItem(\"userSetAddress\")));\n      }\n\n      if (nextProps.user.enter_phone_after_social_login) {\n        this.validator.hideMessages();\n        document.getElementById(\"loginForm\").classList.add(\"hidden\");\n        document.getElementById(\"socialLoginDiv\").classList.add(\"hidden\");\n        document.getElementById(\"phoneFormAfterSocialLogin\").classList.remove(\"hidden\"); // populate name & email\n\n        console.log(\"ask to fill the phone number and send otp process...\");\n      }\n\n      if (nextProps.user.data === \"DONOTMATCH\") {\n        //email and pass donot match\n        this.setState({\n          error: false,\n          email_pass_error: true\n        });\n      }\n\n      if (this.props.languages !== nextProps.languages) {\n        if (localStorage.getItem(\"userPreferedLanguage\")) {\n          this.props.getSingleLanguageData(localStorage.getItem(\"userPreferedLanguage\"));\n        } else {\n          if (nextProps.languages.length) {\n            console.log(\"Fetching Translation Data...\");\n            var id = nextProps.languages.filter(function (lang) {\n              return lang.is_default === 1;\n            })[0].id;\n            this.props.getSingleLanguageData(id);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      //clear countdown\n      console.log(\"Countdown cleared\");\n      clearInterval(this.intervalID);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // console.log(\"Langugaes\", this.props.languages);\n      if (window.innerWidth > 768) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335\n          },\n          __self: this\n        });\n      }\n\n      if (localStorage.getItem(\"storeColor\") === null) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 338\n          },\n          __self: this\n        });\n      }\n\n      var user = this.props.user;\n\n      if (user.success) {\n        return (//redirect to account page\n          React.createElement(Redirect, {\n            to: \"/my-account\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 344\n            },\n            __self: this\n          })\n        );\n      } // const languages = JSON.parse(localStorage.getItem(\"state\")).languages;\n      // const languages = this.props.language;\n      // console.log(languages);\n\n\n      var languages = this.props.languages;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      }, this.state.error && React.createElement(\"div\", {\n        className: \"auth-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"error-shake\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }, localStorage.getItem(\"loginErrorMessage\"))), this.state.email_phone_already_used && React.createElement(\"div\", {\n        className: \"auth-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"error-shake\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, localStorage.getItem(\"emailPhoneAlreadyRegistered\"))), this.state.invalid_otp && React.createElement(\"div\", {\n        className: \"auth-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"error-shake\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, localStorage.getItem(\"invalidOtpMsg\"))), this.state.email_pass_error && React.createElement(\"div\", {\n        className: \"auth-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"error-shake\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      }, localStorage.getItem(\"emailPassDonotMatch\"))), this.state.loading && React.createElement(Loading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          backgroundColor: \"#f2f4f9\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380\n        },\n        __self: this\n      }, React.createElement(BackButton, {\n        history: this.props.history,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      }))), React.createElement(\"img\", {\n        src: \"/assets/img/login-head.png\",\n        className: \"login-image pull-right mr-15\",\n        alt: \"login-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"login-texts px-15 mt-50 pb-20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"login-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390\n        },\n        __self: this\n      }, localStorage.getItem(\"loginLoginTitle\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"login-subtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }, localStorage.getItem(\"loginLoginSubTitle\")))), React.createElement(\"div\", {\n        className: \"bg-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleLogin,\n        id: \"loginForm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group px-15 pt-30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-12 edit-address-input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398\n        },\n        __self: this\n      }, localStorage.getItem(\"loginLoginEmailLabel\"), \" \", this.validator.message(\"email\", this.state.email, \"required|email\")), React.createElement(\"div\", {\n        className: \"col-md-9 pb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"email\",\n        onChange: this.handleInputChange,\n        className: \"form-control edit-address-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        className: \"col-12 edit-address-input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410\n        },\n        __self: this\n      }, localStorage.getItem(\"loginLoginPasswordLabel\"), \" \", this.validator.message(\"password\", this.state.password, \"required\")), React.createElement(\"div\", {\n        className: \"col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        onChange: this.handleInputChange,\n        className: \"form-control edit-address-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"mt-20 px-15 pt-15 button-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-main\",\n        style: {\n          backgroundColor: localStorage.getItem(\"storeColor\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424\n        },\n        __self: this\n      }, localStorage.getItem(\"loginLoginTitle\")))), React.createElement(\"form\", {\n        onSubmit: this.handleVerifyOtp,\n        id: \"otpForm\",\n        className: \"hidden\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group px-15 pt-30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-12 edit-address-input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, localStorage.getItem(\"otpSentMsg\"), \" \", this.state.phone, this.validator.message(\"otp\", this.state.otp, \"required|numeric|min:4|max:6\")), React.createElement(\"div\", {\n        className: \"col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"otp\",\n        type: \"tel\",\n        onChange: this.handleInputChange,\n        className: \"form-control edit-address-input\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-main\",\n        style: {\n          backgroundColor: localStorage.getItem(\"storeColor\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451\n        },\n        __self: this\n      }, \"asdasd\"), React.createElement(\"div\", {\n        className: \"mt-30 mb-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462\n        },\n        __self: this\n      }, this.state.showResendOtp && React.createElement(\"div\", {\n        className: \"resend-otp\",\n        onClick: this.resendOtp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464\n        },\n        __self: this\n      }, localStorage.getItem(\"resendOtpMsg\"), \" \", this.state.phone), this.state.countDownSeconds > 0 && React.createElement(\"div\", {\n        className: \"resend-otp countdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      }, localStorage.getItem(\"resendOtpCountdownMsg\"), \" \", this.state.countDownSeconds)))), React.createElement(\"form\", {\n        onSubmit: this.handleRegisterAfterSocialLogin,\n        id: \"phoneFormAfterSocialLogin\",\n        className: \"hidden\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group px-15 pt-30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-12 edit-address-input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483\n        },\n        __self: this\n      }, localStorage.getItem(\"socialWelcomeText\"), \" \", this.state.name, \",\"), React.createElement(\"label\", {\n        className: \"col-12 edit-address-input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486\n        },\n        __self: this\n      }, localStorage.getItem(\"enterPhoneToVerify\"), \" \", this.validator.message(\"phone\", this.state.phone, [\"required\", {\n        regex: [\"^\\\\+[1-9]\\\\d{1,14}$\"]\n      }, {\n        min: [\"8\"]\n      }])), React.createElement(\"div\", {\n        className: \"col-md-9 pb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        defaultValue: localStorage.getItem(\"phoneCountryCode\") === null ? \"\" : localStorage.getItem(\"phoneCountryCode\"),\n        name: \"phone\",\n        type: \"tel\",\n        onChange: this.handleInputChange,\n        className: \"form-control edit-address-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-main\",\n        style: {\n          backgroundColor: localStorage.getItem(\"storeColor\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507\n        },\n        __self: this\n      }, localStorage.getItem(\"registerRegisterTitle\")))), React.createElement(\"div\", {\n        className: \"text-center mt-3 mb-20\",\n        id: \"socialLoginDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 518\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"login-or mt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 519\n        },\n        __self: this\n      }, localStorage.getItem(\"socialLoginOrText\")), React.createElement(\"div\", {\n        ref: \"socialLoginLoader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 520\n        },\n        __self: this\n      }, React.createElement(ContentLoader, {\n        height: 60,\n        width: 400,\n        speed: 1.2,\n        primaryColor: \"#f3f3f3\",\n        secondaryColor: \"#ecebeb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 521\n        },\n        __self: this\n      }, React.createElement(\"rect\", {\n        x: \"28\",\n        y: \"0\",\n        rx: \"0\",\n        ry: \"0\",\n        width: \"165\",\n        height: \"45\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 528\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"210\",\n        y: \"0\",\n        rx: \"0\",\n        ry: \"0\",\n        width: \"165\",\n        height: \"45\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 529\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        ref: \"socialLogin\",\n        className: \"hidden d-flex justify-content-center align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 532\n        },\n        __self: this\n      }, localStorage.getItem(\"enableFacebookLogin\") === \"true\" && React.createElement(SocialButton, {\n        provider: \"facebook\",\n        appId: localStorage.getItem(\"facebookAppId\"),\n        onLoginSuccess: this.handleSocialLogin,\n        onLoginFailure: this.handleSocialLoginFailure,\n        className: \"facebook-login-button mr-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 534\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex justify-content-between align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 541\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 542\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/assets/img/various/facebook.png\",\n        alt: \"Facebook Login\",\n        className: \"img-fluid\",\n        style: {\n          width: \"18px\",\n          marginRight: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 543\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: {\n          fontSize: \"14px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 550\n        },\n        __self: this\n      }, localStorage.getItem(\"facebookLoginButtonText\")))), localStorage.getItem(\"enableGoogleLogin\") === \"true\" && React.createElement(SocialButton, {\n        provider: \"google\",\n        appId: localStorage.getItem(\"googleAppId\"),\n        onLoginSuccess: this.handleSocialLogin,\n        onLoginFailure: this.handleSocialLoginFailure,\n        className: \"google-login-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 557\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex justify-content-between align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 564\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/assets/img/various/google.png\",\n        alt: \"Google Login\",\n        className: \"img-fluid\",\n        style: {\n          width: \"18px\",\n          marginRight: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 566\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: {\n          fontSize: \"14px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 573\n        },\n        __self: this\n      }, localStorage.getItem(\"googleLoginButtonText\")))))), React.createElement(\"div\", {\n        className: \"text-center mt-50 mb-20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 581\n        },\n        __self: this\n      }, localStorage.getItem(\"loginDontHaveAccount\"), \" \", React.createElement(NavLink, {\n        to: \"/register\",\n        style: {\n          color: localStorage.getItem(\"storeColor\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 583\n        },\n        __self: this\n      }, localStorage.getItem(\"firstScreenRegisterBtn\")))), localStorage.getItem(\"enPassResetEmail\") === \"true\" && React.createElement(\"div\", {\n        className: \"mt-4 d-flex align-items-center justify-content-center mb-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 594\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/login/forgot-password\",\n        style: {\n          color: localStorage.getItem(\"storeColor\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 595\n        },\n        __self: this\n      }, localStorage.getItem(\"forgotPasswordLinkText\"))), localStorage.getItem(\"registrationPolicyMessage\") !== \"null\" && React.createElement(\"div\", {\n        className: \"mt-20 mb-20 d-flex align-items-center justify-content-center\",\n        dangerouslySetInnerHTML: {\n          __html: localStorage.getItem(\"registrationPolicyMessage\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 607\n        },\n        __self: this\n      }), languages && languages.length > 1 && React.createElement(\"div\", {\n        className: \"mt-4 d-flex align-items-center justify-content-center mb-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 616\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 617\n        },\n        __self: this\n      }, localStorage.getItem(\"changeLanguageText\")), React.createElement(\"select\", {\n        onChange: this.handleOnChange,\n        defaultValue: localStorage.getItem(\"userPreferedLanguage\") ? localStorage.getItem(\"userPreferedLanguage\") : languages.filter(function (lang) {\n          return lang.is_default === 1;\n        })[0].id,\n        className: \"form-control language-select\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 618\n        },\n        __self: this\n      }, languages.map(function (language) {\n        return React.createElement(\"option\", {\n          value: language.id,\n          key: language.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 628\n          },\n          __self: this\n        }, language.language_name);\n      }))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nLogin.contextTypes = {\n  router: function router() {\n    return null;\n  }\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user.user,\n    language: state.languages.language,\n    languages: state.languages.languages\n  };\n};\n\nexport default connect(mapStateToProps, {\n  loginUser: loginUser,\n  registerUser: registerUser,\n  sendOtp: sendOtp,\n  verifyOtp: verifyOtp,\n  getSingleLanguageData: getSingleLanguageData\n})(Login);","map":{"version":3,"sources":["/opt/lampp/htdocs/shawarma/src/components/Mobile/Auth/Login/index.js"],"names":["React","Component","loginUser","registerUser","sendOtp","verifyOtp","BackButton","ContentLoader","NavLink","Redirect","SimpleReactValidator","SocialButton","connect","getSingleLanguageData","Loading","Login","state","loading","email","phone","password","otp","accessToken","provider","error","email_phone_already_used","invalid_otp","showResendOtp","countdownStart","countDownSeconds","email_pass_error","handleInputChange","event","setState","target","name","value","handleLogin","preventDefault","validator","fieldValid","props","JSON","parse","localStorage","getItem","console","log","showMessages","handleRegisterAfterSocialLogin","then","response","payload","resendOtp","handleVerifyOtp","handleOnChange","setItem","handleSocialLogin","user","_profile","_token","_provider","social_login","handleSocialLoginFailure","err","handleCountDown","setTimeout","clearInterval","intervalID","setInterval","autoForceUpdate","messages","required","regex","document","getElementById","classList","add","refs","socialLogin","remove","socialLoginLoader","nextProps","success","data","default_address","userSetAddress","lat","latitude","lng","longitude","address","house","tag","stringify","hideMessages","valid_otp","proceed_login","enter_phone_after_social_login","languages","length","id","filter","lang","is_default","window","innerWidth","backgroundColor","history","message","min","width","marginRight","fontSize","color","__html","map","language","language_name","contextTypes","router","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { loginUser, registerUser, sendOtp, verifyOtp } from \"../../../../services/user/actions\";\r\n\r\nimport BackButton from \"../../Elements/BackButton\";\r\nimport ContentLoader from \"react-content-loader\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Redirect } from \"react-router\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport SocialButton from \"../SocialButton\";\r\nimport { connect } from \"react-redux\";\r\nimport { getSingleLanguageData } from \"../../../../services/languages/actions\";\r\nimport Loading from \"../../../helpers/loading\";\r\n\r\nclass Login extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.validator = new SimpleReactValidator({\r\n\t\t\tautoForceUpdate: this,\r\n\t\t\tmessages: {\r\n\t\t\t\trequired: localStorage.getItem(\"fieldValidationMsg\"),\r\n\t\t\t\temail: localStorage.getItem(\"emailValidationMsg\"),\r\n\t\t\t\tregex: localStorage.getItem(\"phoneValidationMsg\"),\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tstate = {\r\n\t\tloading: false,\r\n\t\temail: \"\",\r\n\t\tphone: \"\",\r\n\t\tpassword: \"\",\r\n\t\totp: \"\",\r\n\t\taccessToken: \"\",\r\n\t\tprovider: \"\",\r\n\t\terror: false,\r\n\t\temail_phone_already_used: false,\r\n\t\tinvalid_otp: false,\r\n\t\tshowResendOtp: false,\r\n\t\tcountdownStart: false,\r\n\t\tcountDownSeconds: 15,\r\n\t\temail_pass_error: false,\r\n\t};\r\n\r\n\tstatic contextTypes = {\r\n\t\trouter: () => null,\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (\r\n\t\t\tlocalStorage.getItem(\"enableFacebookLogin\") === \"false\" &&\r\n\t\t\tlocalStorage.getItem(\"enableGoogleLogin\") === \"false\"\r\n\t\t) {\r\n\t\t\tif (document.getElementById(\"socialLoginDiv\")) {\r\n\t\t\t\tdocument.getElementById(\"socialLoginDiv\").classList.add(\"hidden\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\tlocalStorage.getItem(\"enableFacebookLogin\") === \"true\" ||\r\n\t\t\tlocalStorage.getItem(\"enableGoogleLogin\") === \"true\"\r\n\t\t) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tif (this.refs.socialLogin) {\r\n\t\t\t\t\tthis.refs.socialLogin.classList.remove(\"hidden\");\r\n\t\t\t\t}\r\n\t\t\t\tif (this.refs.socialLoginLoader) {\r\n\t\t\t\t\tthis.refs.socialLoginLoader.classList.add(\"hidden\");\r\n\t\t\t\t}\r\n\t\t\t}, 0.5 * 1000);\r\n\t\t}\r\n\t}\r\n\r\n\thandleInputChange = (event) => {\r\n\t\tthis.setState({ [event.target.name]: event.target.value });\r\n\t};\r\n\r\n\thandleLogin = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tif (this.validator.fieldValid(\"email\") && this.validator.fieldValid(\"password\")) {\r\n\t\t\tthis.setState({ loading: true });\r\n\t\t\tthis.props.loginUser(\r\n\t\t\t\tnull,\r\n\t\t\t\tthis.state.email,\r\n\t\t\t\tthis.state.password,\r\n\t\t\t\tnull,\r\n\t\t\t\tnull,\r\n\t\t\t\tnull,\r\n\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\"))\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tconsole.log(\"validation failed\");\r\n\t\t\tthis.validator.showMessages();\r\n\t\t}\r\n\t};\r\n\r\n\thandleRegisterAfterSocialLogin = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.setState({ loading: true });\r\n\t\tif (this.validator.fieldValid(\"phone\")) {\r\n\t\t\tif (localStorage.getItem(\"enSOV\") === \"true\") {\r\n\t\t\t\t//sending email and phone, first verify if not exists, then send OTP from the server\r\n\t\t\t\tthis.props.sendOtp(this.state.email, this.state.phone, null).then((response) => {\r\n\t\t\t\t\tif (!response.payload.otp) {\r\n\t\t\t\t\t\tthis.setState({ error: false });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.loginUser(\r\n\t\t\t\t\tthis.state.name,\r\n\t\t\t\t\tthis.state.email,\r\n\t\t\t\t\tnull,\r\n\t\t\t\t\tthis.state.accessToken,\r\n\t\t\t\t\tthis.state.phone,\r\n\t\t\t\t\tthis.state.provider,\r\n\t\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\"))\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.setState({ loading: false });\r\n\t\t\tconsole.log(\"Validation Failed\");\r\n\t\t\tthis.validator.showMessages();\r\n\t\t}\r\n\t};\r\n\r\n\tresendOtp = () => {\r\n\t\tif (this.validator.fieldValid(\"phone\")) {\r\n\t\t\tthis.setState({ countDownSeconds: 15, showResendOtp: false });\r\n\t\t\tthis.props.sendOtp(this.state.email, this.state.phone, null).then((response) => {\r\n\t\t\t\tif (!response.payload.otp) {\r\n\t\t\t\t\tthis.setState({ error: false });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\thandleVerifyOtp = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconsole.log(\"verify otp clicked\");\r\n\t\tif (this.validator.fieldValid(\"otp\")) {\r\n\t\t\tthis.setState({ loading: true });\r\n\t\t\tthis.props.verifyOtp(this.state.phone, this.state.otp);\r\n\t\t}\r\n\t};\r\n\r\n\thandleOnChange = (event) => {\r\n\t\t// console.log(event.target.value);\r\n\t\tthis.props.getSingleLanguageData(event.target.value);\r\n\t\tlocalStorage.setItem(\"userPreferedLanguage\", event.target.value);\r\n\t};\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tconst { user } = this.props;\r\n\t\tif (user !== nextProps.user) {\r\n\t\t\tthis.setState({ loading: false });\r\n\t\t}\r\n\t\tif (nextProps.user.success) {\r\n\t\t\tif (nextProps.user.data.default_address !== null) {\r\n\t\t\t\tconst userSetAddress = {\r\n\t\t\t\t\tlat: nextProps.user.data.default_address.latitude,\r\n\t\t\t\t\tlng: nextProps.user.data.default_address.longitude,\r\n\t\t\t\t\taddress: nextProps.user.data.default_address.address,\r\n\t\t\t\t\thouse: nextProps.user.data.default_address.house,\r\n\t\t\t\t\ttag: nextProps.user.data.default_address.tag,\r\n\t\t\t\t};\r\n\t\t\t\tlocalStorage.setItem(\"userSetAddress\", JSON.stringify(userSetAddress));\r\n\t\t\t}\r\n\t\t\t// this.context.router.history.goBack();\r\n\t\t}\r\n\t\tif (nextProps.user.email_phone_already_used) {\r\n\t\t\tthis.setState({ email_phone_already_used: true });\r\n\t\t}\r\n\t\tif (nextProps.user.otp) {\r\n\t\t\tthis.setState({ email_phone_already_used: false, error: false });\r\n\t\t\t//otp sent, hide reg form and show otp form\r\n\t\t\tdocument.getElementById(\"loginForm\").classList.add(\"hidden\");\r\n\t\t\tdocument.getElementById(\"socialLoginDiv\").classList.add(\"hidden\");\r\n\t\t\tdocument.getElementById(\"phoneFormAfterSocialLogin\").classList.add(\"hidden\");\r\n\t\t\tdocument.getElementById(\"otpForm\").classList.remove(\"hidden\");\r\n\r\n\t\t\t//start countdown\r\n\t\t\tthis.setState({ countdownStart: true });\r\n\t\t\tthis.handleCountDown();\r\n\t\t\tthis.validator.hideMessages();\r\n\t\t}\r\n\r\n\t\tif (nextProps.user.valid_otp) {\r\n\t\t\tthis.setState({ invalid_otp: false, error: false, loading: true });\r\n\t\t\t// register user\r\n\t\t\tif (this.state.social_login) {\r\n\t\t\t\tthis.props.loginUser(\r\n\t\t\t\t\tthis.state.name,\r\n\t\t\t\t\tthis.state.email,\r\n\t\t\t\t\tnull,\r\n\t\t\t\t\tthis.state.accessToken,\r\n\t\t\t\t\tthis.state.phone,\r\n\t\t\t\t\tthis.state.provider,\r\n\t\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\"))\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.registerUser(\r\n\t\t\t\t\tthis.state.name,\r\n\t\t\t\t\tthis.state.email,\r\n\t\t\t\t\tthis.state.phone,\r\n\t\t\t\t\tthis.state.password,\r\n\t\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\"))\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log(\"VALID OTP, REG USER NOW\");\r\n\t\t\t// this.setState({ loading: false });\r\n\t\t}\r\n\r\n\t\tif (nextProps.user.valid_otp === false) {\r\n\t\t\tconsole.log(\"Invalid OTP\");\r\n\t\t\tthis.setState({ invalid_otp: true });\r\n\t\t}\r\n\r\n\t\tif (!nextProps.user) {\r\n\t\t\tthis.setState({ error: true });\r\n\t\t}\r\n\r\n\t\t//old user, proceed to login after social login\r\n\t\tif (nextProps.user.proceed_login) {\r\n\t\t\tthis.setState({ loading: true });\r\n\t\t\tconsole.log(\"From Social : user already exists\");\r\n\t\t\tthis.props.loginUser(\r\n\t\t\t\tthis.state.name,\r\n\t\t\t\tthis.state.email,\r\n\t\t\t\tnull,\r\n\t\t\t\tthis.state.accessToken,\r\n\t\t\t\tnull,\r\n\t\t\t\tthis.state.provider,\r\n\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\"))\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (nextProps.user.enter_phone_after_social_login) {\r\n\t\t\tthis.validator.hideMessages();\r\n\t\t\tdocument.getElementById(\"loginForm\").classList.add(\"hidden\");\r\n\t\t\tdocument.getElementById(\"socialLoginDiv\").classList.add(\"hidden\");\r\n\t\t\tdocument.getElementById(\"phoneFormAfterSocialLogin\").classList.remove(\"hidden\");\r\n\t\t\t// populate name & email\r\n\t\t\tconsole.log(\"ask to fill the phone number and send otp process...\");\r\n\t\t}\r\n\r\n\t\tif (nextProps.user.data === \"DONOTMATCH\") {\r\n\t\t\t//email and pass donot match\r\n\t\t\tthis.setState({ error: false, email_pass_error: true });\r\n\t\t}\r\n\r\n\t\tif (this.props.languages !== nextProps.languages) {\r\n\t\t\tif (localStorage.getItem(\"userPreferedLanguage\")) {\r\n\t\t\t\tthis.props.getSingleLanguageData(localStorage.getItem(\"userPreferedLanguage\"));\r\n\t\t\t} else {\r\n\t\t\t\tif (nextProps.languages.length) {\r\n\t\t\t\t\tconsole.log(\"Fetching Translation Data...\");\r\n\t\t\t\t\tconst id = nextProps.languages.filter((lang) => lang.is_default === 1)[0].id;\r\n\t\t\t\t\tthis.props.getSingleLanguageData(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleSocialLogin = (user) => {\r\n\t\t//if otp verification is enabled\r\n\t\tif (localStorage.getItem(\"enSOV\") === \"true\") {\r\n\t\t\t//save user data in state\r\n\t\t\tthis.setState({\r\n\t\t\t\tname: user._profile.name,\r\n\t\t\t\temail: user._profile.email,\r\n\t\t\t\taccessToken: user._token.accessToken,\r\n\t\t\t\tprovider: user._provider,\r\n\t\t\t\tsocial_login: true,\r\n\t\t\t\tloading: true,\r\n\t\t\t});\r\n\t\t\t//request for OTP, send accessToken, if email exists in db, user will login\r\n\t\t\tthis.props.sendOtp(user._profile.email, null, user._token.accessToken, user._provider).then((response) => {\r\n\t\t\t\tif (!response.payload.otp) {\r\n\t\t\t\t\tthis.setState({ error: false });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t//call to new api to check if phone number present\r\n\r\n\t\t\t//if record phone number present, then login,\r\n\r\n\t\t\t//else show enter phone number\r\n\t\t\tthis.setState({\r\n\t\t\t\tname: user._profile.name,\r\n\t\t\t\temail: user._profile.email,\r\n\t\t\t\taccessToken: user._token.accessToken,\r\n\t\t\t\tprovider: user._provider,\r\n\t\t\t\tsocial_login: true,\r\n\t\t\t\tloading: true,\r\n\t\t\t});\r\n\t\t\tthis.props.loginUser(\r\n\t\t\t\tuser._profile.name,\r\n\t\t\t\tuser._profile.email,\r\n\t\t\t\tnull,\r\n\t\t\t\tuser._token.accessToken,\r\n\t\t\t\tnull,\r\n\t\t\t\tuser._provider,\r\n\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\"))\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\thandleSocialLoginFailure = (err) => {\r\n\t\t// this.setState({ error: true });\r\n\t\tconsole.log(\"Social Login Error\", err);\r\n\t};\r\n\r\n\thandleCountDown = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setState({ showResendOtp: true });\r\n\t\t\tclearInterval(this.intervalID);\r\n\t\t}, 15000 + 1000);\r\n\t\tthis.intervalID = setInterval(() => {\r\n\t\t\tconsole.log(\"interval going on\");\r\n\t\t\tthis.setState({\r\n\t\t\t\tcountDownSeconds: this.state.countDownSeconds - 1,\r\n\t\t\t});\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\tcomponentWillUnmount() {\r\n\t\t//clear countdown\r\n\t\tconsole.log(\"Countdown cleared\");\r\n\t\tclearInterval(this.intervalID);\r\n\t}\r\n\r\n\trender() {\r\n\t\t// console.log(\"Langugaes\", this.props.languages);\r\n\r\n\t\tif (window.innerWidth > 768) {\r\n\t\t\treturn <Redirect to=\"/\" />;\r\n\t\t}\r\n\t\tif (localStorage.getItem(\"storeColor\") === null) {\r\n\t\t\treturn <Redirect to={\"/\"} />;\r\n\t\t}\r\n\t\tconst { user } = this.props;\r\n\t\tif (user.success) {\r\n\t\t\treturn (\r\n\t\t\t\t//redirect to account page\r\n\t\t\t\t<Redirect to={\"/my-account\"} />\r\n\t\t\t);\r\n\t\t}\r\n\t\t// const languages = JSON.parse(localStorage.getItem(\"state\")).languages;\r\n\t\t// const languages = this.props.language;\r\n\t\t// console.log(languages);\r\n\r\n\t\tconst languages = this.props.languages;\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{this.state.error && (\r\n\t\t\t\t\t<div className=\"auth-error\">\r\n\t\t\t\t\t\t<div className=\"error-shake\">{localStorage.getItem(\"loginErrorMessage\")}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.state.email_phone_already_used && (\r\n\t\t\t\t\t<div className=\"auth-error\">\r\n\t\t\t\t\t\t<div className=\"error-shake\">{localStorage.getItem(\"emailPhoneAlreadyRegistered\")}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.state.invalid_otp && (\r\n\t\t\t\t\t<div className=\"auth-error\">\r\n\t\t\t\t\t\t<div className=\"error-shake\">{localStorage.getItem(\"invalidOtpMsg\")}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.state.email_pass_error && (\r\n\t\t\t\t\t<div className=\"auth-error\">\r\n\t\t\t\t\t\t<div className=\"error-shake\">{localStorage.getItem(\"emailPassDonotMatch\")}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{this.state.loading && <Loading />}\r\n\r\n\t\t\t\t<div style={{ backgroundColor: \"#f2f4f9\" }}>\r\n\t\t\t\t\t<div className=\"input-group\">\r\n\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t<BackButton history={this.props.history} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc=\"/assets/img/login-head.png\"\r\n\t\t\t\t\t\tclassName=\"login-image pull-right mr-15\"\r\n\t\t\t\t\t\talt=\"login-header\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"login-texts px-15 mt-50 pb-20\">\r\n\t\t\t\t\t\t<span className=\"login-title\">{localStorage.getItem(\"loginLoginTitle\")}</span>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<span className=\"login-subtitle\">{localStorage.getItem(\"loginLoginSubTitle\")}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"bg-white\">\r\n\t\t\t\t\t<form onSubmit={this.handleLogin} id=\"loginForm\">\r\n\t\t\t\t\t\t<div className=\"form-group px-15 pt-30\">\r\n\t\t\t\t\t\t\t<label className=\"col-12 edit-address-input-label\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"loginLoginEmailLabel\")}{\" \"}\r\n\t\t\t\t\t\t\t\t{this.validator.message(\"email\", this.state.email, \"required|email\")}\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-md-9 pb-5\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control edit-address-input\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<label className=\"col-12 edit-address-input-label\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"loginLoginPasswordLabel\")}{\" \"}\r\n\t\t\t\t\t\t\t\t{this.validator.message(\"password\", this.state.password, \"required\")}\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-md-9\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control edit-address-input\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"mt-20 px-15 pt-15 button-block\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-main\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: localStorage.getItem(\"storeColor\"),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"loginLoginTitle\")}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<form onSubmit={this.handleVerifyOtp} id=\"otpForm\" className=\"hidden\">\r\n\t\t\t\t\t\t<div className=\"form-group px-15 pt-30\">\r\n\t\t\t\t\t\t\t<label className=\"col-12 edit-address-input-label\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"otpSentMsg\")} {this.state.phone}\r\n\t\t\t\t\t\t\t\t{this.validator.message(\"otp\", this.state.otp, \"required|numeric|min:4|max:6\")}\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-md-9\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tname=\"otp\"\r\n\t\t\t\t\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control edit-address-input\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-main\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: localStorage.getItem(\"storeColor\"),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{/* {localStorage.getItem(\"verifyOtpBtnText\")} */}\r\n\t\t\t\t\t\t\t\tasdasd\r\n\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t<div className=\"mt-30 mb-10\">\r\n\t\t\t\t\t\t\t\t{this.state.showResendOtp && (\r\n\t\t\t\t\t\t\t\t\t<div className=\"resend-otp\" onClick={this.resendOtp}>\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"resendOtpMsg\")} {this.state.phone}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t{this.state.countDownSeconds > 0 && (\r\n\t\t\t\t\t\t\t\t\t<div className=\"resend-otp countdown\">\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"resendOtpCountdownMsg\")} {this.state.countDownSeconds}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tonSubmit={this.handleRegisterAfterSocialLogin}\r\n\t\t\t\t\t\tid=\"phoneFormAfterSocialLogin\"\r\n\t\t\t\t\t\tclassName=\"hidden\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"form-group px-15 pt-30\">\r\n\t\t\t\t\t\t\t<label className=\"col-12 edit-address-input-label\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"socialWelcomeText\")} {this.state.name},\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<label className=\"col-12 edit-address-input-label\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"enterPhoneToVerify\")}{\" \"}\r\n\t\t\t\t\t\t\t\t{this.validator.message(\"phone\", this.state.phone, [\r\n\t\t\t\t\t\t\t\t\t\"required\",\r\n\t\t\t\t\t\t\t\t\t{ regex: [\"^\\\\+[1-9]\\\\d{1,14}$\"] },\r\n\t\t\t\t\t\t\t\t\t{ min: [\"8\"] },\r\n\t\t\t\t\t\t\t\t])}\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-md-9 pb-5\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tdefaultValue={\r\n\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"phoneCountryCode\") === null\r\n\t\t\t\t\t\t\t\t\t\t\t? \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t: localStorage.getItem(\"phoneCountryCode\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tname=\"phone\"\r\n\t\t\t\t\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control edit-address-input\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-main\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: localStorage.getItem(\"storeColor\"),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"registerRegisterTitle\")}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<div className=\"text-center mt-3 mb-20\" id=\"socialLoginDiv\">\r\n\t\t\t\t\t\t<p className=\"login-or mt-2\">{localStorage.getItem(\"socialLoginOrText\")}</p>\r\n\t\t\t\t\t\t<div ref=\"socialLoginLoader\">\r\n\t\t\t\t\t\t\t<ContentLoader\r\n\t\t\t\t\t\t\t\theight={60}\r\n\t\t\t\t\t\t\t\twidth={400}\r\n\t\t\t\t\t\t\t\tspeed={1.2}\r\n\t\t\t\t\t\t\t\tprimaryColor=\"#f3f3f3\"\r\n\t\t\t\t\t\t\t\tsecondaryColor=\"#ecebeb\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<rect x=\"28\" y=\"0\" rx=\"0\" ry=\"0\" width=\"165\" height=\"45\" />\r\n\t\t\t\t\t\t\t\t<rect x=\"210\" y=\"0\" rx=\"0\" ry=\"0\" width=\"165\" height=\"45\" />\r\n\t\t\t\t\t\t\t</ContentLoader>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div ref=\"socialLogin\" className=\"hidden d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t{localStorage.getItem(\"enableFacebookLogin\") === \"true\" && (\r\n\t\t\t\t\t\t\t\t<SocialButton\r\n\t\t\t\t\t\t\t\t\tprovider=\"facebook\"\r\n\t\t\t\t\t\t\t\t\tappId={localStorage.getItem(\"facebookAppId\")}\r\n\t\t\t\t\t\t\t\t\tonLoginSuccess={this.handleSocialLogin}\r\n\t\t\t\t\t\t\t\t\tonLoginFailure={this.handleSocialLoginFailure}\r\n\t\t\t\t\t\t\t\t\tclassName=\"facebook-login-button mr-3\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/facebook.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Facebook Login\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"18px\", marginRight: \"10px\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"facebookLoginButtonText\")}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</SocialButton>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{localStorage.getItem(\"enableGoogleLogin\") === \"true\" && (\r\n\t\t\t\t\t\t\t\t<SocialButton\r\n\t\t\t\t\t\t\t\t\tprovider=\"google\"\r\n\t\t\t\t\t\t\t\t\tappId={localStorage.getItem(\"googleAppId\")}\r\n\t\t\t\t\t\t\t\t\tonLoginSuccess={this.handleSocialLogin}\r\n\t\t\t\t\t\t\t\t\tonLoginFailure={this.handleSocialLoginFailure}\r\n\t\t\t\t\t\t\t\t\tclassName=\"google-login-button\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/google.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Google Login\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"18px\", marginRight: \"10px\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div style={{ fontSize: \"14px\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"googleLoginButtonText\")}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</SocialButton>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-center mt-50 mb-20\">\r\n\t\t\t\t\t\t{localStorage.getItem(\"loginDontHaveAccount\")}{\" \"}\r\n\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\tto=\"/register\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tcolor: localStorage.getItem(\"storeColor\"),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{localStorage.getItem(\"firstScreenRegisterBtn\")}\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{localStorage.getItem(\"enPassResetEmail\") === \"true\" && (\r\n\t\t\t\t\t<div className=\"mt-4 d-flex align-items-center justify-content-center mb-100\">\r\n\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\tto=\"/login/forgot-password\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tcolor: localStorage.getItem(\"storeColor\"),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{localStorage.getItem(\"forgotPasswordLinkText\")}\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{localStorage.getItem(\"registrationPolicyMessage\") !== \"null\" && (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"mt-20 mb-20 d-flex align-items-center justify-content-center\"\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: localStorage.getItem(\"registrationPolicyMessage\"),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{languages && languages.length > 1 && (\r\n\t\t\t\t\t<div className=\"mt-4 d-flex align-items-center justify-content-center mb-100\">\r\n\t\t\t\t\t\t<div className=\"mr-2\">{localStorage.getItem(\"changeLanguageText\")}</div>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tonChange={this.handleOnChange}\r\n\t\t\t\t\t\t\tdefaultValue={\r\n\t\t\t\t\t\t\t\tlocalStorage.getItem(\"userPreferedLanguage\")\r\n\t\t\t\t\t\t\t\t\t? localStorage.getItem(\"userPreferedLanguage\")\r\n\t\t\t\t\t\t\t\t\t: languages.filter((lang) => lang.is_default === 1)[0].id\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName=\"form-control language-select\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{languages.map((language) => (\r\n\t\t\t\t\t\t\t\t<option value={language.id} key={language.id}>\r\n\t\t\t\t\t\t\t\t\t{language.language_name}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.user.user,\r\n\tlanguage: state.languages.language,\r\n\tlanguages: state.languages.languages,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{\r\n\t\tloginUser,\r\n\t\tregisterUser,\r\n\t\tsendOtp,\r\n\t\tverifyOtp,\r\n\t\tgetSingleLanguageData,\r\n\t}\r\n)(Login);\r\n"]},"metadata":{},"sourceType":"module"}