{"ast":null,"code":"import _classCallCheck from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/lampp/htdocs/shawarma/src/components/Mobile/FirstScreen/index.js\";\nimport React, { Component } from \"react\";\nimport DelayLink from \"../../helpers/delayLink\";\nimport Ink from \"react-ink\";\nimport Meta from \"../../helpers/meta\";\nimport { NavLink } from \"react-router-dom\";\nimport ProgressiveImage from \"react-progressive-image\";\nimport { Redirect } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { getSettings } from \"../../../services/settings/actions\";\nimport { getSingleLanguageData } from \"../../../services/languages/actions\";\n\nvar FirstScreen =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FirstScreen, _Component);\n\n  function FirstScreen() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FirstScreen);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FirstScreen)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.removeSplashScreen = function () {\n      if (document.getElementById(\"firstScreenSplash\")) {\n        document.getElementById(\"firstScreenSplash\").remove();\n      }\n\n      if (document.getElementById(\"firstScreenMain\")) {\n        document.getElementById(\"firstScreenMain\").classList.remove(\"hidden\");\n      }\n    };\n\n    _this.handleOnChange = function (event) {\n      // console.log(event.target.value);\n      _this.props.getSingleLanguageData(event.target.value);\n\n      localStorage.setItem(\"userPreferedLanguage\", event.target.value);\n    };\n\n    return _this;\n  }\n\n  _createClass(FirstScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      //if one config is missing then call the api to fetch settings\n      // if (!localStorage.getItem(\"storeColor\")) {\n      // \tthis.props.getSettings();\n      // }\n      if (localStorage.getItem(\"storeColor\")) {\n        setTimeout(function () {\n          _this2.removeSplashScreen();\n        }, 1000);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this3 = this;\n\n      var settings = this.props.settings;\n\n      if (settings !== nextProps.settings) {\n        //settings received, then hide the splash screen after 2s\n        setTimeout(function () {\n          _this3.removeSplashScreen();\n        }, 1000);\n      }\n\n      if (this.props.languages !== nextProps.languages) {\n        if (localStorage.getItem(\"userPreferedLanguage\")) {\n          this.props.getSingleLanguageData(localStorage.getItem(\"userPreferedLanguage\")); // console.log(\"Called 1\");\n        } else {\n          if (nextProps.languages.length) {\n            var id = nextProps.languages.filter(function (lang) {\n              return lang.is_default === 1;\n            })[0].id;\n            this.props.getSingleLanguageData(id);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var user = this.props.user;\n\n      if (localStorage.getItem(\"userSetAddress\") !== null) {\n        return React.createElement(Redirect, {\n          to: \"/stores\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(Meta, {\n        seotitle: localStorage.getItem(\"seoMetaTitle\"),\n        seodescription: localStorage.getItem(\"seoMetaDescription\"),\n        ogtype: \"website\",\n        ogtitle: localStorage.getItem(\"seoOgTitle\"),\n        ogdescription: localStorage.getItem(\"seoOgDescription\"),\n        ogurl: window.location.href,\n        twittertitle: localStorage.getItem(\"seoTwitterTitle\"),\n        twitterdescription: localStorage.getItem(\"seoTwitterDescription\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 p-0\",\n        id: \"firstScreenSplash\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"block m-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"block-content p-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/assets/img/splash/splash.jpg\",\n        className: \"img-fluid\",\n        alt: localStorage.getItem(\"storeName\"),\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"col-12 p-0 hidden\",\n        id: \"firstScreenMain\",\n        style: {\n          height: \"\".concat(window.innerHeight, \"px\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"block m-0 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"block-content p-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, localStorage.getItem(\"firstScreenHeroImage\") && React.createElement(ProgressiveImage, {\n        delay: 100,\n        src: localStorage.getItem(\"firstScreenHeroImage\"),\n        placeholder: localStorage.getItem(\"firstScreenHeroImageSm\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, function (src, loading) {\n        return React.createElement(\"img\", {\n          src: src,\n          alt: localStorage.getItem(\"storeName\"),\n          className: \"img-fluid\",\n          style: {\n            filter: loading ? \"blur(1.2px) brightness(0.9)\" : \"none\",\n            width: \"\".concat(window.innerWidth, \"px\")\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        });\n      }))), React.createElement(\"div\", {\n        className: \"block m-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"block-content pt-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"welcome-heading mt-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, localStorage.getItem(\"firstScreenHeading\")), React.createElement(\"h2\", {\n        className: \"welcome-subheading text-center mt-10 mb-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, localStorage.getItem(\"firstScreenSubHeading\")), React.createElement(DelayLink, {\n        to: \"/search-location\",\n        delay: 200,\n        className: \"btn btn-lg btn-setup-location\",\n        style: {\n          backgroundColor: localStorage.getItem(\"storeColor\"),\n          position: \"relative\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, localStorage.getItem(\"firstScreenSetupLocation\"), React.createElement(Ink, {\n        duration: \"500\",\n        hasTouch: \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      })), user.success ? React.createElement(\"p\", {\n        className: \"login-block font-w500 mb-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, localStorage.getItem(\"firstScreenWelcomeMessage\"), \" \", user.data.name) : React.createElement(\"p\", {\n        className: \"login-block mb-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, localStorage.getItem(\"firstScreenLoginText\"), \" \", React.createElement(NavLink, {\n        to: \"/login\",\n        style: {\n          color: localStorage.getItem(\"storeColor\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, localStorage.getItem(\"firstScreenLoginBtn\"))), this.props.languages && this.props.languages.length > 1 && React.createElement(\"div\", {\n        className: \"mt-4 d-flex align-items-center justify-content-center mb-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, localStorage.getItem(\"changeLanguageText\")), React.createElement(\"select\", {\n        onChange: this.handleOnChange,\n        defaultValue: localStorage.getItem(\"userPreferedLanguage\") ? localStorage.getItem(\"userPreferedLanguage\") : this.props.languages.filter(function (lang) {\n          return lang.is_default === 1;\n        })[0].id,\n        className: \"form-control language-select\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, this.props.languages.map(function (language) {\n        return React.createElement(\"option\", {\n          value: language.id,\n          key: language.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, language.language_name);\n      }))))))));\n    }\n  }]);\n\n  return FirstScreen;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    settings: state.settings.settings,\n    user: state.user.user,\n    languages: state.languages.languages,\n    language: state.languages.language\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getSettings: getSettings,\n  getSingleLanguageData: getSingleLanguageData\n})(FirstScreen);","map":{"version":3,"sources":["/opt/lampp/htdocs/shawarma/src/components/Mobile/FirstScreen/index.js"],"names":["React","Component","DelayLink","Ink","Meta","NavLink","ProgressiveImage","Redirect","connect","getSettings","getSingleLanguageData","FirstScreen","removeSplashScreen","document","getElementById","remove","classList","handleOnChange","event","props","target","value","localStorage","setItem","getItem","setTimeout","nextProps","settings","languages","length","id","filter","lang","is_default","user","window","location","href","width","height","innerHeight","src","loading","innerWidth","backgroundColor","position","success","data","name","color","map","language","language_name","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport DelayLink from \"../../helpers/delayLink\";\r\nimport Ink from \"react-ink\";\r\nimport Meta from \"../../helpers/meta\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport ProgressiveImage from \"react-progressive-image\";\r\nimport { Redirect } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport { getSettings } from \"../../../services/settings/actions\";\r\nimport { getSingleLanguageData } from \"../../../services/languages/actions\";\r\n\r\nclass FirstScreen extends Component {\r\n\tcomponentDidMount() {\r\n\t\t//if one config is missing then call the api to fetch settings\r\n\r\n\t\t// if (!localStorage.getItem(\"storeColor\")) {\r\n\t\t// \tthis.props.getSettings();\r\n\t\t// }\r\n\r\n\t\tif (localStorage.getItem(\"storeColor\")) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.removeSplashScreen();\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t}\r\n\r\n\tremoveSplashScreen = () => {\r\n\t\tif (document.getElementById(\"firstScreenSplash\")) {\r\n\t\t\tdocument.getElementById(\"firstScreenSplash\").remove();\r\n\t\t}\r\n\t\tif (document.getElementById(\"firstScreenMain\")) {\r\n\t\t\tdocument.getElementById(\"firstScreenMain\").classList.remove(\"hidden\");\r\n\t\t}\r\n\t};\r\n\r\n\thandleOnChange = (event) => {\r\n\t\t// console.log(event.target.value);\r\n\t\tthis.props.getSingleLanguageData(event.target.value);\r\n\t\tlocalStorage.setItem(\"userPreferedLanguage\", event.target.value);\r\n\t};\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tconst { settings } = this.props;\r\n\t\tif (settings !== nextProps.settings) {\r\n\t\t\t//settings received, then hide the splash screen after 2s\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.removeSplashScreen();\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\r\n\t\tif (this.props.languages !== nextProps.languages) {\r\n\t\t\tif (localStorage.getItem(\"userPreferedLanguage\")) {\r\n\t\t\t\tthis.props.getSingleLanguageData(localStorage.getItem(\"userPreferedLanguage\"));\r\n\t\t\t\t// console.log(\"Called 1\");\r\n\t\t\t} else {\r\n\t\t\t\tif (nextProps.languages.length) {\r\n\t\t\t\t\tconst id = nextProps.languages.filter((lang) => lang.is_default === 1)[0].id;\r\n\t\t\t\t\tthis.props.getSingleLanguageData(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { user } = this.props;\r\n\r\n\t\tif (localStorage.getItem(\"userSetAddress\") !== null) {\r\n\t\t\treturn <Redirect to=\"/stores\" />;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tseotitle={localStorage.getItem(\"seoMetaTitle\")}\r\n\t\t\t\t\tseodescription={localStorage.getItem(\"seoMetaDescription\")}\r\n\t\t\t\t\togtype=\"website\"\r\n\t\t\t\t\togtitle={localStorage.getItem(\"seoOgTitle\")}\r\n\t\t\t\t\togdescription={localStorage.getItem(\"seoOgDescription\")}\r\n\t\t\t\t\togurl={window.location.href}\r\n\t\t\t\t\ttwittertitle={localStorage.getItem(\"seoTwitterTitle\")}\r\n\t\t\t\t\ttwitterdescription={localStorage.getItem(\"seoTwitterDescription\")}\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"col-12 p-0\" id=\"firstScreenSplash\">\r\n\t\t\t\t\t\t<div className=\"block m-0\">\r\n\t\t\t\t\t\t\t<div className=\"block-content p-0\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/splash/splash.jpg\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\talt={localStorage.getItem(\"storeName\")}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"col-12 p-0 hidden\"\r\n\t\t\t\t\t\tid=\"firstScreenMain\"\r\n\t\t\t\t\t\tstyle={{ height: `${window.innerHeight}px` }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"block m-0 \">\r\n\t\t\t\t\t\t\t<div className=\"block-content p-0\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"firstScreenHeroImage\") && (\r\n\t\t\t\t\t\t\t\t\t<ProgressiveImage\r\n\t\t\t\t\t\t\t\t\t\tdelay={100}\r\n\t\t\t\t\t\t\t\t\t\tsrc={localStorage.getItem(\"firstScreenHeroImage\")}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={localStorage.getItem(\"firstScreenHeroImageSm\")}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{(src, loading) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={src}\r\n\t\t\t\t\t\t\t\t\t\t\t\talt={localStorage.getItem(\"storeName\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfilter: loading ? \"blur(1.2px) brightness(0.9)\" : \"none\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: `${window.innerWidth}px`,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</ProgressiveImage>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"block m-0\">\r\n\t\t\t\t\t\t\t<div className=\"block-content pt-10\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"welcome-heading mt-10\">{localStorage.getItem(\"firstScreenHeading\")}</h1>\r\n\t\t\t\t\t\t\t\t<h2 className=\"welcome-subheading text-center mt-10 mb-10\">\r\n\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"firstScreenSubHeading\")}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<DelayLink\r\n\t\t\t\t\t\t\t\t\tto=\"/search-location\"\r\n\t\t\t\t\t\t\t\t\tdelay={200}\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-lg btn-setup-location\"\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: localStorage.getItem(\"storeColor\"),\r\n\t\t\t\t\t\t\t\t\t\tposition: \"relative\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"firstScreenSetupLocation\")}\r\n\t\t\t\t\t\t\t\t\t<Ink duration=\"500\" hasTouch=\"true\" />\r\n\t\t\t\t\t\t\t\t</DelayLink>\r\n\t\t\t\t\t\t\t\t{user.success ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"login-block font-w500 mb-0\">\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"firstScreenWelcomeMessage\")} {user.data.name}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p className=\"login-block mb-0\">\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"firstScreenLoginText\")}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t<NavLink to=\"/login\" style={{ color: localStorage.getItem(\"storeColor\") }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"firstScreenLoginBtn\")}\r\n\t\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t{this.props.languages && this.props.languages.length > 1 && (\r\n\t\t\t\t\t\t\t\t\t<div className=\"mt-4 d-flex align-items-center justify-content-center mb-100\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"mr-2\">{localStorage.getItem(\"changeLanguageText\")}</div>\r\n\t\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleOnChange}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={\r\n\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"userPreferedLanguage\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? localStorage.getItem(\"userPreferedLanguage\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: this.props.languages.filter((lang) => lang.is_default === 1)[0].id\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control language-select\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.languages.map((language) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value={language.id} key={language.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{language.language_name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tsettings: state.settings.settings,\r\n\tuser: state.user.user,\r\n\tlanguages: state.languages.languages,\r\n\tlanguage: state.languages.language,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ getSettings, getSingleLanguageData }\r\n)(FirstScreen);\r\n"]},"metadata":{},"sourceType":"module"}