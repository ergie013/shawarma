{"ast":null,"code":"import _toConsumableArray from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/lampp/htdocs/shawarma/src/components/Mobile/Home/RestaurantListOnCategory/index.js\";\nimport React, { Component } from \"react\";\nimport { getRestaurantsBasedOnCategory, getRestaurantsCategories } from \"../../../../services/restaurant/actions\";\nimport { connect } from \"react-redux\";\nimport ContentLoader from \"react-content-loader\";\nimport DelayLink from \"../../../helpers/delayLink\";\nimport Ink from \"react-ink\";\nimport LazyLoad from \"react-lazyload\";\nimport PromoSlider from \"../PromoSlider\";\nimport { Redirect } from \"react-router\";\nimport Meta from \"../../../helpers/meta\";\nimport Nav from \"../../Nav\";\nexport var RestaurantListOnCategory =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RestaurantListOnCategory, _Component);\n\n  function RestaurantListOnCategory() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, RestaurantListOnCategory);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(RestaurantListOnCategory)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      selectedOption: null,\n      options: [],\n      defaultValues: [],\n      checkboxChecked: false,\n      checkedCount: 0,\n      loading: true\n    };\n\n    _this._processSelectedCheckboxs = function () {\n      _this.setState({\n        loading: true\n      });\n\n      var selectedOption = [];\n      var checkboxes = document.querySelectorAll(\"input[type=checkbox]:checked\");\n\n      _this.setState({\n        checkedCount: checkboxes.length\n      }); // console.log(checkboxes.length);\n\n\n      if (checkboxes.length === 0) {\n        console.log(\"Came here\");\n        localStorage.removeItem(\"categorySelectOptions\");\n      } else {\n        for (var i = 0; i < checkboxes.length; i++) {\n          selectedOption.push({\n            value: parseInt(checkboxes[i].getAttribute(\"data-value\")),\n            label: checkboxes[i].getAttribute(\"data-label\")\n          });\n        }\n\n        return new Promise(function (resolve, reject) {\n          localStorage.setItem(\"categorySelectOptions\", JSON.stringify(selectedOption));\n          var categorySelectOptions = JSON.parse(localStorage.getItem(\"categorySelectOptions\"));\n          var latandlng = JSON.parse(localStorage.getItem(\"userSetAddress\"));\n\n          if (categorySelectOptions) {\n            var categoryIds = [];\n            categorySelectOptions.map(function (restaurantCategories) {\n              return categoryIds.push(parseInt(restaurantCategories.value));\n            });\n\n            _this.props.getRestaurantsBasedOnCategory(latandlng.lat, latandlng.lng, categoryIds);\n          }\n\n          var data = JSON.parse(localStorage.getItem(\"categorySelectOptions\"));\n\n          if (data) {\n            resolve(_this.sortRestaurantCategoriesOptions());\n          } else {\n            reject(new Error(\"Promise rejected\"));\n          }\n        });\n      }\n    };\n\n    _this.callAfterDefaultRestaurantsCategoriesSelected = function () {\n      _this.handleChange(_this.state.defaultValues);\n    };\n\n    _this.selectRestaurantsCategories = function (restaurants_categories) {\n      var arr = [];\n\n      if (restaurants_categories) {\n        restaurants_categories.categories.map(function (restaurantCatogory) {\n          var restaurantCateories = {\n            value: restaurantCatogory.id,\n            label: restaurantCatogory.name\n          };\n\n          if (restaurantCateories) {\n            arr.push(restaurantCateories);\n          }\n\n          return null;\n        });\n\n        if (arr.length > 0) {\n          _this.setState({\n            options: arr\n          });\n\n          localStorage.setItem(\"allSelectableOptions\", JSON.stringify(arr));\n          return new Promise(function (resolve, reject) {\n            var data = JSON.parse(localStorage.getItem(\"allSelectableOptions\"));\n\n            if (data) {\n              resolve(_this.sortRestaurantCategoriesOptions());\n            } else {\n              reject(new Error(\"Promise rejected\"));\n            }\n          });\n        }\n      }\n    };\n\n    _this.checkIfChecked = function (value) {\n      return JSON.parse(localStorage.getItem(\"categorySelectOptions\")).some(function (categories) {\n        return value === categories.value;\n      });\n    };\n\n    _this.sortRestaurantCategoriesOptions = function () {\n      var categorySelectOptions = JSON.parse(localStorage.getItem(\"categorySelectOptions\"));\n      var allSelectableOptions = JSON.parse(localStorage.getItem(\"allSelectableOptions\"));\n      var checkedOptions = new Set(categorySelectOptions.map(function (category) {\n        return category.value;\n      }));\n      var sortedOptions = [].concat(_toConsumableArray(categorySelectOptions), _toConsumableArray(allSelectableOptions.filter(function (category) {\n        return !checkedOptions.has(category.value);\n      })));\n\n      if (sortedOptions.length === allSelectableOptions.length) {\n        _this.setState({\n          options: sortedOptions\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(RestaurantListOnCategory, [{\n    key: \"componentDidMount\",\n    //getting all restaurants before rendering\n    value: function componentDidMount() {\n      this.props.getRestaurantsCategories();\n      this.setState({\n        checkedCount: JSON.parse(localStorage.getItem(\"categorySelectOptions\")).length\n      });\n    }\n  }, {\n    key: \"filterRestaurants\",\n    // called when you click category from restaurant list page\n    value: function filterRestaurants() {\n      var categorySelectOptions = JSON.parse(localStorage.getItem(\"categorySelectOptions\"));\n      var latandlng = JSON.parse(localStorage.getItem(\"userSetAddress\"));\n\n      if (categorySelectOptions) {\n        var categoryIds = [];\n        categorySelectOptions.map(function (restaurantCategories) {\n          return categoryIds.push(parseInt(restaurantCategories.value));\n        });\n        this.props.getRestaurantsBasedOnCategory(latandlng.lat, latandlng.lng, categoryIds);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.restaurants_categories.categories !== nextProps.restaurants_categories.categories) {\n        this.setState({\n          selectedOption: nextProps.restaurants_categories.categories\n        });\n      }\n\n      if (this.props.filtered_restaurants !== nextProps.filtered_restaurants) {\n        this.setState({\n          loading: false\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.restaurants_categories !== prevProps.restaurants_categories) {\n        this.filterRestaurants();\n        this.selectRestaurantsCategories(this.props.restaurants_categories);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (window.innerWidth > 768) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        });\n      }\n\n      if (localStorage.getItem(\"categorySelectOptions\") === null) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        });\n      }\n\n      if (localStorage.getItem(\"userSetAddress\") === null) {\n        // this.context.router.history.push(\"/search-location\");\n        console.log(\"Redirect to search location\");\n        return React.createElement(Redirect, {\n          to: \"/search-location\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        });\n      }\n\n      var selectedOption = this.state.selectedOption;\n      var _this$props = this.props,\n          history = _this$props.history,\n          user = _this$props.user;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(Meta, {\n        seotitle: localStorage.getItem(\"seoMetaTitle\"),\n        seodescription: localStorage.getItem(\"seoMetaDescription\"),\n        ogtype: \"website\",\n        ogtitle: localStorage.getItem(\"seoOgTitle\"),\n        ogdescription: localStorage.getItem(\"seoOgDescription\"),\n        ogurl: window.location.href,\n        twittertitle: localStorage.getItem(\"seoTwitterTitle\"),\n        twitterdescription: localStorage.getItem(\"seoTwitterDescription\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }), React.createElement(Nav, {\n        logo: true,\n        logoLink: true,\n        active_nearme: true,\n        disable_back_button: true,\n        history: history,\n        loggedin: user.success,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }), this.state.options.length > 0 && selectedOption !== null && React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"category-checkboxes-block px-15 mt-20\",\n        ref: \"categoryOptions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"filter-count-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, localStorage.getItem(\"categoriesFiltersText\"), \" \", this.state.checkedCount), this.state.options.map(function (category) {\n        return React.createElement(\"label\", {\n          key: category.value,\n          style: {\n            position: \"relative\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"checkbox\",\n          value: category.value,\n          defaultChecked: _this2.checkIfChecked(category.value),\n          onChange: _this2._processSelectedCheckboxs,\n          \"data-label\": category.label,\n          \"data-value\": category.value,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, category.label), React.createElement(Ink, {\n          duration: \"500\",\n          hasTouch: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }));\n      }))), this.state.loading ? React.createElement(ContentLoader, {\n        height: 378,\n        width: 400,\n        speed: 1.2,\n        primaryColor: \"#f3f3f3\",\n        secondaryColor: \"#ecebeb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(\"rect\", {\n        x: \"20\",\n        y: \"20\",\n        rx: \"4\",\n        ry: \"4\",\n        width: \"80\",\n        height: \"78\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"144\",\n        y: \"30\",\n        rx: \"0\",\n        ry: \"0\",\n        width: \"115\",\n        height: \"18\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"144\",\n        y: \"60\",\n        rx: \"0\",\n        ry: \"0\",\n        width: \"165\",\n        height: \"16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"20\",\n        y: \"145\",\n        rx: \"4\",\n        ry: \"4\",\n        width: \"80\",\n        height: \"78\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"144\",\n        y: \"155\",\n        rx: \"0\",\n        ry: \"0\",\n        width: \"115\",\n        height: \"18\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"144\",\n        y: \"185\",\n        rx: \"0\",\n        ry: \"0\",\n        width: \"165\",\n        height: \"16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"20\",\n        y: \"270\",\n        rx: \"4\",\n        ry: \"4\",\n        width: \"80\",\n        height: \"78\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"144\",\n        y: \"280\",\n        rx: \"0\",\n        ry: \"0\",\n        width: \"115\",\n        height: \"18\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"144\",\n        y: \"310\",\n        rx: \"0\",\n        ry: \"0\",\n        width: \"165\",\n        height: \"16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      })) : React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, this.props.filtered_restaurants.length === 0 ? React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex justify-content-center mt-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"explore-bg\",\n        src: \"/assets/img/various/explore-bg.png\",\n        alt: localStorage.getItem(\"restaurantSearchPlaceholder\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      })), React.createElement(\"h4\", {\n        className: \"d-flex justify-content-center filter-no-found\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, localStorage.getItem(\"categoriesNoRestaurantsFoundText\"))) : this.props.filtered_restaurants.map(function (restaurant, index) {\n        return React.createElement(React.Fragment, {\n          key: restaurant.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-xs-12 col-sm-12 restaurant-block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          },\n          __self: this\n        }, React.createElement(DelayLink, {\n          to: \"../stores/\" + restaurant.slug,\n          delay: 200,\n          className: \"block text-center mb-3\",\n          clickAction: function clickAction() {\n            localStorage.getItem(\"userPreferredSelection\") === \"DELIVERY\" && restaurant.delivery_type === 1 && localStorage.setItem(\"userSelected\", \"DELIVERY\");\n            localStorage.getItem(\"userPreferredSelection\") === \"SELFPICKUP\" && restaurant.delivery_type === 2 && localStorage.setItem(\"userSelected\", \"SELFPICKUP\");\n            localStorage.getItem(\"userPreferredSelection\") === \"DELIVERY\" && restaurant.delivery_type === 3 && localStorage.setItem(\"userSelected\", \"DELIVERY\");\n            localStorage.getItem(\"userPreferredSelection\") === \"SELFPICKUP\" && restaurant.delivery_type === 3 && localStorage.setItem(\"userSelected\", \"SELFPICKUP\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"block-content block-content-full \".concat(restaurant.is_featured ? \"ribbon ribbon-bookmark ribbon-warning pt-2\" : \"pt-2\", \" \"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274\n          },\n          __self: this\n        }, restaurant.is_featured ? React.createElement(\"div\", {\n          className: \"ribbon-box\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282\n          },\n          __self: this\n        }, localStorage.getItem(\"restaurantFeaturedText\")) : null, React.createElement(LazyLoad, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 287\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: restaurant.image,\n          alt: restaurant.name,\n          className: \"restaurant-image\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"block-content block-content-full restaurant-info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 295\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"font-w600 mb-5 text-dark\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296\n          },\n          __self: this\n        }, restaurant.name), React.createElement(\"div\", {\n          className: \"font-size-sm text-muted truncate-text text-muted\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297\n          },\n          __self: this\n        }, restaurant.description), React.createElement(\"hr\", {\n          className: \"my-10\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"text-center restaurant-meta mt-5 d-flex align-items-center justify-content-between text-muted\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 301\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-2 p-0 text-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 302\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-star pr-1\",\n          style: {\n            color: localStorage.getItem(\"storeColor\")\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 303\n          },\n          __self: this\n        }), \" \", restaurant.rating), React.createElement(\"div\", {\n          className: \"col-4 p-0 text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 311\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"si si-clock pr-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 312\n          },\n          __self: this\n        }), \" \", restaurant.delivery_time, \" \", localStorage.getItem(\"homePageMinsText\")), React.createElement(\"div\", {\n          className: \"col-6 p-0 text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 315\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"si si-wallet pr-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316\n          },\n          __self: this\n        }), \" \", localStorage.getItem(\"currencySymbolAlign\") === \"left\" && localStorage.getItem(\"currencyFormat\"), restaurant.price_range, \" \", localStorage.getItem(\"currencySymbolAlign\") === \"right\" && localStorage.getItem(\"currencyFormat\"), localStorage.getItem(\"homePageForTwoText\")))), React.createElement(Ink, {\n          duration: \"500\",\n          hasTouch: false,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 326\n          },\n          __self: this\n        }))), localStorage.getItem(\"showPromoSlider\") === \"true\" && React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 330\n          },\n          __self: this\n        }, _this2.props.slides && _this2.props.slides.length > 0 && React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332\n          },\n          __self: this\n        }, index === _this2.props.slides[0][\"promo_slider\"][\"position_id\"] - 1 && React.createElement(PromoSlider, {\n          slides: _this2.props.slides,\n          size: _this2.props.slides[0][\"promo_slider\"][\"size\"],\n          secondarySlider: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335\n          },\n          __self: this\n        }))));\n      })));\n    }\n  }]);\n\n  return RestaurantListOnCategory;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    restaurants_categories: state.restaurant.restaurants_categories,\n    filtered_restaurants: state.restaurant.filtered_restaurants,\n    user: state.user.user\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getRestaurantsBasedOnCategory: getRestaurantsBasedOnCategory,\n  getRestaurantsCategories: getRestaurantsCategories\n})(RestaurantListOnCategory);","map":{"version":3,"sources":["/opt/lampp/htdocs/shawarma/src/components/Mobile/Home/RestaurantListOnCategory/index.js"],"names":["React","Component","getRestaurantsBasedOnCategory","getRestaurantsCategories","connect","ContentLoader","DelayLink","Ink","LazyLoad","PromoSlider","Redirect","Meta","Nav","RestaurantListOnCategory","state","selectedOption","options","defaultValues","checkboxChecked","checkedCount","loading","_processSelectedCheckboxs","setState","checkboxes","document","querySelectorAll","length","console","log","localStorage","removeItem","i","push","value","parseInt","getAttribute","label","Promise","resolve","reject","setItem","JSON","stringify","categorySelectOptions","parse","getItem","latandlng","categoryIds","map","restaurantCategories","props","lat","lng","data","sortRestaurantCategoriesOptions","Error","callAfterDefaultRestaurantsCategoriesSelected","handleChange","selectRestaurantsCategories","restaurants_categories","arr","categories","restaurantCatogory","restaurantCateories","id","name","checkIfChecked","some","allSelectableOptions","checkedOptions","Set","category","sortedOptions","filter","has","nextProps","filtered_restaurants","prevProps","filterRestaurants","window","innerWidth","history","user","location","href","success","position","restaurant","index","slug","delivery_type","is_featured","image","description","color","rating","delivery_time","price_range","slides","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport { getRestaurantsBasedOnCategory, getRestaurantsCategories } from \"../../../../services/restaurant/actions\";\r\nimport { connect } from \"react-redux\";\r\nimport ContentLoader from \"react-content-loader\";\r\nimport DelayLink from \"../../../helpers/delayLink\";\r\nimport Ink from \"react-ink\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport PromoSlider from \"../PromoSlider\";\r\n\r\nimport { Redirect } from \"react-router\";\r\n\r\nimport Meta from \"../../../helpers/meta\";\r\nimport Nav from \"../../Nav\";\r\n\r\nexport class RestaurantListOnCategory extends Component {\r\n\tstate = {\r\n\t\tselectedOption: null,\r\n\t\toptions: [],\r\n\t\tdefaultValues: [],\r\n\t\tcheckboxChecked: false,\r\n\t\tcheckedCount: 0,\r\n\t\tloading: true,\r\n\t};\r\n\r\n\t//getting all restaurants before rendering\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getRestaurantsCategories();\r\n\r\n\t\tthis.setState({ checkedCount: JSON.parse(localStorage.getItem(\"categorySelectOptions\")).length });\r\n\t}\r\n\r\n\t_processSelectedCheckboxs = () => {\r\n\t\tthis.setState({ loading: true });\r\n\t\tlet selectedOption = [];\r\n\r\n\t\tlet checkboxes = document.querySelectorAll(\"input[type=checkbox]:checked\");\r\n\t\tthis.setState({ checkedCount: checkboxes.length });\r\n\r\n\t\t// console.log(checkboxes.length);\r\n\r\n\t\tif (checkboxes.length === 0) {\r\n\t\t\tconsole.log(\"Came here\");\r\n\r\n\t\t\tlocalStorage.removeItem(\"categorySelectOptions\");\r\n\t\t} else {\r\n\t\t\tfor (let i = 0; i < checkboxes.length; i++) {\r\n\t\t\t\tselectedOption.push({\r\n\t\t\t\t\tvalue: parseInt(checkboxes[i].getAttribute(\"data-value\")),\r\n\t\t\t\t\tlabel: checkboxes[i].getAttribute(\"data-label\"),\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tlocalStorage.setItem(\"categorySelectOptions\", JSON.stringify(selectedOption));\r\n\t\t\t\tlet categorySelectOptions = JSON.parse(localStorage.getItem(\"categorySelectOptions\"));\r\n\t\t\t\tlet latandlng = JSON.parse(localStorage.getItem(\"userSetAddress\"));\r\n\r\n\t\t\t\tif (categorySelectOptions) {\r\n\t\t\t\t\tlet categoryIds = [];\r\n\t\t\t\t\tcategorySelectOptions.map((restaurantCategories) => {\r\n\t\t\t\t\t\treturn categoryIds.push(parseInt(restaurantCategories.value));\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.props.getRestaurantsBasedOnCategory(latandlng.lat, latandlng.lng, categoryIds);\r\n\t\t\t\t}\r\n\t\t\t\tlet data = JSON.parse(localStorage.getItem(\"categorySelectOptions\"));\r\n\t\t\t\tif (data) {\r\n\t\t\t\t\tresolve(this.sortRestaurantCategoriesOptions());\r\n\t\t\t\t} else {\r\n\t\t\t\t\treject(new Error(\"Promise rejected\"));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t// called when you click category from restaurant list page\r\n\tfilterRestaurants() {\r\n\t\tlet categorySelectOptions = JSON.parse(localStorage.getItem(\"categorySelectOptions\"));\r\n\t\tlet latandlng = JSON.parse(localStorage.getItem(\"userSetAddress\"));\r\n\r\n\t\tif (categorySelectOptions) {\r\n\t\t\tlet categoryIds = [];\r\n\t\t\tcategorySelectOptions.map((restaurantCategories) => {\r\n\t\t\t\treturn categoryIds.push(parseInt(restaurantCategories.value));\r\n\t\t\t});\r\n\t\t\tthis.props.getRestaurantsBasedOnCategory(latandlng.lat, latandlng.lng, categoryIds);\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (this.props.restaurants_categories.categories !== nextProps.restaurants_categories.categories) {\r\n\t\t\tthis.setState({ selectedOption: nextProps.restaurants_categories.categories });\r\n\t\t}\r\n\r\n\t\tif (this.props.filtered_restaurants !== nextProps.filtered_restaurants) {\r\n\t\t\tthis.setState({ loading: false });\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.restaurants_categories !== prevProps.restaurants_categories) {\r\n\t\t\tthis.filterRestaurants();\r\n\t\t\tthis.selectRestaurantsCategories(this.props.restaurants_categories);\r\n\t\t}\r\n\t}\r\n\r\n\tcallAfterDefaultRestaurantsCategoriesSelected = () => {\r\n\t\tthis.handleChange(this.state.defaultValues);\r\n\t};\r\n\r\n\tselectRestaurantsCategories = (restaurants_categories) => {\r\n\t\tlet arr = [];\r\n\t\tif (restaurants_categories) {\r\n\t\t\trestaurants_categories.categories.map((restaurantCatogory) => {\r\n\t\t\t\tlet restaurantCateories = {\r\n\t\t\t\t\tvalue: restaurantCatogory.id,\r\n\t\t\t\t\tlabel: restaurantCatogory.name,\r\n\t\t\t\t};\r\n\t\t\t\tif (restaurantCateories) {\r\n\t\t\t\t\tarr.push(restaurantCateories);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\t\t\tif (arr.length > 0) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\toptions: arr,\r\n\t\t\t\t});\r\n\t\t\t\tlocalStorage.setItem(\"allSelectableOptions\", JSON.stringify(arr));\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tlet data = JSON.parse(localStorage.getItem(\"allSelectableOptions\"));\r\n\t\t\t\t\tif (data) {\r\n\t\t\t\t\t\tresolve(this.sortRestaurantCategoriesOptions());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treject(new Error(\"Promise rejected\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tcheckIfChecked = (value) => {\r\n\t\treturn JSON.parse(localStorage.getItem(\"categorySelectOptions\")).some(\r\n\t\t\t(categories) => value === categories.value\r\n\t\t);\r\n\t};\r\n\r\n\tsortRestaurantCategoriesOptions = () => {\r\n\t\tlet categorySelectOptions = JSON.parse(localStorage.getItem(\"categorySelectOptions\"));\r\n\t\tlet allSelectableOptions = JSON.parse(localStorage.getItem(\"allSelectableOptions\"));\r\n\r\n\t\tlet checkedOptions = new Set(categorySelectOptions.map((category) => category.value));\r\n\t\tlet sortedOptions = [\r\n\t\t\t...categorySelectOptions,\r\n\t\t\t...allSelectableOptions.filter((category) => !checkedOptions.has(category.value)),\r\n\t\t];\r\n\r\n\t\tif (sortedOptions.length === allSelectableOptions.length) {\r\n\t\t\tthis.setState({\r\n\t\t\t\toptions: sortedOptions,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tif (window.innerWidth > 768) {\r\n\t\t\treturn <Redirect to=\"/\" />;\r\n\t\t}\r\n\t\tif (localStorage.getItem(\"categorySelectOptions\") === null) {\r\n\t\t\treturn <Redirect to=\"/\" />;\r\n\t\t}\r\n\t\tif (localStorage.getItem(\"userSetAddress\") === null) {\r\n\t\t\t// this.context.router.history.push(\"/search-location\");\r\n\t\t\tconsole.log(\"Redirect to search location\");\r\n\t\t\treturn <Redirect to=\"/search-location\" />;\r\n\t\t}\r\n\r\n\t\tconst { selectedOption } = this.state;\r\n\t\tconst { history, user } = this.props;\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tseotitle={localStorage.getItem(\"seoMetaTitle\")}\r\n\t\t\t\t\tseodescription={localStorage.getItem(\"seoMetaDescription\")}\r\n\t\t\t\t\togtype=\"website\"\r\n\t\t\t\t\togtitle={localStorage.getItem(\"seoOgTitle\")}\r\n\t\t\t\t\togdescription={localStorage.getItem(\"seoOgDescription\")}\r\n\t\t\t\t\togurl={window.location.href}\r\n\t\t\t\t\ttwittertitle={localStorage.getItem(\"seoTwitterTitle\")}\r\n\t\t\t\t\ttwitterdescription={localStorage.getItem(\"seoTwitterDescription\")}\r\n\t\t\t\t/>\r\n\t\t\t\t<Nav\r\n\t\t\t\t\tlogo={true}\r\n\t\t\t\t\tlogoLink={true}\r\n\t\t\t\t\tactive_nearme={true}\r\n\t\t\t\t\tdisable_back_button={true}\r\n\t\t\t\t\thistory={history}\r\n\t\t\t\t\tloggedin={user.success}\r\n\t\t\t\t/>\r\n\t\t\t\t{this.state.options.length > 0 && selectedOption !== null && (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<div className=\"category-checkboxes-block px-15 mt-20\" ref=\"categoryOptions\">\r\n\t\t\t\t\t\t\t<div className=\"filter-count-block\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"categoriesFiltersText\")} {this.state.checkedCount}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{this.state.options.map((category) => (\r\n\t\t\t\t\t\t\t\t<label key={category.value} style={{ position: \"relative\" }}>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={category.value}\r\n\t\t\t\t\t\t\t\t\t\tdefaultChecked={this.checkIfChecked(category.value)}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this._processSelectedCheckboxs}\r\n\t\t\t\t\t\t\t\t\t\tdata-label={category.label}\r\n\t\t\t\t\t\t\t\t\t\tdata-value={category.value}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<span>{category.label}</span>\r\n\t\t\t\t\t\t\t\t\t<Ink duration=\"500\" hasTouch={true} />\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.state.loading ? (\r\n\t\t\t\t\t<ContentLoader height={378} width={400} speed={1.2} primaryColor=\"#f3f3f3\" secondaryColor=\"#ecebeb\">\r\n\t\t\t\t\t\t<rect x=\"20\" y=\"20\" rx=\"4\" ry=\"4\" width=\"80\" height=\"78\" />\r\n\t\t\t\t\t\t<rect x=\"144\" y=\"30\" rx=\"0\" ry=\"0\" width=\"115\" height=\"18\" />\r\n\t\t\t\t\t\t<rect x=\"144\" y=\"60\" rx=\"0\" ry=\"0\" width=\"165\" height=\"16\" />\r\n\r\n\t\t\t\t\t\t<rect x=\"20\" y=\"145\" rx=\"4\" ry=\"4\" width=\"80\" height=\"78\" />\r\n\t\t\t\t\t\t<rect x=\"144\" y=\"155\" rx=\"0\" ry=\"0\" width=\"115\" height=\"18\" />\r\n\t\t\t\t\t\t<rect x=\"144\" y=\"185\" rx=\"0\" ry=\"0\" width=\"165\" height=\"16\" />\r\n\r\n\t\t\t\t\t\t<rect x=\"20\" y=\"270\" rx=\"4\" ry=\"4\" width=\"80\" height=\"78\" />\r\n\t\t\t\t\t\t<rect x=\"144\" y=\"280\" rx=\"0\" ry=\"0\" width=\"115\" height=\"18\" />\r\n\t\t\t\t\t\t<rect x=\"144\" y=\"310\" rx=\"0\" ry=\"0\" width=\"165\" height=\"16\" />\r\n\t\t\t\t\t</ContentLoader>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t{this.props.filtered_restaurants.length === 0 ? (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center mt-100\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"explore-bg\"\r\n\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/explore-bg.png\"\r\n\t\t\t\t\t\t\t\t\t\talt={localStorage.getItem(\"restaurantSearchPlaceholder\")}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<h4 className=\"d-flex justify-content-center filter-no-found\">\r\n\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"categoriesNoRestaurantsFoundText\")}\r\n\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tthis.props.filtered_restaurants.map((restaurant, index) => (\r\n\t\t\t\t\t\t\t\t<React.Fragment key={restaurant.id}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-xs-12 col-sm-12 restaurant-block\">\r\n\t\t\t\t\t\t\t\t\t\t<DelayLink\r\n\t\t\t\t\t\t\t\t\t\t\tto={\"../stores/\" + restaurant.slug}\r\n\t\t\t\t\t\t\t\t\t\t\tdelay={200}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"block text-center mb-3\"\r\n\t\t\t\t\t\t\t\t\t\t\tclickAction={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"userPreferredSelection\") === \"DELIVERY\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trestaurant.delivery_type === 1 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.setItem(\"userSelected\", \"DELIVERY\");\r\n\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"userPreferredSelection\") === \"SELFPICKUP\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trestaurant.delivery_type === 2 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.setItem(\"userSelected\", \"SELFPICKUP\");\r\n\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"userPreferredSelection\") === \"DELIVERY\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trestaurant.delivery_type === 3 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.setItem(\"userSelected\", \"DELIVERY\");\r\n\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"userPreferredSelection\") === \"SELFPICKUP\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trestaurant.delivery_type === 3 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.setItem(\"userSelected\", \"SELFPICKUP\");\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`block-content block-content-full ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trestaurant.is_featured\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"ribbon ribbon-bookmark ribbon-warning pt-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"pt-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t} `}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{restaurant.is_featured ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"ribbon-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"restaurantFeaturedText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LazyLoad>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={restaurant.image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={restaurant.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"restaurant-image\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LazyLoad>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full restaurant-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-w600 mb-5 text-dark\">{restaurant.name}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm text-muted truncate-text text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{restaurant.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<hr className=\"my-10\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center restaurant-meta mt-5 d-flex align-items-center justify-content-between text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-2 p-0 text-left\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"fa fa-star pr-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: localStorage.getItem(\"storeColor\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{restaurant.rating}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-4 p-0 text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"si si-clock pr-1\" /> {restaurant.delivery_time}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"homePageMinsText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-6 p-0 text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"si si-wallet pr-1\" />{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{restaurant.price_range}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"homePageForTwoText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Ink duration=\"500\" hasTouch={false} />\r\n\t\t\t\t\t\t\t\t\t\t</DelayLink>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"showPromoSlider\") === \"true\" && (\r\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.slides && this.props.slides.length > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{index ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.slides[0][\"promo_slider\"][\"position_id\"] - 1 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PromoSlider\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tslides={this.props.slides}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize={this.props.slides[0][\"promo_slider\"][\"size\"]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsecondarySlider={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)}\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\trestaurants_categories: state.restaurant.restaurants_categories,\r\n\tfiltered_restaurants: state.restaurant.filtered_restaurants,\r\n\tuser: state.user.user,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ getRestaurantsBasedOnCategory, getRestaurantsCategories }\r\n)(RestaurantListOnCategory);\r\n"]},"metadata":{},"sourceType":"module"}