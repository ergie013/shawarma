{"ast":null,"code":"import _regeneratorRuntime from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/lampp/htdocs/shawarma/src/components/Mobile/Checkout/PaymentList/Stripe/StripeCard/index.js\";\nimport React, { Component } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { CardNumberElement, CardCvcElement, CardExpiryElement, Elements, ElementsConsumer } from \"@stripe/react-stripe-js\";\nimport Axios from \"axios\";\nimport { STRIPE_PAYMENT } from \"../../../../../../configs\";\n\nvar CheckoutForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CheckoutForm, _Component);\n\n  function CheckoutForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CheckoutForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CheckoutForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      postal: \"\"\n    };\n\n    _this.handleSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(event) {\n        var _this$props, stripe, elements, data, cardElement, _ref2, error, paymentMethod, id;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                _this$props = _this.props, stripe = _this$props.stripe, elements = _this$props.elements, data = _this$props.data;\n                cardElement = elements.getElement(CardNumberElement);\n                _context.next = 5;\n                return stripe.createPaymentMethod({\n                  type: \"card\",\n                  card: cardElement\n                });\n\n              case 5:\n                _ref2 = _context.sent;\n                error = _ref2.error;\n                paymentMethod = _ref2.paymentMethod;\n\n                if (!error) {\n                  data.data.handlePaymentProcessing(true);\n                  id = paymentMethod.id;\n                  Axios.post(STRIPE_PAYMENT, {\n                    token: data.data.user.data.auth_token,\n                    id: id,\n                    amount: data.data.total * 100,\n                    currency: localStorage.getItem(\"currencyId\"),\n                    payment_method_types: [\"card\"]\n                  }).then(function (response) {\n                    console.log(\"STRIPE DATA\", response.data);\n                    var clientSecret = response.data.client_secret;\n                    console.log(clientSecret);\n                    stripe.confirmCardPayment(clientSecret).then(function (response) {\n                      if (response.paymentIntent && response.paymentIntent.status === \"succeeded\") {\n                        console.log(\"Payment successful!!!\");\n                        data.data.placeOrder(\"\", \"STRIPE\");\n                      } else {\n                        console.log(\"Something went wrong...\");\n                        data.data.handlePaymentProcessing(false);\n                      }\n                    }).catch(function (e) {\n                      console.log(e);\n                    });\n                  }).catch(function (err) {\n                    data.data.handlePaymentProcessing(false);\n                    console.log(err);\n                  });\n                } else {\n                  console.log(error);\n                }\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(CheckoutForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          stripe = _this$props2.stripe,\n          data = _this$props2.data;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"cardNumber\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, localStorage.getItem(\"checkoutCardNumber\")), React.createElement(CardNumberElement, {\n        id: \"cardNumber\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"expiry\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, localStorage.getItem(\"checkoutCardExpiration\")), React.createElement(CardExpiryElement, {\n        id: \"expiry\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"cvc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, localStorage.getItem(\"checkoutCardCvv\")), React.createElement(CardCvcElement, {\n        id: \"cvc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), localStorage.getItem(\"stripeCheckoutPostalCode\") === \"true\" && React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"postal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, localStorage.getItem(\"checkoutCardPostalCode\")), React.createElement(\"input\", {\n        id: \"postal\",\n        required: true,\n        value: this.state.postal,\n        className: \"form-control StripeElement\",\n        onChange: function onChange(e) {\n          _this2.setState({\n            postal: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"submit\",\n        disabled: !stripe,\n        className: \"btn stripe-pay-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, localStorage.getItem(\"checkoutPayText\"), \" \", localStorage.getItem(\"currencySymbolAlign\") === \"left\" && localStorage.getItem(\"currencyFormat\"), data.data.total, localStorage.getItem(\"currencySymbolAlign\") === \"right\" && localStorage.getItem(\"currencyFormat\"))));\n    }\n  }]);\n\n  return CheckoutForm;\n}(Component);\n\nvar InjectedCheckoutForm = function InjectedCheckoutForm(data) {\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(ElementsConsumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, function (_ref3) {\n    var stripe = _ref3.stripe,\n        elements = _ref3.elements;\n    return React.createElement(CheckoutForm, {\n      stripe: stripe,\n      elements: elements,\n      data: data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    });\n  }));\n};\n\nvar stripePromise = loadStripe(localStorage.getItem(\"stripePublicKey\"), {\n  locale: localStorage.getItem(\"stripeLocale\")\n});\n\nvar StripeCard = function StripeCard(data) {\n  return React.createElement(Elements, {\n    stripe: stripePromise,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(InjectedCheckoutForm, {\n    data: data,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }));\n};\n\nexport default StripeCard;","map":{"version":3,"sources":["/opt/lampp/htdocs/shawarma/src/components/Mobile/Checkout/PaymentList/Stripe/StripeCard/index.js"],"names":["React","Component","loadStripe","CardNumberElement","CardCvcElement","CardExpiryElement","Elements","ElementsConsumer","Axios","STRIPE_PAYMENT","CheckoutForm","state","postal","handleSubmit","event","preventDefault","props","stripe","elements","data","cardElement","getElement","createPaymentMethod","type","card","error","paymentMethod","handlePaymentProcessing","id","post","token","user","auth_token","amount","total","currency","localStorage","getItem","payment_method_types","then","response","console","log","clientSecret","client_secret","confirmCardPayment","paymentIntent","status","placeOrder","catch","e","err","setState","target","value","InjectedCheckoutForm","stripePromise","locale","StripeCard"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport {\r\n\tCardNumberElement,\r\n\tCardCvcElement,\r\n\tCardExpiryElement,\r\n\tElements,\r\n\tElementsConsumer,\r\n} from \"@stripe/react-stripe-js\";\r\nimport Axios from \"axios\";\r\n\r\nimport { STRIPE_PAYMENT } from \"../../../../../../configs\";\r\n\r\nclass CheckoutForm extends Component {\r\n\tstate = {\r\n\t\tpostal: \"\",\r\n\t};\r\n\thandleSubmit = async (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst { stripe, elements, data } = this.props;\r\n\r\n\t\tconst cardElement = elements.getElement(CardNumberElement);\r\n\r\n\t\tconst { error, paymentMethod } = await stripe.createPaymentMethod({\r\n\t\t\ttype: \"card\",\r\n\t\t\tcard: cardElement,\r\n\t\t});\r\n\r\n\t\tif (!error) {\r\n\t\t\tdata.data.handlePaymentProcessing(true);\r\n\t\t\tconst { id } = paymentMethod;\r\n\t\t\tAxios.post(STRIPE_PAYMENT, {\r\n\t\t\t\ttoken: data.data.user.data.auth_token,\r\n\t\t\t\tid: id,\r\n\t\t\t\tamount: data.data.total * 100,\r\n\t\t\t\tcurrency: localStorage.getItem(\"currencyId\"),\r\n\t\t\t\tpayment_method_types: [\"card\"],\r\n\t\t\t})\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tconsole.log(\"STRIPE DATA\", response.data);\r\n\t\t\t\t\tconst { client_secret: clientSecret } = response.data;\r\n\t\t\t\t\tconsole.log(clientSecret);\r\n\t\t\t\t\tstripe\r\n\t\t\t\t\t\t.confirmCardPayment(clientSecret)\r\n\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\tif (response.paymentIntent && response.paymentIntent.status === \"succeeded\") {\r\n\t\t\t\t\t\t\t\tconsole.log(\"Payment successful!!!\");\r\n\t\t\t\t\t\t\t\tdata.data.placeOrder(\"\", \"STRIPE\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tconsole.log(\"Something went wrong...\");\r\n\t\t\t\t\t\t\t\tdata.data.handlePaymentProcessing(false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function(e) {\r\n\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function(err) {\r\n\t\t\t\t\tdata.data.handlePaymentProcessing(false);\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { stripe, data } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t{/* <CardElement hidePostalCode={true} /> */}\r\n\r\n\t\t\t\t\t<label htmlFor=\"cardNumber\">{localStorage.getItem(\"checkoutCardNumber\")}</label>\r\n\t\t\t\t\t<CardNumberElement id=\"cardNumber\" />\r\n\t\t\t\t\t<label htmlFor=\"expiry\">{localStorage.getItem(\"checkoutCardExpiration\")}</label>\r\n\t\t\t\t\t<CardExpiryElement id=\"expiry\" />\r\n\t\t\t\t\t<label htmlFor=\"cvc\">{localStorage.getItem(\"checkoutCardCvv\")}</label>\r\n\t\t\t\t\t<CardCvcElement id=\"cvc\" />\r\n\t\t\t\t\t{localStorage.getItem(\"stripeCheckoutPostalCode\") === \"true\" && (\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<label htmlFor=\"postal\">{localStorage.getItem(\"checkoutCardPostalCode\")}</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tid=\"postal\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tvalue={this.state.postal}\r\n\t\t\t\t\t\t\t\tclassName=\"form-control StripeElement\"\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tthis.setState({ postal: e.target.value });\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<button type=\"submit\" disabled={!stripe} className=\"btn stripe-pay-btn\">\r\n\t\t\t\t\t\t{localStorage.getItem(\"checkoutPayText\")}{\" \"}\r\n\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t{data.data.total}\r\n\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst InjectedCheckoutForm = (data) => (\r\n\t<React.Fragment>\r\n\t\t<ElementsConsumer>\r\n\t\t\t{({ stripe, elements }) => <CheckoutForm stripe={stripe} elements={elements} data={data} />}\r\n\t\t</ElementsConsumer>\r\n\t</React.Fragment>\r\n);\r\n\r\nconst stripePromise = loadStripe(localStorage.getItem(\"stripePublicKey\"), {\r\n\tlocale: localStorage.getItem(\"stripeLocale\"),\r\n});\r\n\r\nconst StripeCard = (data) => (\r\n\t<Elements stripe={stripePromise}>\r\n\t\t<InjectedCheckoutForm data={data} />\r\n\t</Elements>\r\n);\r\n\r\nexport default StripeCard;\r\n"]},"metadata":{},"sourceType":"module"}