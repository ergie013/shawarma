{"ast":null,"code":"import _classCallCheck from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/lampp/htdocs/shawarma/src/components/Mobile/Alerts/index.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport Meta from \"../../helpers/meta\";\nimport BackWithSearch from \"../../Mobile/Elements/BackWithSearch\";\nimport Footer from \"../Footer\";\nimport AlertList from \"./AlertList\";\nimport { getUserNotifications, markAllNotificationsRead, markOneNotificationRead } from \"../../../services/alert/actions\";\nimport Ink from \"react-ink\";\n\nvar Alerts =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Alerts, _Component);\n\n  function Alerts() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Alerts);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Alerts)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleMarkAllRead = function () {\n      var user = _this.props.user;\n\n      if (user.success) {\n        _this.props.markAllNotificationsRead(user.data.id, user.data.auth_token);\n      }\n    };\n\n    _this.handleNotificationClick = function (alert) {\n      var user = _this.props.user;\n      console.log(\"Notification Clicked\");\n\n      if (user.success) {\n        _this.props.markOneNotificationRead(user.data.id, alert.id, user.data.auth_token).then(function (response) {\n          var data = JSON.parse(alert.data);\n          var unique_order_id = data.unique_order_id;\n          var custom_notification = data.custom_notification;\n          var click_action = data.click_action;\n          var is_wallet_alert = data.is_wallet_alert;\n\n          if (unique_order_id) {\n            console.log(\"Order tracking notification\");\n\n            _this.context.router.history.push(\"/running-order/\".concat(unique_order_id));\n          }\n\n          if (custom_notification && click_action) {\n            console.log(\"Custom Notification\");\n            window.location.href = click_action;\n          }\n\n          if (is_wallet_alert) {\n            _this.context.router.history.push(\"/my-wallet\");\n          }\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Alerts, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.alerts.length) {\n        document.getElementsByTagName(\"body\")[0].classList.add(\"bg-grey-light\");\n      }\n\n      var user = this.props.user;\n\n      if (localStorage.getItem(\"storeColor\") !== null) {\n        if (user.success) {\n          this.props.getUserNotifications(user.data.id, user.data.auth_token);\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.getElementsByTagName(\"body\")[0].classList.remove(\"bg-grey-light\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (window.innerWidth > 768) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        });\n      }\n\n      if (localStorage.getItem(\"storeColor\") === null) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        });\n      }\n\n      var _this$props = this.props,\n          user = _this$props.user,\n          alerts = _this$props.alerts;\n\n      if (!user.success) {\n        return (//redirect to login page if not loggedin\n          React.createElement(Redirect, {\n            to: \"/login\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          })\n        );\n      }\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Meta, {\n        seotitle: localStorage.getItem(\"footerAlerts\"),\n        seodescription: localStorage.getItem(\"seoMetaDescription\"),\n        ogtype: \"website\",\n        ogtitle: localStorage.getItem(\"seoOgTitle\"),\n        ogdescription: localStorage.getItem(\"seoOgDescription\"),\n        ogurl: window.location.href,\n        twittertitle: localStorage.getItem(\"seoTwitterTitle\"),\n        twitterdescription: localStorage.getItem(\"seoTwitterDescription\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), React.createElement(BackWithSearch, {\n        boxshadow: true,\n        has_title: true,\n        title: localStorage.getItem(\"footerAlerts\"),\n        disable_search: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"block-content block-content-full mb-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, alerts.length ? React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-sm btn-clear-alerts float-right mt-50 mb-3\",\n        style: {\n          position: \"relative\"\n        },\n        onClick: this.handleMarkAllRead,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, localStorage.getItem(\"markAllAlertReadText\"), \" \", React.createElement(\"i\", {\n        className: \"si si-check ml-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(Ink, {\n        duration: 500,\n        hasTouch: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), alerts.map(function (alert) {\n        return React.createElement(React.Fragment, {\n          key: alert.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, React.createElement(AlertList, {\n          alert: alert,\n          handleNotificationClick: _this2.handleNotificationClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }));\n      })) : React.createElement(\"div\", {\n        className: \"text-center mt-50 font-w600 text-muted pt-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pb-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"si si-bell\",\n        style: {\n          fontSize: \"10rem\",\n          color: \"#eee\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        style: {\n          color: \"#ccc\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, localStorage.getItem(\"noNewAlertsText\")))), React.createElement(Footer, {\n        active_alerts: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Alerts;\n}(Component);\n\nAlerts.contextTypes = {\n  router: function router() {\n    return null;\n  }\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user.user,\n    alerts: state.alert.alerts\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getUserNotifications: getUserNotifications,\n  markAllNotificationsRead: markAllNotificationsRead,\n  markOneNotificationRead: markOneNotificationRead\n})(Alerts);","map":{"version":3,"sources":["/opt/lampp/htdocs/shawarma/src/components/Mobile/Alerts/index.js"],"names":["React","Component","Redirect","connect","Meta","BackWithSearch","Footer","AlertList","getUserNotifications","markAllNotificationsRead","markOneNotificationRead","Ink","Alerts","handleMarkAllRead","user","props","success","data","id","auth_token","handleNotificationClick","alert","console","log","then","response","JSON","parse","unique_order_id","custom_notification","click_action","is_wallet_alert","context","router","history","push","window","location","href","alerts","length","document","getElementsByTagName","classList","add","localStorage","getItem","remove","innerWidth","position","map","fontSize","color","contextTypes","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport Meta from \"../../helpers/meta\";\r\nimport BackWithSearch from \"../../Mobile/Elements/BackWithSearch\";\r\nimport Footer from \"../Footer\";\r\nimport AlertList from \"./AlertList\";\r\nimport {\r\n\tgetUserNotifications,\r\n\tmarkAllNotificationsRead,\r\n\tmarkOneNotificationRead,\r\n} from \"../../../services/alert/actions\";\r\nimport Ink from \"react-ink\";\r\n\r\nclass Alerts extends Component {\r\n\tstatic contextTypes = {\r\n\t\trouter: () => null,\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.alerts.length) {\r\n\t\t\tdocument.getElementsByTagName(\"body\")[0].classList.add(\"bg-grey-light\");\r\n\t\t}\r\n\r\n\t\tconst { user } = this.props;\r\n\t\tif (localStorage.getItem(\"storeColor\") !== null) {\r\n\t\t\tif (user.success) {\r\n\t\t\t\tthis.props.getUserNotifications(user.data.id, user.data.auth_token);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleMarkAllRead = () => {\r\n\t\tconst { user } = this.props;\r\n\r\n\t\tif (user.success) {\r\n\t\t\tthis.props.markAllNotificationsRead(user.data.id, user.data.auth_token);\r\n\t\t}\r\n\t};\r\n\r\n\thandleNotificationClick = (alert) => {\r\n\t\tconst { user } = this.props;\r\n\t\tconsole.log(\"Notification Clicked\");\r\n\t\tif (user.success) {\r\n\t\t\tthis.props.markOneNotificationRead(user.data.id, alert.id, user.data.auth_token).then((response) => {\r\n\t\t\t\tconst data = JSON.parse(alert.data);\r\n\t\t\t\tconst unique_order_id = data.unique_order_id;\r\n\t\t\t\tconst custom_notification = data.custom_notification;\r\n\t\t\t\tconst click_action = data.click_action;\r\n\t\t\t\tconst is_wallet_alert = data.is_wallet_alert;\r\n\r\n\t\t\t\tif (unique_order_id) {\r\n\t\t\t\t\tconsole.log(\"Order tracking notification\");\r\n\t\t\t\t\tthis.context.router.history.push(`/running-order/${unique_order_id}`);\r\n\t\t\t\t}\r\n\t\t\t\tif (custom_notification && click_action) {\r\n\t\t\t\t\tconsole.log(\"Custom Notification\");\r\n\t\t\t\t\twindow.location.href = click_action;\r\n\t\t\t\t}\r\n\t\t\t\tif (is_wallet_alert) {\r\n\t\t\t\t\tthis.context.router.history.push(\"/my-wallet\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.getElementsByTagName(\"body\")[0].classList.remove(\"bg-grey-light\");\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (window.innerWidth > 768) {\r\n\t\t\treturn <Redirect to=\"/\" />;\r\n\t\t}\r\n\t\tif (localStorage.getItem(\"storeColor\") === null) {\r\n\t\t\treturn <Redirect to={\"/\"} />;\r\n\t\t}\r\n\t\tconst { user, alerts } = this.props;\r\n\r\n\t\tif (!user.success) {\r\n\t\t\treturn (\r\n\t\t\t\t//redirect to login page if not loggedin\r\n\t\t\t\t<Redirect to={\"/login\"} />\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tseotitle={localStorage.getItem(\"footerAlerts\")}\r\n\t\t\t\t\tseodescription={localStorage.getItem(\"seoMetaDescription\")}\r\n\t\t\t\t\togtype=\"website\"\r\n\t\t\t\t\togtitle={localStorage.getItem(\"seoOgTitle\")}\r\n\t\t\t\t\togdescription={localStorage.getItem(\"seoOgDescription\")}\r\n\t\t\t\t\togurl={window.location.href}\r\n\t\t\t\t\ttwittertitle={localStorage.getItem(\"seoTwitterTitle\")}\r\n\t\t\t\t\ttwitterdescription={localStorage.getItem(\"seoTwitterDescription\")}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<BackWithSearch\r\n\t\t\t\t\tboxshadow={true}\r\n\t\t\t\t\thas_title={true}\r\n\t\t\t\t\ttitle={localStorage.getItem(\"footerAlerts\")}\r\n\t\t\t\t\tdisable_search={true}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"block-content block-content-full mb-100\">\r\n\t\t\t\t\t{alerts.length ? (\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-sm btn-clear-alerts float-right mt-50 mb-3\"\r\n\t\t\t\t\t\t\t\tstyle={{ position: \"relative\" }}\r\n\t\t\t\t\t\t\t\tonClick={this.handleMarkAllRead}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"markAllAlertReadText\")} <i className=\"si si-check ml-1\" />\r\n\t\t\t\t\t\t\t\t<Ink duration={500} hasTouch={true} />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<div className=\"clearfix\" />\r\n\t\t\t\t\t\t\t{alerts.map((alert) => (\r\n\t\t\t\t\t\t\t\t<React.Fragment key={alert.id}>\r\n\t\t\t\t\t\t\t\t\t<AlertList alert={alert} handleNotificationClick={this.handleNotificationClick} />\r\n\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"text-center mt-50 font-w600 text-muted pt-100\">\r\n\t\t\t\t\t\t\t<div className=\"pb-10\">\r\n\t\t\t\t\t\t\t\t<i className=\"si si-bell\" style={{ fontSize: \"10rem\", color: \"#eee\" }} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p style={{ color: \"#ccc\" }}>{localStorage.getItem(\"noNewAlertsText\")}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Footer active_alerts={true} />\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.user.user,\r\n\talerts: state.alert.alerts,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ getUserNotifications, markAllNotificationsRead, markOneNotificationRead }\r\n)(Alerts);\r\n"]},"metadata":{},"sourceType":"module"}