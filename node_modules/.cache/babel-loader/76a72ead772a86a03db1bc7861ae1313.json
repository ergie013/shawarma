{"ast":null,"code":"import _defineProperty from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/opt/lampp/htdocs/shawarma/src/components/Mobile/Auth/Register/index.js\";\nimport React, { Component } from \"react\";\nimport { loginUser, registerUser, sendOtp, verifyOtp } from \"../../../../services/user/actions\";\nimport BackButton from \"../../Elements/BackButton\";\nimport ContentLoader from \"react-content-loader\";\nimport { NavLink } from \"react-router-dom\";\nimport { Redirect } from \"react-router\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport SocialButton from \"../SocialButton\";\nimport { connect } from \"react-redux\";\nimport Loading from \"../../../helpers/loading\";\n\nvar Register =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Register, _Component);\n\n  function Register() {\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Register).call(this));\n    _this.state = {\n      loading: false,\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      password: \"\",\n      otp: \"\",\n      accessToken: \"\",\n      provider: \"\",\n      error: false,\n      email_phone_already_used: false,\n      invalid_otp: false,\n      showResendOtp: false,\n      countdownStart: false,\n      countDownSeconds: 15,\n      enSOV: \"\"\n    };\n\n    _this.handleInputChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.handleRegister = function (event) {\n      event.preventDefault();\n\n      if (_this.validator.fieldValid(\"name\") && _this.validator.fieldValid(\"email\") && _this.validator.fieldValid(\"phone\") && _this.validator.fieldValid(\"password\")) {\n        _this.setState({\n          loading: true\n        });\n\n        if (_this.state.enSOV === \"true\") {\n          //sending email and phone, first verify if not exists, then send OTP from the server\n          _this.props.sendOtp(_this.state.email, _this.state.phone, null).then(function (response) {\n            if (!response.payload.otp) {\n              _this.setState({\n                error: true\n              });\n            }\n          });\n        } else {\n          _this.props.registerUser(_this.state.name, _this.state.email, _this.state.phone, _this.state.password, JSON.parse(localStorage.getItem(\"userSetAddress\")));\n        }\n      } else {\n        console.log(\"Validation Failed\");\n\n        _this.validator.showMessages();\n      }\n    };\n\n    _this.handleRegisterAfterSocialLogin = function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        loading: true\n      });\n\n      if (_this.validator.fieldValid(\"phone\")) {\n        if (_this.state.enSOV === \"true\") {\n          //sending email and phone, first verify if not exists, then send OTP from the server\n          _this.props.sendOtp(_this.state.email, _this.state.phone, null).then(function (response) {\n            if (!response.payload.otp) {\n              _this.setState({\n                error: true\n              });\n            }\n          });\n        } else {\n          _this.props.loginUser(_this.state.name, _this.state.email, null, _this.state.accessToken, _this.state.phone, _this.state.provider, JSON.parse(localStorage.getItem(\"userSetAddress\")));\n        }\n      } else {\n        _this.setState({\n          loading: false\n        });\n\n        console.log(\"Validation Failed\");\n\n        _this.validator.showMessages();\n      }\n    };\n\n    _this.resendOtp = function () {\n      if (_this.validator.fieldValid(\"phone\")) {\n        _this.setState({\n          countDownSeconds: 15,\n          showResendOtp: false\n        });\n\n        _this.props.sendOtp(_this.state.email, _this.state.phone, null).then(function (response) {\n          if (!response.payload.otp) {\n            _this.setState({\n              error: true\n            });\n          }\n        });\n      }\n    };\n\n    _this.handleVerifyOtp = function (event) {\n      event.preventDefault();\n      console.log(\"verify otp clicked\");\n\n      if (_this.validator.fieldValid(\"otp\")) {\n        _this.setState({\n          loading: true\n        });\n\n        _this.props.verifyOtp(_this.state.phone, _this.state.otp);\n      }\n    };\n\n    _this.handleSocialLogin = function (user) {\n      //if otp verification is enabled\n      if (_this.state.enSOV === \"true\") {\n        //save user data in state\n        _this.setState({\n          name: user._profile.name,\n          email: user._profile.email,\n          accessToken: user._token.accessToken,\n          provider: user._provider,\n          social_login: true\n        }); //request for OTP, send accessToken, if email exists in db, user will login\n\n\n        _this.props.sendOtp(user._profile.email, null, user._token.accessToken, user._provider).then(function (response) {\n          if (!response.payload.otp) {\n            _this.setState({\n              error: true\n            });\n          }\n        });\n      } else {\n        //call to new api to check if phone number present\n        //if record phone number present, then login,\n        //else show enter phone number\n        _this.setState({\n          name: user._profile.name,\n          email: user._profile.email,\n          accessToken: user._token.accessToken,\n          provider: user._provider,\n          social_login: true\n        });\n\n        _this.props.loginUser(user._profile.name, user._profile.email, null, user._token.accessToken, null, user._provider, JSON.parse(localStorage.getItem(\"userSetAddress\")));\n      }\n    };\n\n    _this.handleSocialLoginFailure = function (err) {\n      _this.setState({\n        error: true\n      });\n    };\n\n    _this.handleCountDown = function () {\n      setTimeout(function () {\n        _this.setState({\n          showResendOtp: true\n        });\n\n        clearInterval(_this.intervalID);\n      }, 15000 + 1000);\n      _this.intervalID = setInterval(function () {\n        console.log(\"interval going on\");\n\n        _this.setState({\n          countDownSeconds: _this.state.countDownSeconds - 1\n        });\n      }, 1000);\n    };\n\n    _this.validator = new SimpleReactValidator({\n      autoForceUpdate: _assertThisInitialized(_assertThisInitialized(_this)),\n      messages: {\n        required: localStorage.getItem(\"fieldValidationMsg\"),\n        string: localStorage.getItem(\"nameValidationMsg\"),\n        email: localStorage.getItem(\"emailValidationMsg\"),\n        regex: localStorage.getItem(\"phoneValidationMsg\"),\n        min: localStorage.getItem(\"minimumLengthValidationMessage\")\n      }\n    });\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var enSOV = this.props.settings && this.props.settings.find(function (data) {\n        return data.key === \"enSOV\";\n      });\n      this.setState({\n        enSOV: enSOV.value\n      });\n\n      if (localStorage.getItem(\"enableFacebookLogin\") === \"false\" && localStorage.getItem(\"enableGoogleLogin\") === \"false\") {\n        if (document.getElementById(\"socialLoginDiv\")) {\n          document.getElementById(\"socialLoginDiv\").classList.add(\"hidden\");\n        }\n      }\n\n      if (localStorage.getItem(\"enableFacebookLogin\") === \"true\" || localStorage.getItem(\"enableGoogleLogin\") === \"true\") {\n        setTimeout(function () {\n          if (_this2.refs.socialLogin) {\n            _this2.refs.socialLogin.classList.remove(\"hidden\");\n          }\n\n          if (_this2.refs.socialLoginLoader) {\n            _this2.refs.socialLoginLoader.classList.add(\"hidden\");\n          }\n        }, 0.5 * 1000);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      var user = this.props.user;\n\n      if (user !== newProps.user) {\n        this.setState({\n          loading: false\n        });\n      }\n\n      if (newProps.user.success) {\n        if (newProps.user.data.default_address !== null) {\n          var userSetAddress = {\n            lat: newProps.user.data.default_address.latitude,\n            lng: newProps.user.data.default_address.longitude,\n            address: newProps.user.data.default_address.address,\n            house: newProps.user.data.default_address.house,\n            tag: newProps.user.data.default_address.tag\n          };\n          localStorage.setItem(\"userSetAddress\", JSON.stringify(userSetAddress));\n        }\n\n        this.context.router.history.goBack();\n      }\n\n      if (newProps.user.email_phone_already_used) {\n        this.setState({\n          email_phone_already_used: true\n        });\n      }\n\n      if (newProps.user.otp) {\n        this.setState({\n          email_phone_already_used: false,\n          error: false\n        }); //otp sent, hide reg form and show otp form\n\n        document.getElementById(\"registerForm\").classList.add(\"hidden\");\n        document.getElementById(\"socialLoginDiv\").classList.add(\"hidden\");\n        document.getElementById(\"phoneFormAfterSocialLogin\").classList.add(\"hidden\");\n        document.getElementById(\"otpForm\").classList.remove(\"hidden\"); //start countdown\n\n        this.setState({\n          countdownStart: true\n        });\n        this.handleCountDown();\n        this.validator.hideMessages();\n      }\n\n      if (newProps.user.valid_otp) {\n        this.setState({\n          invalid_otp: false,\n          error: false,\n          loading: true\n        }); // register user\n\n        if (this.state.social_login) {\n          this.props.loginUser(this.state.name, this.state.email, null, this.state.accessToken, this.state.phone, this.state.provider, JSON.parse(localStorage.getItem(\"userSetAddress\")));\n        } else {\n          this.props.registerUser(this.state.name, this.state.email, this.state.phone, this.state.password, JSON.parse(localStorage.getItem(\"userSetAddress\")));\n        }\n\n        console.log(\"VALID OTP, REG USER NOW\"); // this.setState({ loading: false });\n      }\n\n      if (newProps.user.valid_otp === false) {\n        console.log(\"Invalid OTP\");\n        this.setState({\n          invalid_otp: true\n        });\n      }\n\n      if (!newProps.user) {\n        this.setState({\n          error: true\n        });\n      } //old user, proceed to login after social login\n\n\n      if (newProps.user.proceed_login) {\n        console.log(\"From Social : user already exists\");\n        this.props.loginUser(this.state.name, this.state.email, null, this.state.accessToken, null, this.state.provider, JSON.parse(localStorage.getItem(\"userSetAddress\")));\n      }\n\n      if (newProps.user.enter_phone_after_social_login) {\n        this.validator.hideMessages();\n        document.getElementById(\"registerForm\").classList.add(\"hidden\");\n        document.getElementById(\"socialLoginDiv\").classList.add(\"hidden\");\n        document.getElementById(\"phoneFormAfterSocialLogin\").classList.remove(\"hidden\"); // populate name & email\n\n        console.log(\"ask to fill the phone number and send otp process...\");\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      //clear countdown\n      console.log(\"Countdown cleared\");\n      clearInterval(this.intervalID);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (window.innerWidth > 768) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 326\n          },\n          __self: this\n        });\n      }\n\n      if (localStorage.getItem(\"storeColor\") === null) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 329\n          },\n          __self: this\n        });\n      }\n\n      var user = this.props.user;\n\n      if (user.success) {\n        return (//redirect to account page\n          React.createElement(Redirect, {\n            to: \"/my-account\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 335\n            },\n            __self: this\n          })\n        );\n      }\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339\n        },\n        __self: this\n      }, this.state.error && React.createElement(\"div\", {\n        className: \"auth-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"error-shake\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }, localStorage.getItem(\"loginErrorMessage\"))), this.state.email_phone_already_used && React.createElement(\"div\", {\n        className: \"auth-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"error-shake\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, localStorage.getItem(\"emailPhoneAlreadyRegistered\"))), this.state.invalid_otp && React.createElement(\"div\", {\n        className: \"auth-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"error-shake\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }, localStorage.getItem(\"invalidOtpMsg\"))), this.state.loading && React.createElement(Loading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          backgroundColor: \"#f2f4f9\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, React.createElement(BackButton, {\n        history: this.props.history,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }))), React.createElement(\"img\", {\n        src: \"/assets/img/login-head.png\",\n        className: \"login-image pull-right mr-15\",\n        alt: \"login-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"login-texts px-15 mt-50 pb-20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"login-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, localStorage.getItem(\"registerRegisterTitle\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"login-subtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370\n        },\n        __self: this\n      }, localStorage.getItem(\"registerRegisterSubTitle\")))), React.createElement(\"div\", {\n        className: \"bg-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleRegister,\n        id: \"registerForm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group px-15 pt-30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-12 edit-address-input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }, localStorage.getItem(\"loginLoginNameLabel\"), \" \", this.validator.message(\"name\", this.state.name, \"required|string\")), React.createElement(\"div\", {\n        className: \"col-md-9 pb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        onChange: this.handleInputChange,\n        className: \"form-control edit-address-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        className: \"col-12 edit-address-input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, localStorage.getItem(\"loginLoginEmailLabel\"), \" \", this.validator.message(\"email\", this.state.email, \"required|email\")), React.createElement(\"div\", {\n        className: \"col-md-9 pb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"email\",\n        onChange: this.handleInputChange,\n        className: \"form-control edit-address-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        className: \"col-12 edit-address-input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401\n        },\n        __self: this\n      }, localStorage.getItem(\"loginLoginPhoneLabel\"), \" \", this.validator.message(\"phone\", this.state.phone, [\"required\", {\n        regex: [\"^\\\\+[1-9]\\\\d{1,14}$\"]\n      }, {\n        min: [\"8\"]\n      }])), React.createElement(\"div\", {\n        className: \"col-md-9 pb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        defaultValue: localStorage.getItem(\"phoneCountryCode\") === null ? \"\" : localStorage.getItem(\"phoneCountryCode\"),\n        name: \"phone\",\n        type: \"tel\",\n        onChange: this.handleInputChange,\n        className: \"form-control edit-address-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        className: \"col-12 edit-address-input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422\n        },\n        __self: this\n      }, localStorage.getItem(\"loginLoginPasswordLabel\"), \" \", this.validator.message(\"password\", this.state.password, \"required|min:8\")), React.createElement(\"div\", {\n        className: \"col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        onChange: this.handleInputChange,\n        className: \"form-control edit-address-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"mt-20 px-15 pt-15 button-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-main\",\n        style: {\n          backgroundColor: localStorage.getItem(\"storeColor\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436\n        },\n        __self: this\n      }, \"Sign Up\"), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      }, \"OR\"), React.createElement(\"button\", {\n        className: \"btn facebook-login-button btn-block\",\n        style: {\n          backgroundColor: localStorage.getItem(\"storeColor\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446\n        },\n        __self: this\n      }, \"Login with Facebook Account\"), React.createElement(\"button\", {\n        className: \"btn google-login-button btn-block\",\n        style: {\n          backgroundColor: localStorage.getItem(\"storeColor\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455\n        },\n        __self: this\n      }, \"Login with Google Account\"))), React.createElement(\"form\", {\n        onSubmit: this.handleVerifyOtp,\n        id: \"otpForm\",\n        className: \"hidden\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group px-15 pt-30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-12 edit-address-input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468\n        },\n        __self: this\n      }, localStorage.getItem(\"otpSentMsg\"), \" \", this.state.phone, this.validator.message(\"otp\", this.state.otp, \"required|numeric|min:4|max:6\")), React.createElement(\"div\", {\n        className: \"col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 472\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"otp\",\n        type: \"tel\",\n        onChange: this.handleInputChange,\n        className: \"form-control edit-address-input\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 473\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-main\",\n        style: {\n          backgroundColor: localStorage.getItem(\"storeColor\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482\n        },\n        __self: this\n      }, localStorage.getItem(\"verifyOtpBtnText\")), React.createElement(\"div\", {\n        className: \"mt-30 mb-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 490\n        },\n        __self: this\n      }, this.state.showResendOtp && React.createElement(\"div\", {\n        className: \"resend-otp\",\n        onClick: this.resendOtp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 492\n        },\n        __self: this\n      }, localStorage.getItem(\"resendOtpMsg\"), \" \", this.state.phone), this.state.countDownSeconds > 0 && React.createElement(\"div\", {\n        className: \"resend-otp countdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498\n        },\n        __self: this\n      }, localStorage.getItem(\"resendOtpCountdownMsg\"), \" \", this.state.countDownSeconds)))), React.createElement(\"form\", {\n        onSubmit: this.handleRegisterAfterSocialLogin,\n        id: \"phoneFormAfterSocialLogin\",\n        className: \"hidden\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 506\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group px-15 pt-30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 511\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-12 edit-address-input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 512\n        },\n        __self: this\n      }, localStorage.getItem(\"socialWelcomeText\"), \" \", this.state.name, \",\"), React.createElement(\"label\", {\n        className: \"col-12 edit-address-input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 515\n        },\n        __self: this\n      }, localStorage.getItem(\"enterPhoneToVerify\"), \" \", this.validator.message(\"phone\", this.state.phone, [\"required\", {\n        regex: [\"^\\\\+[1-9]\\\\d{1,14}$\"]\n      }, {\n        min: [\"8\"]\n      }])), React.createElement(\"div\", {\n        className: \"col-md-9 pb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 523\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        defaultValue: localStorage.getItem(\"phoneCountryCode\") === null ? \"\" : localStorage.getItem(\"phoneCountryCode\"),\n        name: \"phone\",\n        type: \"tel\",\n        onChange: this.handleInputChange,\n        className: \"form-control edit-address-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 524\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-main\",\n        style: {\n          backgroundColor: localStorage.getItem(\"storeColor\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 536\n        },\n        __self: this\n      }, localStorage.getItem(\"registerRegisterTitle\")))), React.createElement(\"div\", {\n        className: \"text-center mt-3 mb-20\",\n        id: \"socialLoginDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 546\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"login-or mt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 547\n        },\n        __self: this\n      }, \"OR\"), React.createElement(\"div\", {\n        ref: \"socialLoginLoader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 548\n        },\n        __self: this\n      }, React.createElement(ContentLoader, {\n        height: 60,\n        width: 400,\n        speed: 1.2,\n        primaryColor: \"#f3f3f3\",\n        secondaryColor: \"#ecebeb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 549\n        },\n        __self: this\n      }, React.createElement(\"rect\", {\n        x: \"28\",\n        y: \"0\",\n        rx: \"0\",\n        ry: \"0\",\n        width: \"165\",\n        height: \"45\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 556\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"210\",\n        y: \"0\",\n        rx: \"0\",\n        ry: \"0\",\n        width: \"165\",\n        height: \"45\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 557\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        ref: \"socialLogin\",\n        className: \"hidden\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 560\n        },\n        __self: this\n      }, localStorage.getItem(\"enableFacebookLogin\") === \"true\" && React.createElement(SocialButton, {\n        provider: \"facebook\",\n        appId: localStorage.getItem(\"facebookAppId\"),\n        onLoginSuccess: this.handleSocialLogin,\n        onLoginFailure: function onLoginFailure() {\n          return console.log(\"Failed didn't get time to init or login failed\");\n        },\n        className: \"facebook-login-button mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 562\n        },\n        __self: this\n      }, localStorage.getItem(\"facebookLoginButtonText\")), localStorage.getItem(\"enableGoogleLogin\") === \"true\" && React.createElement(SocialButton, {\n        provider: \"google\",\n        appId: localStorage.getItem(\"googleAppId\"),\n        onLoginSuccess: this.handleSocialLogin,\n        onLoginFailure: function onLoginFailure() {\n          return console.log(\"Failed didn't get time to init or login failed\");\n        },\n        className: \"google-login-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 573\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex justify-content-between align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 580\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 581\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/assets/img/various/google.png\",\n        alt: \"Google\",\n        className: \"img-fluid\",\n        style: {\n          width: \"18px\",\n          marginRight: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 582\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 589\n        },\n        __self: this\n      }, localStorage.getItem(\"googleLoginButtonText\")))))), React.createElement(\"div\", {\n        className: \"text-center mt-50 mb-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 595\n        },\n        __self: this\n      }, localStorage.getItem(\"regsiterAlreadyHaveAccount\"), \" \", React.createElement(NavLink, {\n        to: \"/login\",\n        style: {\n          color: localStorage.getItem(\"storeColor\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 597\n        },\n        __self: this\n      }, localStorage.getItem(\"firstScreenLoginBtn\"))), localStorage.getItem(\"registrationPolicyMessage\") !== \"null\" && React.createElement(\"div\", {\n        className: \"mt-20 mb-20 d-flex align-items-center justify-content-center\",\n        dangerouslySetInnerHTML: {\n          __html: localStorage.getItem(\"registrationPolicyMessage\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 603\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Register;\n}(Component);\n\nRegister.contextTypes = {\n  router: function router() {\n    return null;\n  }\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user.user,\n    settings: state.settings.settings\n  };\n};\n\nexport default connect(mapStateToProps, {\n  registerUser: registerUser,\n  loginUser: loginUser,\n  sendOtp: sendOtp,\n  verifyOtp: verifyOtp\n})(Register);","map":{"version":3,"sources":["/opt/lampp/htdocs/shawarma/src/components/Mobile/Auth/Register/index.js"],"names":["React","Component","loginUser","registerUser","sendOtp","verifyOtp","BackButton","ContentLoader","NavLink","Redirect","SimpleReactValidator","SocialButton","connect","Loading","Register","state","loading","name","email","phone","password","otp","accessToken","provider","error","email_phone_already_used","invalid_otp","showResendOtp","countdownStart","countDownSeconds","enSOV","handleInputChange","event","setState","target","value","handleRegister","preventDefault","validator","fieldValid","props","then","response","payload","JSON","parse","localStorage","getItem","console","log","showMessages","handleRegisterAfterSocialLogin","resendOtp","handleVerifyOtp","handleSocialLogin","user","_profile","_token","_provider","social_login","handleSocialLoginFailure","err","handleCountDown","setTimeout","clearInterval","intervalID","setInterval","autoForceUpdate","messages","required","string","regex","min","settings","find","data","key","document","getElementById","classList","add","refs","socialLogin","remove","socialLoginLoader","newProps","success","default_address","userSetAddress","lat","latitude","lng","longitude","address","house","tag","setItem","stringify","context","router","history","goBack","hideMessages","valid_otp","proceed_login","enter_phone_after_social_login","window","innerWidth","backgroundColor","message","width","marginRight","color","__html","contextTypes","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { loginUser, registerUser, sendOtp, verifyOtp } from \"../../../../services/user/actions\";\r\n\r\nimport BackButton from \"../../Elements/BackButton\";\r\nimport ContentLoader from \"react-content-loader\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Redirect } from \"react-router\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport SocialButton from \"../SocialButton\";\r\nimport { connect } from \"react-redux\";\r\nimport Loading from \"../../../helpers/loading\";\r\n\r\nclass Register extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.validator = new SimpleReactValidator({\r\n\t\t\tautoForceUpdate: this,\r\n\t\t\tmessages: {\r\n\t\t\t\trequired: localStorage.getItem(\"fieldValidationMsg\"),\r\n\t\t\t\tstring: localStorage.getItem(\"nameValidationMsg\"),\r\n\t\t\t\temail: localStorage.getItem(\"emailValidationMsg\"),\r\n\t\t\t\tregex: localStorage.getItem(\"phoneValidationMsg\"),\r\n\t\t\t\tmin: localStorage.getItem(\"minimumLengthValidationMessage\"),\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tstate = {\r\n\t\tloading: false,\r\n\t\tname: \"\",\r\n\t\temail: \"\",\r\n\t\tphone: \"\",\r\n\t\tpassword: \"\",\r\n\t\totp: \"\",\r\n\t\taccessToken: \"\",\r\n\t\tprovider: \"\",\r\n\t\terror: false,\r\n\t\temail_phone_already_used: false,\r\n\t\tinvalid_otp: false,\r\n\t\tshowResendOtp: false,\r\n\t\tcountdownStart: false,\r\n\t\tcountDownSeconds: 15,\r\n\t\tenSOV: \"\",\r\n\t};\r\n\r\n\tstatic contextTypes = {\r\n\t\trouter: () => null,\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst enSOV = this.props.settings && this.props.settings.find((data) => data.key === \"enSOV\");\r\n\t\tthis.setState({ enSOV: enSOV.value });\r\n\r\n\t\tif (\r\n\t\t\tlocalStorage.getItem(\"enableFacebookLogin\") === \"false\" &&\r\n\t\t\tlocalStorage.getItem(\"enableGoogleLogin\") === \"false\"\r\n\t\t) {\r\n\t\t\tif (document.getElementById(\"socialLoginDiv\")) {\r\n\t\t\t\tdocument.getElementById(\"socialLoginDiv\").classList.add(\"hidden\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\tlocalStorage.getItem(\"enableFacebookLogin\") === \"true\" ||\r\n\t\t\tlocalStorage.getItem(\"enableGoogleLogin\") === \"true\"\r\n\t\t) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tif (this.refs.socialLogin) {\r\n\t\t\t\t\tthis.refs.socialLogin.classList.remove(\"hidden\");\r\n\t\t\t\t}\r\n\t\t\t\tif (this.refs.socialLoginLoader) {\r\n\t\t\t\t\tthis.refs.socialLoginLoader.classList.add(\"hidden\");\r\n\t\t\t\t}\r\n\t\t\t}, 0.5 * 1000);\r\n\t\t}\r\n\t}\r\n\r\n\thandleInputChange = (event) => {\r\n\t\tthis.setState({ [event.target.name]: event.target.value });\r\n\t};\r\n\r\n\thandleRegister = (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tif (\r\n\t\t\tthis.validator.fieldValid(\"name\") &&\r\n\t\t\tthis.validator.fieldValid(\"email\") &&\r\n\t\t\tthis.validator.fieldValid(\"phone\") &&\r\n\t\t\tthis.validator.fieldValid(\"password\")\r\n\t\t) {\r\n\t\t\tthis.setState({ loading: true });\r\n\t\t\tif (this.state.enSOV === \"true\") {\r\n\t\t\t\t//sending email and phone, first verify if not exists, then send OTP from the server\r\n\t\t\t\tthis.props.sendOtp(this.state.email, this.state.phone, null).then((response) => {\r\n\t\t\t\t\tif (!response.payload.otp) {\r\n\t\t\t\t\t\tthis.setState({ error: true });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.registerUser(\r\n\t\t\t\t\tthis.state.name,\r\n\t\t\t\t\tthis.state.email,\r\n\t\t\t\t\tthis.state.phone,\r\n\t\t\t\t\tthis.state.password,\r\n\t\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\"))\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconsole.log(\"Validation Failed\");\r\n\t\t\tthis.validator.showMessages();\r\n\t\t}\r\n\t};\r\n\r\n\thandleRegisterAfterSocialLogin = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.setState({ loading: true });\r\n\t\tif (this.validator.fieldValid(\"phone\")) {\r\n\t\t\tif (this.state.enSOV === \"true\") {\r\n\t\t\t\t//sending email and phone, first verify if not exists, then send OTP from the server\r\n\t\t\t\tthis.props.sendOtp(this.state.email, this.state.phone, null).then((response) => {\r\n\t\t\t\t\tif (!response.payload.otp) {\r\n\t\t\t\t\t\tthis.setState({ error: true });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.loginUser(\r\n\t\t\t\t\tthis.state.name,\r\n\t\t\t\t\tthis.state.email,\r\n\t\t\t\t\tnull,\r\n\t\t\t\t\tthis.state.accessToken,\r\n\t\t\t\t\tthis.state.phone,\r\n\t\t\t\t\tthis.state.provider,\r\n\t\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\"))\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.setState({ loading: false });\r\n\t\t\tconsole.log(\"Validation Failed\");\r\n\t\t\tthis.validator.showMessages();\r\n\t\t}\r\n\t};\r\n\r\n\tresendOtp = () => {\r\n\t\tif (this.validator.fieldValid(\"phone\")) {\r\n\t\t\tthis.setState({ countDownSeconds: 15, showResendOtp: false });\r\n\t\t\tthis.props.sendOtp(this.state.email, this.state.phone, null).then((response) => {\r\n\t\t\t\tif (!response.payload.otp) {\r\n\t\t\t\t\tthis.setState({ error: true });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\thandleVerifyOtp = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconsole.log(\"verify otp clicked\");\r\n\t\tif (this.validator.fieldValid(\"otp\")) {\r\n\t\t\tthis.setState({ loading: true });\r\n\t\t\tthis.props.verifyOtp(this.state.phone, this.state.otp);\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentWillReceiveProps(newProps) {\r\n\t\tconst { user } = this.props;\r\n\r\n\t\tif (user !== newProps.user) {\r\n\t\t\tthis.setState({ loading: false });\r\n\t\t}\r\n\r\n\t\tif (newProps.user.success) {\r\n\t\t\tif (newProps.user.data.default_address !== null) {\r\n\t\t\t\tconst userSetAddress = {\r\n\t\t\t\t\tlat: newProps.user.data.default_address.latitude,\r\n\t\t\t\t\tlng: newProps.user.data.default_address.longitude,\r\n\t\t\t\t\taddress: newProps.user.data.default_address.address,\r\n\t\t\t\t\thouse: newProps.user.data.default_address.house,\r\n\t\t\t\t\ttag: newProps.user.data.default_address.tag,\r\n\t\t\t\t};\r\n\t\t\t\tlocalStorage.setItem(\"userSetAddress\", JSON.stringify(userSetAddress));\r\n\t\t\t}\r\n\t\t\tthis.context.router.history.goBack();\r\n\t\t}\r\n\r\n\t\tif (newProps.user.email_phone_already_used) {\r\n\t\t\tthis.setState({ email_phone_already_used: true });\r\n\t\t}\r\n\t\tif (newProps.user.otp) {\r\n\t\t\tthis.setState({ email_phone_already_used: false, error: false });\r\n\t\t\t//otp sent, hide reg form and show otp form\r\n\t\t\tdocument.getElementById(\"registerForm\").classList.add(\"hidden\");\r\n\t\t\tdocument.getElementById(\"socialLoginDiv\").classList.add(\"hidden\");\r\n\t\t\tdocument.getElementById(\"phoneFormAfterSocialLogin\").classList.add(\"hidden\");\r\n\t\t\tdocument.getElementById(\"otpForm\").classList.remove(\"hidden\");\r\n\r\n\t\t\t//start countdown\r\n\t\t\tthis.setState({ countdownStart: true });\r\n\t\t\tthis.handleCountDown();\r\n\t\t\tthis.validator.hideMessages();\r\n\t\t}\r\n\r\n\t\tif (newProps.user.valid_otp) {\r\n\t\t\tthis.setState({ invalid_otp: false, error: false, loading: true });\r\n\t\t\t// register user\r\n\t\t\tif (this.state.social_login) {\r\n\t\t\t\tthis.props.loginUser(\r\n\t\t\t\t\tthis.state.name,\r\n\t\t\t\t\tthis.state.email,\r\n\t\t\t\t\tnull,\r\n\t\t\t\t\tthis.state.accessToken,\r\n\t\t\t\t\tthis.state.phone,\r\n\t\t\t\t\tthis.state.provider,\r\n\t\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\"))\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.registerUser(\r\n\t\t\t\t\tthis.state.name,\r\n\t\t\t\t\tthis.state.email,\r\n\t\t\t\t\tthis.state.phone,\r\n\t\t\t\t\tthis.state.password,\r\n\t\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\"))\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log(\"VALID OTP, REG USER NOW\");\r\n\t\t\t// this.setState({ loading: false });\r\n\t\t}\r\n\r\n\t\tif (newProps.user.valid_otp === false) {\r\n\t\t\tconsole.log(\"Invalid OTP\");\r\n\t\t\tthis.setState({ invalid_otp: true });\r\n\t\t}\r\n\r\n\t\tif (!newProps.user) {\r\n\t\t\tthis.setState({ error: true });\r\n\t\t}\r\n\r\n\t\t//old user, proceed to login after social login\r\n\t\tif (newProps.user.proceed_login) {\r\n\t\t\tconsole.log(\"From Social : user already exists\");\r\n\t\t\tthis.props.loginUser(\r\n\t\t\t\tthis.state.name,\r\n\t\t\t\tthis.state.email,\r\n\t\t\t\tnull,\r\n\t\t\t\tthis.state.accessToken,\r\n\t\t\t\tnull,\r\n\t\t\t\tthis.state.provider,\r\n\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\"))\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (newProps.user.enter_phone_after_social_login) {\r\n\t\t\tthis.validator.hideMessages();\r\n\t\t\tdocument.getElementById(\"registerForm\").classList.add(\"hidden\");\r\n\t\t\tdocument.getElementById(\"socialLoginDiv\").classList.add(\"hidden\");\r\n\t\t\tdocument.getElementById(\"phoneFormAfterSocialLogin\").classList.remove(\"hidden\");\r\n\t\t\t// populate name & email\r\n\t\t\tconsole.log(\"ask to fill the phone number and send otp process...\");\r\n\t\t}\r\n\t}\r\n\r\n\thandleSocialLogin = (user) => {\r\n\t\t//if otp verification is enabled\r\n\t\tif (this.state.enSOV === \"true\") {\r\n\t\t\t//save user data in state\r\n\t\t\tthis.setState({\r\n\t\t\t\tname: user._profile.name,\r\n\t\t\t\temail: user._profile.email,\r\n\t\t\t\taccessToken: user._token.accessToken,\r\n\t\t\t\tprovider: user._provider,\r\n\t\t\t\tsocial_login: true,\r\n\t\t\t});\r\n\t\t\t//request for OTP, send accessToken, if email exists in db, user will login\r\n\t\t\tthis.props.sendOtp(user._profile.email, null, user._token.accessToken, user._provider).then((response) => {\r\n\t\t\t\tif (!response.payload.otp) {\r\n\t\t\t\t\tthis.setState({ error: true });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t//call to new api to check if phone number present\r\n\r\n\t\t\t//if record phone number present, then login,\r\n\r\n\t\t\t//else show enter phone number\r\n\t\t\tthis.setState({\r\n\t\t\t\tname: user._profile.name,\r\n\t\t\t\temail: user._profile.email,\r\n\t\t\t\taccessToken: user._token.accessToken,\r\n\t\t\t\tprovider: user._provider,\r\n\t\t\t\tsocial_login: true,\r\n\t\t\t});\r\n\t\t\tthis.props.loginUser(\r\n\t\t\t\tuser._profile.name,\r\n\t\t\t\tuser._profile.email,\r\n\t\t\t\tnull,\r\n\t\t\t\tuser._token.accessToken,\r\n\t\t\t\tnull,\r\n\t\t\t\tuser._provider,\r\n\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\"))\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\thandleSocialLoginFailure = (err) => {\r\n\t\tthis.setState({ error: true });\r\n\t};\r\n\r\n\thandleCountDown = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setState({ showResendOtp: true });\r\n\t\t\tclearInterval(this.intervalID);\r\n\t\t}, 15000 + 1000);\r\n\t\tthis.intervalID = setInterval(() => {\r\n\t\t\tconsole.log(\"interval going on\");\r\n\t\t\tthis.setState({ countDownSeconds: this.state.countDownSeconds - 1 });\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\tcomponentWillUnmount() {\r\n\t\t//clear countdown\r\n\t\tconsole.log(\"Countdown cleared\");\r\n\t\tclearInterval(this.intervalID);\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (window.innerWidth > 768) {\r\n\t\t\treturn <Redirect to=\"/\" />;\r\n\t\t}\r\n\t\tif (localStorage.getItem(\"storeColor\") === null) {\r\n\t\t\treturn <Redirect to={\"/\"} />;\r\n\t\t}\r\n\t\tconst { user } = this.props;\r\n\t\tif (user.success) {\r\n\t\t\treturn (\r\n\t\t\t\t//redirect to account page\r\n\t\t\t\t<Redirect to={\"/my-account\"} />\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{this.state.error && (\r\n\t\t\t\t\t<div className=\"auth-error\">\r\n\t\t\t\t\t\t<div className=\"error-shake\">{localStorage.getItem(\"loginErrorMessage\")}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.state.email_phone_already_used && (\r\n\t\t\t\t\t<div className=\"auth-error\">\r\n\t\t\t\t\t\t<div className=\"error-shake\">{localStorage.getItem(\"emailPhoneAlreadyRegistered\")}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.state.invalid_otp && (\r\n\t\t\t\t\t<div className=\"auth-error\">\r\n\t\t\t\t\t\t<div className=\"error-shake\">{localStorage.getItem(\"invalidOtpMsg\")}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.state.loading && <Loading />}\r\n\t\t\t\t<div style={{ backgroundColor: \"#f2f4f9\" }}>\r\n\t\t\t\t\t<div className=\"input-group\">\r\n\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t<BackButton history={this.props.history} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc=\"/assets/img/login-head.png\"\r\n\t\t\t\t\t\tclassName=\"login-image pull-right mr-15\"\r\n\t\t\t\t\t\talt=\"login-header\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"login-texts px-15 mt-50 pb-20\">\r\n\t\t\t\t\t\t<span className=\"login-title\">{localStorage.getItem(\"registerRegisterTitle\")}</span>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<span className=\"login-subtitle\">{localStorage.getItem(\"registerRegisterSubTitle\")}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"bg-white\">\r\n\t\t\t\t\t<form onSubmit={this.handleRegister} id=\"registerForm\">\r\n\t\t\t\t\t\t<div className=\"form-group px-15 pt-30\">\r\n\t\t\t\t\t\t\t<label className=\"col-12 edit-address-input-label\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"loginLoginNameLabel\")}{\" \"}\r\n\t\t\t\t\t\t\t\t{this.validator.message(\"name\", this.state.name, \"required|string\")}\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-md-9 pb-5\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control edit-address-input\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<label className=\"col-12 edit-address-input-label\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"loginLoginEmailLabel\")}{\" \"}\r\n\t\t\t\t\t\t\t\t{this.validator.message(\"email\", this.state.email, \"required|email\")}\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-md-9 pb-5\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control edit-address-input\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<label className=\"col-12 edit-address-input-label\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"loginLoginPhoneLabel\")}{\" \"}\r\n\t\t\t\t\t\t\t\t{this.validator.message(\"phone\", this.state.phone, [\r\n\t\t\t\t\t\t\t\t\t\"required\",\r\n\t\t\t\t\t\t\t\t\t{ regex: [\"^\\\\+[1-9]\\\\d{1,14}$\"] },\r\n\t\t\t\t\t\t\t\t\t{ min: [\"8\"] },\r\n\t\t\t\t\t\t\t\t])}\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-md-9 pb-5\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tdefaultValue={\r\n\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"phoneCountryCode\") === null\r\n\t\t\t\t\t\t\t\t\t\t\t? \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t: localStorage.getItem(\"phoneCountryCode\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tname=\"phone\"\r\n\t\t\t\t\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control edit-address-input\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<label className=\"col-12 edit-address-input-label\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"loginLoginPasswordLabel\")}{\" \"}\r\n\t\t\t\t\t\t\t\t{this.validator.message(\"password\", this.state.password, \"required|min:8\")}\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-md-9\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control edit-address-input\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"mt-20 px-15 pt-15 button-block\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-main\"\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: localStorage.getItem(\"storeColor\") }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<h1>OR</h1>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"btn facebook-login-button btn-block\"\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: localStorage.getItem(\"storeColor\") }}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tLogin with Facebook Account\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"btn google-login-button btn-block\"\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: localStorage.getItem(\"storeColor\") }}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tLogin with Google Account\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t<form onSubmit={this.handleVerifyOtp} id=\"otpForm\" className=\"hidden\">\r\n\t\t\t\t\t\t<div className=\"form-group px-15 pt-30\">\r\n\t\t\t\t\t\t\t<label className=\"col-12 edit-address-input-label\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"otpSentMsg\")} {this.state.phone}\r\n\t\t\t\t\t\t\t\t{this.validator.message(\"otp\", this.state.otp, \"required|numeric|min:4|max:6\")}\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-md-9\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tname=\"otp\"\r\n\t\t\t\t\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control edit-address-input\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-main\"\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: localStorage.getItem(\"storeColor\") }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"verifyOtpBtnText\")}\r\n\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t<div className=\"mt-30 mb-10\">\r\n\t\t\t\t\t\t\t\t{this.state.showResendOtp && (\r\n\t\t\t\t\t\t\t\t\t<div className=\"resend-otp\" onClick={this.resendOtp}>\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"resendOtpMsg\")} {this.state.phone}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t{this.state.countDownSeconds > 0 && (\r\n\t\t\t\t\t\t\t\t\t<div className=\"resend-otp countdown\">\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"resendOtpCountdownMsg\")} {this.state.countDownSeconds}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tonSubmit={this.handleRegisterAfterSocialLogin}\r\n\t\t\t\t\t\tid=\"phoneFormAfterSocialLogin\"\r\n\t\t\t\t\t\tclassName=\"hidden\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"form-group px-15 pt-30\">\r\n\t\t\t\t\t\t\t<label className=\"col-12 edit-address-input-label\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"socialWelcomeText\")} {this.state.name},\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<label className=\"col-12 edit-address-input-label\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"enterPhoneToVerify\")}{\" \"}\r\n\t\t\t\t\t\t\t\t{this.validator.message(\"phone\", this.state.phone, [\r\n\t\t\t\t\t\t\t\t\t\"required\",\r\n\t\t\t\t\t\t\t\t\t{ regex: [\"^\\\\+[1-9]\\\\d{1,14}$\"] },\r\n\t\t\t\t\t\t\t\t\t{ min: [\"8\"] },\r\n\t\t\t\t\t\t\t\t])}\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-md-9 pb-5\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tdefaultValue={\r\n\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"phoneCountryCode\") === null\r\n\t\t\t\t\t\t\t\t\t\t\t? \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t: localStorage.getItem(\"phoneCountryCode\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tname=\"phone\"\r\n\t\t\t\t\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control edit-address-input\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-main\"\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: localStorage.getItem(\"storeColor\") }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"registerRegisterTitle\")}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t<div className=\"text-center mt-3 mb-20\" id=\"socialLoginDiv\">\r\n\t\t\t\t\t\t<p className=\"login-or mt-2\">OR</p>\r\n\t\t\t\t\t\t<div ref=\"socialLoginLoader\">\r\n\t\t\t\t\t\t\t<ContentLoader\r\n\t\t\t\t\t\t\t\theight={60}\r\n\t\t\t\t\t\t\t\twidth={400}\r\n\t\t\t\t\t\t\t\tspeed={1.2}\r\n\t\t\t\t\t\t\t\tprimaryColor=\"#f3f3f3\"\r\n\t\t\t\t\t\t\t\tsecondaryColor=\"#ecebeb\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<rect x=\"28\" y=\"0\" rx=\"0\" ry=\"0\" width=\"165\" height=\"45\" />\r\n\t\t\t\t\t\t\t\t<rect x=\"210\" y=\"0\" rx=\"0\" ry=\"0\" width=\"165\" height=\"45\" />\r\n\t\t\t\t\t\t\t</ContentLoader>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div ref=\"socialLogin\" className=\"hidden\">\r\n\t\t\t\t\t\t\t{localStorage.getItem(\"enableFacebookLogin\") === \"true\" && (\r\n\t\t\t\t\t\t\t\t<SocialButton\r\n\t\t\t\t\t\t\t\t\tprovider=\"facebook\"\r\n\t\t\t\t\t\t\t\t\tappId={localStorage.getItem(\"facebookAppId\")}\r\n\t\t\t\t\t\t\t\t\tonLoginSuccess={this.handleSocialLogin}\r\n\t\t\t\t\t\t\t\t\tonLoginFailure={() => console.log(\"Failed didn't get time to init or login failed\")}\r\n\t\t\t\t\t\t\t\t\tclassName=\"facebook-login-button mr-2\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"facebookLoginButtonText\")}\r\n\t\t\t\t\t\t\t\t</SocialButton>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{localStorage.getItem(\"enableGoogleLogin\") === \"true\" && (\r\n\t\t\t\t\t\t\t\t<SocialButton\r\n\t\t\t\t\t\t\t\t\tprovider=\"google\"\r\n\t\t\t\t\t\t\t\t\tappId={localStorage.getItem(\"googleAppId\")}\r\n\t\t\t\t\t\t\t\t\tonLoginSuccess={this.handleSocialLogin}\r\n\t\t\t\t\t\t\t\t\tonLoginFailure={() => console.log(\"Failed didn't get time to init or login failed\")}\r\n\t\t\t\t\t\t\t\t\tclassName=\"google-login-button\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/google.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Google\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"18px\", marginRight: \"10px\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>{localStorage.getItem(\"googleLoginButtonText\")}</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</SocialButton>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-center mt-50 mb-100\">\r\n\t\t\t\t\t\t{localStorage.getItem(\"regsiterAlreadyHaveAccount\")}{\" \"}\r\n\t\t\t\t\t\t<NavLink to=\"/login\" style={{ color: localStorage.getItem(\"storeColor\") }}>\r\n\t\t\t\t\t\t\t{localStorage.getItem(\"firstScreenLoginBtn\")}\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{localStorage.getItem(\"registrationPolicyMessage\") !== \"null\" && (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"mt-20 mb-20 d-flex align-items-center justify-content-center\"\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t__html: localStorage.getItem(\"registrationPolicyMessage\"),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.user.user,\r\n\tsettings: state.settings.settings,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ registerUser, loginUser, sendOtp, verifyOtp }\r\n)(Register);\r\n"]},"metadata":{},"sourceType":"module"}