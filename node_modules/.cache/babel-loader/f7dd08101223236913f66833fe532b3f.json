{"ast":null,"code":"import _classCallCheck from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/lampp/htdocs/shawarma/src/components/Delivery/Login/index.js\";\nimport React, { Component } from \"react\";\nimport Meta from \"../../helpers/meta\";\nimport { Redirect } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { getSettings } from \"../../../services/settings/actions\";\nimport { loginDeliveryUser } from \"../../../services/Delivery/user/actions\";\nimport { getAllLanguages } from \"../../../services/languages/actions\";\nimport { getSingleLanguageData } from \"../../../services/languages/actions\";\nimport Loading from \"../../helpers/loading\";\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loading: false,\n      email: \"\",\n      password: \"\",\n      error: false\n    };\n\n    _this.handleOnChange = function (event) {\n      // console.log(event.target.value);\n      _this.props.getSingleLanguageData(event.target.value);\n\n      localStorage.setItem(\"userPreferedLanguage\", event.target.value);\n    };\n\n    _this.handleInputEmail = function (event) {\n      _this.setState({\n        email: event.target.value\n      });\n    };\n\n    _this.handleInputPassword = function (event) {\n      _this.setState({\n        password: event.target.value\n      });\n    };\n\n    _this.handleLogin = function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        loading: true\n      });\n\n      _this.props.loginDeliveryUser(_this.state.email, _this.state.password);\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getSettings(); // setTimeout(() => {\n      // \tthis.setState({ error: false });\n      // }, 380);\n\n      this.props.getAllLanguages();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var delivery_user = this.props.delivery_user;\n\n      if (delivery_user !== nextProps.delivery_user) {\n        this.setState({\n          loading: false\n        });\n\n        if (nextProps.delivery_user.success === false) {\n          this.setState({\n            error: true\n          });\n        }\n      }\n\n      if (nextProps.delivery_user.success) {// this.context.router.push(\"/delivery\");\n      }\n\n      if (this.props.languages !== nextProps.languages) {\n        if (localStorage.getItem(\"userPreferedLanguage\")) {\n          this.props.getSingleLanguageData(localStorage.getItem(\"userPreferedLanguage\"));\n        } else {\n          if (nextProps.languages.length) {\n            // console.log(\"NEXT\", nextProps.languages);\n            var id = nextProps.languages.filter(function (lang) {\n              return lang.is_default === 1;\n            })[0].id;\n            this.props.getSingleLanguageData(id);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (window.innerWidth > 768) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        });\n      }\n\n      var delivery_user = this.props.delivery_user;\n\n      if (delivery_user.success) {\n        return (//redirect to account page\n          React.createElement(Redirect, {\n            to: \"/delivery\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84\n            },\n            __self: this\n          })\n        );\n      }\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(Meta, {\n        seotitle: \"Login\",\n        seodescription: localStorage.getItem(\"seoMetaDescription\"),\n        ogtype: \"website\",\n        ogtitle: localStorage.getItem(\"seoOgTitle\"),\n        ogdescription: localStorage.getItem(\"seoOgDescription\"),\n        ogurl: window.location.href,\n        twittertitle: localStorage.getItem(\"seoTwitterTitle\"),\n        twitterdescription: localStorage.getItem(\"seoTwitterDescription\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), this.state.error && React.createElement(\"div\", {\n        className: \"auth-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"error-shake\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, localStorage.getItem(\"emailPassDonotMatch\"))), this.state.loading && React.createElement(Loading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          backgroundColor: \"#f2f4f9\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          height: \"3.5rem\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }))), React.createElement(\"img\", {\n        src: \"/assets/img/login-header.png\",\n        className: \"login-image pull-right mr-15\",\n        alt: \"login-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"login-texts px-15 mt-50 pb-20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"login-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, localStorage.getItem(\"loginLoginTitle\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"login-subtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, localStorage.getItem(\"loginLoginSubTitle\")))), React.createElement(\"div\", {\n        className: \"height-70 bg-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group px-15 pt-30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-12 edit-address-input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, localStorage.getItem(\"loginLoginEmailLabel\")), React.createElement(\"div\", {\n        className: \"col-md-9 pb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"email\",\n        onChange: this.handleInputEmail,\n        className: \"form-control edit-address-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        className: \"col-12 edit-address-input-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, localStorage.getItem(\"loginLoginPasswordLabel\")), React.createElement(\"div\", {\n        className: \"col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        onChange: this.handleInputPassword,\n        className: \"form-control edit-address-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"mt-20 px-15 pt-15 button-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-main\",\n        style: {\n          backgroundColor: localStorage.getItem(\"storeColor\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, localStorage.getItem(\"loginLoginTitle\")))), this.props.languages && this.props.languages.length > 1 && React.createElement(\"div\", {\n        className: \"mt-100 d-flex align-items-center justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, localStorage.getItem(\"changeLanguageText\")), React.createElement(\"select\", {\n        onChange: this.handleOnChange,\n        defaultValue: localStorage.getItem(\"userPreferedLanguage\") ? localStorage.getItem(\"userPreferedLanguage\") : this.props.languages.filter(function (lang) {\n          return lang.is_default === 1;\n        })[0].id,\n        className: \"form-control language-select\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, this.props.languages.map(function (language) {\n        return React.createElement(\"option\", {\n          value: language.id,\n          key: language.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, language.language_name);\n      })))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nLogin.contextTypes = {\n  router: function router() {\n    return null;\n  }\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    delivery_user: state.delivery_user.delivery_user,\n    languages: state.languages.languages,\n    language: state.languages.language\n  };\n};\n\nexport default connect(mapStateToProps, {\n  loginDeliveryUser: loginDeliveryUser,\n  getSettings: getSettings,\n  getAllLanguages: getAllLanguages,\n  getSingleLanguageData: getSingleLanguageData\n})(Login);","map":{"version":3,"sources":["/opt/lampp/htdocs/shawarma/src/components/Delivery/Login/index.js"],"names":["React","Component","Meta","Redirect","connect","getSettings","loginDeliveryUser","getAllLanguages","getSingleLanguageData","Loading","Login","state","loading","email","password","error","handleOnChange","event","props","target","value","localStorage","setItem","handleInputEmail","setState","handleInputPassword","handleLogin","preventDefault","nextProps","delivery_user","success","languages","getItem","length","id","filter","lang","is_default","window","innerWidth","location","href","backgroundColor","height","map","language","language_name","contextTypes","router","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport Meta from \"../../helpers/meta\";\r\nimport { Redirect } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport { getSettings } from \"../../../services/settings/actions\";\r\nimport { loginDeliveryUser } from \"../../../services/Delivery/user/actions\";\r\nimport { getAllLanguages } from \"../../../services/languages/actions\";\r\nimport { getSingleLanguageData } from \"../../../services/languages/actions\";\r\nimport Loading from \"../../helpers/loading\";\r\n\r\nclass Login extends Component {\r\n\tstate = {\r\n\t\tloading: false,\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t\terror: false,\r\n\t};\r\n\tstatic contextTypes = {\r\n\t\trouter: () => null,\r\n\t};\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getSettings();\r\n\r\n\t\t// setTimeout(() => {\r\n\t\t// \tthis.setState({ error: false });\r\n\t\t// }, 380);\r\n\r\n\t\tthis.props.getAllLanguages();\r\n\t}\r\n\r\n\thandleOnChange = (event) => {\r\n\t\t// console.log(event.target.value);\r\n\t\tthis.props.getSingleLanguageData(event.target.value);\r\n\t\tlocalStorage.setItem(\"userPreferedLanguage\", event.target.value);\r\n\t};\r\n\r\n\thandleInputEmail = (event) => {\r\n\t\tthis.setState({ email: event.target.value });\r\n\t};\r\n\thandleInputPassword = (event) => {\r\n\t\tthis.setState({ password: event.target.value });\r\n\t};\r\n\r\n\thandleLogin = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.setState({ loading: true });\r\n\t\tthis.props.loginDeliveryUser(this.state.email, this.state.password);\r\n\t};\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tconst { delivery_user } = this.props;\r\n\t\tif (delivery_user !== nextProps.delivery_user) {\r\n\t\t\tthis.setState({ loading: false });\r\n\t\t\tif (nextProps.delivery_user.success === false) {\r\n\t\t\t\tthis.setState({ error: true });\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (nextProps.delivery_user.success) {\r\n\t\t\t// this.context.router.push(\"/delivery\");\r\n\t\t}\r\n\r\n\t\tif (this.props.languages !== nextProps.languages) {\r\n\t\t\tif (localStorage.getItem(\"userPreferedLanguage\")) {\r\n\t\t\t\tthis.props.getSingleLanguageData(localStorage.getItem(\"userPreferedLanguage\"));\r\n\t\t\t} else {\r\n\t\t\t\tif (nextProps.languages.length) {\r\n\t\t\t\t\t// console.log(\"NEXT\", nextProps.languages);\r\n\t\t\t\t\tconst id = nextProps.languages.filter((lang) => lang.is_default === 1)[0].id;\r\n\t\t\t\t\tthis.props.getSingleLanguageData(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (window.innerWidth > 768) {\r\n\t\t\treturn <Redirect to=\"/\" />;\r\n\t\t}\r\n\t\tconst { delivery_user } = this.props;\r\n\t\tif (delivery_user.success) {\r\n\t\t\treturn (\r\n\t\t\t\t//redirect to account page\r\n\t\t\t\t<Redirect to={\"/delivery\"} />\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tseotitle=\"Login\"\r\n\t\t\t\t\tseodescription={localStorage.getItem(\"seoMetaDescription\")}\r\n\t\t\t\t\togtype=\"website\"\r\n\t\t\t\t\togtitle={localStorage.getItem(\"seoOgTitle\")}\r\n\t\t\t\t\togdescription={localStorage.getItem(\"seoOgDescription\")}\r\n\t\t\t\t\togurl={window.location.href}\r\n\t\t\t\t\ttwittertitle={localStorage.getItem(\"seoTwitterTitle\")}\r\n\t\t\t\t\ttwitterdescription={localStorage.getItem(\"seoTwitterDescription\")}\r\n\t\t\t\t/>\r\n\t\t\t\t{this.state.error && (\r\n\t\t\t\t\t<div className=\"auth-error\">\r\n\t\t\t\t\t\t<div className=\"error-shake\">{localStorage.getItem(\"emailPassDonotMatch\")}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.state.loading && <Loading />}\r\n\t\t\t\t<div style={{ backgroundColor: \"#f2f4f9\" }}>\r\n\t\t\t\t\t<div className=\"input-group\">\r\n\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t<div style={{ height: \"3.5rem\" }} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc=\"/assets/img/login-header.png\"\r\n\t\t\t\t\t\tclassName=\"login-image pull-right mr-15\"\r\n\t\t\t\t\t\talt=\"login-header\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"login-texts px-15 mt-50 pb-20\">\r\n\t\t\t\t\t\t<span className=\"login-title\">{localStorage.getItem(\"loginLoginTitle\")}</span>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<span className=\"login-subtitle\">{localStorage.getItem(\"loginLoginSubTitle\")}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"height-70 bg-white\">\r\n\t\t\t\t\t<form onSubmit={this.handleLogin}>\r\n\t\t\t\t\t\t<div className=\"form-group px-15 pt-30\">\r\n\t\t\t\t\t\t\t<label className=\"col-12 edit-address-input-label\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"loginLoginEmailLabel\")}\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-md-9 pb-5\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleInputEmail}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control edit-address-input\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<label className=\"col-12 edit-address-input-label\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"loginLoginPasswordLabel\")}\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-md-9\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleInputPassword}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control edit-address-input\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"mt-20 px-15 pt-15 button-block\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-main\"\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: localStorage.getItem(\"storeColor\") }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"loginLoginTitle\")}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t{this.props.languages && this.props.languages.length > 1 && (\r\n\t\t\t\t\t\t<div className=\"mt-100 d-flex align-items-center justify-content-center\">\r\n\t\t\t\t\t\t\t<div className=\"mr-2\">{localStorage.getItem(\"changeLanguageText\")}</div>\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tonChange={this.handleOnChange}\r\n\t\t\t\t\t\t\t\tdefaultValue={\r\n\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"userPreferedLanguage\")\r\n\t\t\t\t\t\t\t\t\t\t? localStorage.getItem(\"userPreferedLanguage\")\r\n\t\t\t\t\t\t\t\t\t\t: this.props.languages.filter((lang) => lang.is_default === 1)[0].id\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tclassName=\"form-control language-select\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.props.languages.map((language) => (\r\n\t\t\t\t\t\t\t\t\t<option value={language.id} key={language.id}>\r\n\t\t\t\t\t\t\t\t\t\t{language.language_name}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tdelivery_user: state.delivery_user.delivery_user,\r\n\tlanguages: state.languages.languages,\r\n\tlanguage: state.languages.language,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ loginDeliveryUser, getSettings, getAllLanguages, getSingleLanguageData }\r\n)(Login);\r\n"]},"metadata":{},"sourceType":"module"}