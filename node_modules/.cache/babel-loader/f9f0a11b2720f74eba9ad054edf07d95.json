{"ast":null,"code":"module.exports = function (t) {\n  var e = {};\n\n  function o(n) {\n    if (e[n]) return e[n].exports;\n    var r = e[n] = {\n      i: n,\n      l: !1,\n      exports: {}\n    };\n    return t[n].call(r.exports, r, r.exports, o), r.l = !0, r.exports;\n  }\n\n  return o.m = t, o.c = e, o.d = function (t, e, n) {\n    o.o(t, e) || Object.defineProperty(t, e, {\n      enumerable: !0,\n      get: n\n    });\n  }, o.r = function (t) {\n    \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n      value: \"Module\"\n    }), Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n  }, o.t = function (t, e) {\n    if (1 & e && (t = o(t)), 8 & e) return t;\n    if (4 & e && \"object\" == typeof t && t && t.__esModule) return t;\n    var n = Object.create(null);\n    if (o.r(n), Object.defineProperty(n, \"default\", {\n      enumerable: !0,\n      value: t\n    }), 2 & e && \"string\" != typeof t) for (var r in t) {\n      o.d(n, r, function (e) {\n        return t[e];\n      }.bind(null, r));\n    }\n    return n;\n  }, o.n = function (t) {\n    var e = t && t.__esModule ? function () {\n      return t.default;\n    } : function () {\n      return t;\n    };\n    return o.d(e, \"a\", e), e;\n  }, o.o = function (t, e) {\n    return Object.prototype.hasOwnProperty.call(t, e);\n  }, o.p = \"\", o(o.s = 7);\n}([function (t, e, o) {\n  var n = o(1),\n      r = Math.sqrt(2),\n      i = Math.cos,\n      a = Math.max,\n      u = Math.min;\n\n  function s(t) {\n    return u(t.duration, Date.now() - t.mouseDown);\n  }\n\n  function c(t) {\n    return t.mouseUp > 0 ? Date.now() - t.mouseUp : 0;\n  }\n\n  function l(t) {\n    var e = t.duration,\n        o = t.radius,\n        r = .85 * n(s(t), 0, o, e),\n        u = .15 * n(c(t), 0, o, e),\n        l = .02 * o * i(Date.now() / e);\n    return a(0, r + u + l);\n  }\n\n  t.exports = {\n    getMaxRadius: function getMaxRadius(t, e, o) {\n      return u(.5 * a(t, e), o);\n    },\n    getBlotOpacity: function getBlotOpacity(t, e) {\n      return n(c(t), e, -e, t.duration);\n    },\n    getBlotOuterOpacity: function getBlotOuterOpacity(t, e) {\n      return u(this.getBlotOpacity(t, e), n(s(t), 0, .3, 3 * t.duration));\n    },\n    getBlotShiftX: function getBlotShiftX(t, e, o) {\n      return u(1, l(t) / e * 2 / r) * (o / 2 - t.x);\n    },\n    getBlotShiftY: function getBlotShiftY(t, e, o) {\n      return u(1, l(t) / e * 2 / r) * (o / 2 - t.y);\n    },\n    getBlotScale: function getBlotScale(t) {\n      return l(t) / t.radius;\n    }\n  };\n}, function (t, e) {\n  t.exports = function (t, e, o, n) {\n    return o * ((t = t / n - 1) * t * t * t * t + 1) + e;\n  };\n}, function (t, e, o) {\n  var n = o(0),\n      r = function r(t) {\n    var e = t.mouseUp,\n        o = t.duration;\n    return !e || Date.now() - e < o;\n  };\n\n  t.exports = function (t) {\n    var e = [],\n        o = !1,\n        i = void 0,\n        a = {\n      each: function each(t, o) {\n        for (var n = 0, r = e.length; n < r; n++) {\n          t.call(o, e[n]);\n        }\n      },\n      play: function play() {\n        o || (o = !0, a.update());\n      },\n      stop: function stop() {\n        o = !1, cancelAnimationFrame(i);\n      },\n      getTotalOpacity: function getTotalOpacity(t) {\n        for (var o = 0, r = 0, i = e.length; r < i; r++) {\n          o += n.getBlotOuterOpacity(e[r], t);\n        }\n\n        return o;\n      },\n      update: function update() {\n        (e = e.filter(r)).length ? i = requestAnimationFrame(a.update) : a.stop(), t();\n      },\n      add: function add(t) {\n        e.push(t), a.play();\n      },\n      release: function release(t) {\n        for (var o = e.length - 1; o >= 0; o--) {\n          if (!e[o].mouseUp) return e[o].mouseUp = t;\n        }\n      }\n    };\n    return a;\n  };\n}, function (t, e) {\n  t.exports = {\n    borderRadius: \"inherit\",\n    height: \"100%\",\n    left: 0,\n    position: \"absolute\",\n    top: 0,\n    width: \"100%\"\n  };\n}, function (t, e) {\n  t.exports = require(\"react\");\n}, function (t, e) {\n  t.exports = function (t) {\n    return (window.devicePixelRatio || 1) / (t.webkitBackingStorePixelRatio || t.mozBackingStorePixelRatio || t.msBackingStorePixelRatio || t.oBackingStorePixelRatio || t.backingStorePixelRatio || 1);\n  };\n}, function (t, e) {\n  var o = !1;\n  \"undefined\" != typeof window && (o = \"ontouchstart\" in window || window.DocumentTouch && document instanceof window.DocumentTouch), t.exports = o;\n}, function (t, e, o) {\n  var n = Object.assign || function (t) {\n    for (var e = 1; e < arguments.length; e++) {\n      var o = arguments[e];\n\n      for (var n in o) {\n        Object.prototype.hasOwnProperty.call(o, n) && (t[n] = o[n]);\n      }\n    }\n\n    return t;\n  };\n\n  var r = o(6),\n      i = 0,\n      a = o(5),\n      u = o(4),\n      s = o(3),\n      c = o(2),\n      l = 2 * Math.PI,\n      p = o(0),\n      f = function (t) {\n    function e(o) {\n      !function (t, e) {\n        if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\");\n      }(this, e);\n\n      var n = function (t, e) {\n        if (!t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return !e || \"object\" != typeof e && \"function\" != typeof e ? t : e;\n      }(this, t.apply(this, arguments));\n\n      return n.tick = function () {\n        var t = n.state,\n            e = t.ctx,\n            o = t.color,\n            r = t.density,\n            i = t.height,\n            a = t.width,\n            u = t.store;\n        e.save(), e.scale(r, r), e.clearRect(0, 0, a, i), e.fillStyle = o, n.props.background && (e.globalAlpha = u.getTotalOpacity(n.props.opacity), e.fillRect(0, 0, a, i)), u.each(n.makeBlot, n), e.restore();\n      }, n._onPress = function (t) {\n        var e = t.button,\n            o = t.ctrlKey,\n            r = t.clientX,\n            a = t.clientY,\n            u = t.changedTouches,\n            s = Date.now();\n        if (u) for (var c = 0; c < u.length; c++) {\n          var l = u[c],\n              p = l.clientX,\n              f = l.clientY;\n          n.pushBlot(s, p, f);\n        } else e !== i || o || n.pushBlot(s, r, a);\n      }, n._onRelease = function () {\n        n.state.store.release(Date.now());\n      }, n.state = {\n        color: \"transparent\",\n        density: 1,\n        height: 0,\n        store: c(n.tick),\n        touchEvents: n.touchEvents(),\n        width: 0\n      }, n;\n    }\n\n    return function (t, e) {\n      if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof e);\n      t.prototype = Object.create(e && e.prototype, {\n        constructor: {\n          value: t,\n          enumerable: !1,\n          writable: !0,\n          configurable: !0\n        }\n      }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);\n    }(e, t), e.prototype.touchEvents = function () {\n      return this.props.hasTouch ? {\n        onTouchStart: this._onPress,\n        onTouchEnd: this._onRelease,\n        onTouchCancel: this._onRelease\n      } : {\n        onMouseDown: this._onPress,\n        onMouseUp: this._onRelease,\n        onMouseLeave: this._onRelease\n      };\n    }, e.prototype.makeBlot = function (t) {\n      var e = this.state,\n          o = e.ctx,\n          n = e.height,\n          r = e.width,\n          i = t.x,\n          a = t.y,\n          u = t.radius;\n\n      if (o.globalAlpha = p.getBlotOpacity(t, this.props.opacity), o.beginPath(), this.props.recenter) {\n        var s = Math.max(n, r);\n        i += p.getBlotShiftX(t, s, r), a += p.getBlotShiftY(t, s, n);\n      }\n\n      o.arc(i, a, u * p.getBlotScale(t), 0, l), o.closePath(), o.fill();\n    }, e.prototype.componentWillUnmount = function () {\n      this.state.store.stop();\n    }, e.prototype.pushBlot = function (t, e, o) {\n      var n = this,\n          r = this.canvas;\n      r.getDOMNode && \"function\" == typeof r.getDOMNode && (r = r.getDOMNode());\n      var i = r.getBoundingClientRect(),\n          u = i.top,\n          s = i.bottom,\n          c = i.left,\n          l = i.right,\n          f = window.getComputedStyle(r).color,\n          h = this.state.ctx || r.getContext(\"2d\"),\n          d = a(h),\n          y = s - u,\n          g = l - c,\n          v = p.getMaxRadius(y, g, this.props.radius);\n      this.setState({\n        color: f,\n        ctx: h,\n        density: d,\n        height: y,\n        width: g\n      }, function () {\n        n.state.store.add({\n          duration: n.props.duration,\n          mouseDown: t,\n          mouseUp: 0,\n          radius: v,\n          x: e - c,\n          y: o - u\n        });\n      });\n    }, e.prototype.setCanvas = function (t) {\n      this.canvas = t;\n    }, e.prototype.render = function () {\n      var t = this.state,\n          e = t.className,\n          o = t.density,\n          r = t.height,\n          i = t.width,\n          a = t.touchEvents;\n      return u.createElement(\"canvas\", n({\n        className: e,\n        ref: this.setCanvas.bind(this),\n        style: n({}, s, this.props.style),\n        height: r * o,\n        width: i * o,\n        onDragOver: this._onRelease\n      }, a));\n    }, e;\n  }(u.PureComponent);\n\n  f.defaultProps = {\n    background: !0,\n    className: \"ink\",\n    duration: 1e3,\n    opacity: .25,\n    radius: 150,\n    recenter: !0,\n    hasTouch: r\n  }, t.exports = f;\n}]);","map":null,"metadata":{},"sourceType":"script"}