{"ast":null,"code":"import _classCallCheck from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/lampp/htdocs/shawarma/src/components/helpers/delayLink.js\";\nimport { Link } from \"react-router-dom\";\nimport React from \"react\";\n/**\r\n * Wraps the React Router Link component and creates a delay after the link is clicked.\r\n */\n\nvar DelayLink =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DelayLink, _React$Component);\n\n  function DelayLink(props) {\n    var _this;\n\n    _classCallCheck(this, DelayLink);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DelayLink).call(this, props));\n\n    _this.handleClick = function (e) {\n      var _this$props = _this.props,\n          replace = _this$props.replace,\n          to = _this$props.to,\n          delay = _this$props.delay,\n          onDelayStart = _this$props.onDelayStart,\n          onDelayEnd = _this$props.onDelayEnd;\n      var history = _this.context.router.history;\n\n      if (_this.props.clickAction) {\n        _this.props.clickAction();\n      }\n\n      onDelayStart(e, to);\n\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      e.preventDefault();\n      _this.timeout = setTimeout(function () {\n        if (replace) {\n          history.replace(to);\n        } else {\n          history.push(to);\n        }\n\n        onDelayEnd(e, to);\n      }, delay);\n    };\n\n    _this.timeout = null;\n    return _this;\n  }\n\n  _createClass(DelayLink, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = Object.assign({}, this.props);\n      delete props.delay;\n      delete props.onDelayStart;\n      delete props.onDelayEnd;\n      delete props.clickAction;\n      return React.createElement(Link, Object.assign({}, props, {\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return DelayLink;\n}(React.Component);\n\nDelayLink.defaultProps = {\n  delay: 0,\n  onDelayStart: function onDelayStart() {},\n  onDelayEnd: function onDelayEnd() {}\n};\nDelayLink.contextTypes = Link.contextTypes;\nexport { DelayLink as default };","map":{"version":3,"sources":["/opt/lampp/htdocs/shawarma/src/components/helpers/delayLink.js"],"names":["Link","React","DelayLink","props","handleClick","e","replace","to","delay","onDelayStart","onDelayEnd","history","context","router","clickAction","defaultPrevented","preventDefault","timeout","setTimeout","push","clearTimeout","Object","assign","Component","defaultProps","contextTypes"],"mappings":";;;;;;AAAA,SAASA,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA;;;;IAGqBC,S;;;;;AASjB,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,mFAAMA,KAAN;;AADe,UAWnBC,WAXmB,GAWL,UAAAC,CAAC,EAAI;AAAA,wBAC0C,MAAKF,KAD/C;AAAA,UACPG,OADO,eACPA,OADO;AAAA,UACEC,EADF,eACEA,EADF;AAAA,UACMC,KADN,eACMA,KADN;AAAA,UACaC,YADb,eACaA,YADb;AAAA,UAC2BC,UAD3B,eAC2BA,UAD3B;AAAA,UAEPC,OAFO,GAEK,MAAKC,OAAL,CAAaC,MAFlB,CAEPF,OAFO;;AAIf,UAAI,MAAKR,KAAL,CAAWW,WAAf,EAA4B;AACxB,cAAKX,KAAL,CAAWW,WAAX;AACH;;AACDL,MAAAA,YAAY,CAACJ,CAAD,EAAIE,EAAJ,CAAZ;;AACA,UAAIF,CAAC,CAACU,gBAAN,EAAwB;AACpB;AACH;;AACDV,MAAAA,CAAC,CAACW,cAAF;AACA,YAAKC,OAAL,GAAeC,UAAU,CAAC,YAAM;AAC5B,YAAIZ,OAAJ,EAAa;AACTK,UAAAA,OAAO,CAACL,OAAR,CAAgBC,EAAhB;AACH,SAFD,MAEO;AACHI,UAAAA,OAAO,CAACQ,IAAR,CAAaZ,EAAb;AACH;;AACDG,QAAAA,UAAU,CAACL,CAAD,EAAIE,EAAJ,CAAV;AACH,OAPwB,EAOtBC,KAPsB,CAAzB;AAQH,KA/BkB;;AAEf,UAAKS,OAAL,GAAe,IAAf;AAFe;AAGlB;;;;2CAEsB;AACnB,UAAI,KAAKA,OAAT,EAAkB;AACdG,QAAAA,YAAY,CAAC,KAAKH,OAAN,CAAZ;AACH;AACJ;;;6BAuBQ;AACL,UAAMd,KAAK,GAAGkB,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKnB,KAAvB,CAAd;AACA,aAAOA,KAAK,CAACK,KAAb;AACA,aAAOL,KAAK,CAACM,YAAb;AACA,aAAON,KAAK,CAACO,UAAb;AACA,aAAOP,KAAK,CAACW,WAAb;AAEA,aAAO,oBAAC,IAAD,oBAAUX,KAAV;AAAiB,QAAA,OAAO,EAAE,KAAKC,WAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACH;;;;EAjDkCH,KAAK,CAACsB,S;;AAAxBrB,S,CACVsB,Y,GAAe;AAClBhB,EAAAA,KAAK,EAAE,CADW;AAElBC,EAAAA,YAAY,EAAE,wBAAM,CAAE,CAFJ;AAGlBC,EAAAA,UAAU,EAAE,sBAAM,CAAE;AAHF,C;AADLR,S,CAOVuB,Y,GAAezB,IAAI,CAACyB,Y;SAPVvB,S","sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\n/**\r\n * Wraps the React Router Link component and creates a delay after the link is clicked.\r\n */\r\nexport default class DelayLink extends React.Component {\r\n    static defaultProps = {\r\n        delay: 0,\r\n        onDelayStart: () => {},\r\n        onDelayEnd: () => {}\r\n    };\r\n\r\n    static contextTypes = Link.contextTypes;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.timeout = null;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.timeout) {\r\n            clearTimeout(this.timeout);\r\n        }\r\n    }\r\n\r\n    handleClick = e => {\r\n        const { replace, to, delay, onDelayStart, onDelayEnd } = this.props;\r\n        const { history } = this.context.router;\r\n\r\n        if (this.props.clickAction) {\r\n            this.props.clickAction();\r\n        }\r\n        onDelayStart(e, to);\r\n        if (e.defaultPrevented) {\r\n            return;\r\n        }\r\n        e.preventDefault();\r\n        this.timeout = setTimeout(() => {\r\n            if (replace) {\r\n                history.replace(to);\r\n            } else {\r\n                history.push(to);\r\n            }\r\n            onDelayEnd(e, to);\r\n        }, delay);\r\n    };\r\n    render() {\r\n        const props = Object.assign({}, this.props);\r\n        delete props.delay;\r\n        delete props.onDelayStart;\r\n        delete props.onDelayEnd;\r\n        delete props.clickAction;\r\n\r\n        return <Link {...props} onClick={this.handleClick} />;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}