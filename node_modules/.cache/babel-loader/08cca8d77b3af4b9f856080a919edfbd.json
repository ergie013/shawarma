{"ast":null,"code":"import _classCallCheck from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/lampp/htdocs/shawarma/src/components/Mobile/Cart/BillDetails/index.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { formatPrice } from \"../../../helpers/formatPrice\";\nimport { couponApplied } from \"../../../../services/coupon/actions\";\n\nvar BillDetails =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BillDetails, _Component);\n\n  function BillDetails() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BillDetails);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BillDetails)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      delivery_charges: 0,\n      distance: 0\n    };\n\n    _this.calculateDynamicDeliveryCharge = function () {\n      var restaurant_info = _this.props.restaurant_info;\n      var distanceFromUserToRestaurant = _this.state.distance;\n      console.log(\"Distance from user to restaurant: \" + distanceFromUserToRestaurant + \" km\");\n\n      if (distanceFromUserToRestaurant > restaurant_info.base_delivery_distance) {\n        var extraDistance = distanceFromUserToRestaurant - restaurant_info.base_delivery_distance;\n        console.log(\"Extra Distance: \" + extraDistance + \" km\");\n        var extraCharge = extraDistance / restaurant_info.extra_delivery_distance * restaurant_info.extra_delivery_charge;\n        console.log(\"Extra Charge: \" + extraCharge);\n        var dynamicDeliveryCharge = parseFloat(restaurant_info.base_delivery_charge) + parseFloat(extraCharge);\n        console.log(\"Total Charge: \" + dynamicDeliveryCharge);\n\n        if (localStorage.getItem(\"enDelChrRnd\") === \"true\") {\n          dynamicDeliveryCharge = Math.ceil(dynamicDeliveryCharge);\n        }\n\n        _this.setState({\n          delivery_charges: dynamicDeliveryCharge\n        });\n      } else {\n        _this.setState({\n          delivery_charges: restaurant_info.base_delivery_charge\n        });\n      }\n    };\n\n    _this.getTotalAfterCalculation = function () {\n      var _this$props = _this.props,\n          total = _this$props.total,\n          restaurant_info = _this$props.restaurant_info,\n          coupon = _this$props.coupon;\n      var calc = 0;\n\n      if (coupon.code) {\n        if (coupon.discount_type === \"PERCENTAGE\") {\n          var percentage_discount = formatPrice(coupon.discount / 100 * parseFloat(total));\n\n          if (coupon.max_discount) {\n            if (parseFloat(percentage_discount) >= coupon.max_discount) {\n              percentage_discount = coupon.max_discount;\n            }\n          } // coupon.appliedAmount = percentage_discount;\n\n\n          _this.props.couponApplied(coupon, percentage_discount);\n\n          calc = formatPrice(formatPrice(parseFloat(total) - percentage_discount + parseFloat(restaurant_info.restaurant_charges || 0.0) + parseFloat(_this.state.delivery_charges || 0.0)));\n        } else {\n          calc = formatPrice(parseFloat(total) - (parseFloat(coupon.discount) || 0.0) + ((parseFloat(restaurant_info.restaurant_charges) || 0.0) + (parseFloat(_this.state.delivery_charges) || 0.0)));\n        }\n      } else {\n        calc = formatPrice(parseFloat(total) + parseFloat(restaurant_info.restaurant_charges || 0.0) + parseFloat(_this.state.delivery_charges || 0.0));\n      }\n\n      if (localStorage.getItem(\"taxApplicable\") === \"true\") {\n        calc = formatPrice(parseFloat(parseFloat(calc) + parseFloat(parseFloat(localStorage.getItem(\"taxPercentage\")) / 100) * calc));\n        return calc;\n      } else {\n        return calc;\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(BillDetails, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (localStorage.getItem(\"userSelected\") === \"SELFPICKUP\") {\n        this.setState({\n          delivery_charges: 0\n        });\n      } else {\n        this.setState({\n          delivery_charges: this.props.restaurant_info.delivery_charges\n        });\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      if (localStorage.getItem(\"userSelected\") === \"DELIVERY\") {\n        if (this.props.restaurant_info.delivery_charges !== nextProps.restaurant_info.delivery_charges) {\n          this.setState({\n            delivery_charges: nextProps.restaurant_info.delivery_charges\n          });\n        }\n      }\n\n      if (nextProps.distance) {\n        if (localStorage.getItem(\"userSelected\") === \"DELIVERY\") {\n          if (nextProps.restaurant_info.delivery_charge_type === \"DYNAMIC\") {\n            this.setState({\n              distance: nextProps.distance\n            }, function () {\n              //check if restaurant has dynamic delivery charge..\n              _this2.calculateDynamicDeliveryCharge();\n            });\n          }\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          total = _this$props2.total,\n          restaurant_info = _this$props2.restaurant_info,\n          coupon = _this$props2.coupon;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"bg-white bill-details mb-200\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"p-15\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"bill-detail-text m-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, localStorage.getItem(\"cartBillDetailsText\")), React.createElement(\"div\", {\n        className: \"display-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, localStorage.getItem(\"cartItemTotalText\")), React.createElement(\"div\", {\n        className: \"flex-auto text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, localStorage.getItem(\"currencySymbolAlign\") === \"left\" && localStorage.getItem(\"currencyFormat\"), formatPrice(total), localStorage.getItem(\"currencySymbolAlign\") === \"right\" && localStorage.getItem(\"currencyFormat\"))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }), coupon.code && React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"display-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex-auto coupon-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, localStorage.getItem(\"cartCouponText\")), React.createElement(\"div\", {\n        className: \"flex-auto text-right coupon-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"-\"), coupon.discount_type === \"PERCENTAGE\" ? React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, coupon.discount, \"%\", \" \", React.createElement(\"span\", {\n        className: \"coupon-appliedAmount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"(\", localStorage.getItem(\"currencySymbolAlign\") === \"left\" && localStorage.getItem(\"currencyFormat\") + coupon.appliedAmount, localStorage.getItem(\"currencySymbolAlign\") === \"right\" && coupon.appliedAmount + localStorage.getItem(\"currencyFormat\"), \")\")) : React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, localStorage.getItem(\"currencySymbolAlign\") === \"left\" && localStorage.getItem(\"currencyFormat\") + coupon.discount, localStorage.getItem(\"currencySymbolAlign\") === \"right\" && coupon.discount + localStorage.getItem(\"currencyFormat\")))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      })), restaurant_info.restaurant_charges === \"0.00\" || restaurant_info.restaurant_charges === null ? null : React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"display-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, localStorage.getItem(\"cartRestaurantCharges\")), React.createElement(\"div\", {\n        className: \"flex-auto text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, localStorage.getItem(\"currencySymbolAlign\") === \"left\" && localStorage.getItem(\"currencyFormat\"), restaurant_info.restaurant_charges, localStorage.getItem(\"currencySymbolAlign\") === \"right\" && localStorage.getItem(\"currencyFormat\"))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      })), this.state.delivery_charges === 0 ? React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"display-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, localStorage.getItem(\"cartDeliveryCharges\")), React.createElement(\"div\", {\n        className: \"flex-auto text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, localStorage.getItem(\"currencySymbolAlign\") === \"left\" && localStorage.getItem(\"currencyFormat\"), \"0\", localStorage.getItem(\"currencySymbolAlign\") === \"right\" && localStorage.getItem(\"currencyFormat\"))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      })) : React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"display-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, localStorage.getItem(\"cartDeliveryCharges\")), React.createElement(\"div\", {\n        className: \"flex-auto text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, localStorage.getItem(\"currencySymbolAlign\") === \"left\" && localStorage.getItem(\"currencyFormat\"), formatPrice(this.state.delivery_charges), localStorage.getItem(\"currencySymbolAlign\") === \"right\" && localStorage.getItem(\"currencyFormat\"))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      })), localStorage.getItem(\"taxApplicable\") === \"true\" && React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"display-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex-auto text-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, localStorage.getItem(\"taxText\")), React.createElement(\"div\", {\n        className: \"flex-auto text-right text-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, \"+\"), localStorage.getItem(\"taxPercentage\"), \"%\")), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"display-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex-auto font-w700\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, localStorage.getItem(\"cartToPayText\")), React.createElement(\"div\", {\n        className: \"flex-auto text-right font-w700\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, localStorage.getItem(\"currencySymbolAlign\") === \"left\" && localStorage.getItem(\"currencyFormat\"), this.getTotalAfterCalculation(), localStorage.getItem(\"currencySymbolAlign\") === \"right\" && localStorage.getItem(\"currencyFormat\"))), localStorage.getItem(\"userSelected\") === \"SELFPICKUP\" && React.createElement(\"p\", {\n        className: \"my-2 mt-3 text-danger font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, localStorage.getItem(\"selectedSelfPickupMessage\")))));\n    }\n  }]);\n\n  return BillDetails;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    coupon: state.coupon.coupon,\n    restaurant_info: state.items.restaurant_info\n  };\n};\n\nexport default connect(mapStateToProps, {\n  couponApplied: couponApplied\n})(BillDetails);","map":{"version":3,"sources":["/opt/lampp/htdocs/shawarma/src/components/Mobile/Cart/BillDetails/index.js"],"names":["React","Component","connect","formatPrice","couponApplied","BillDetails","state","delivery_charges","distance","calculateDynamicDeliveryCharge","restaurant_info","props","distanceFromUserToRestaurant","console","log","base_delivery_distance","extraDistance","extraCharge","extra_delivery_distance","extra_delivery_charge","dynamicDeliveryCharge","parseFloat","base_delivery_charge","localStorage","getItem","Math","ceil","setState","getTotalAfterCalculation","total","coupon","calc","code","discount_type","percentage_discount","discount","max_discount","restaurant_charges","nextProps","delivery_charge_type","appliedAmount","mapStateToProps","items"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { formatPrice } from \"../../../helpers/formatPrice\";\r\nimport { couponApplied } from \"../../../../services/coupon/actions\";\r\n\r\nclass BillDetails extends Component {\r\n\tstate = {\r\n\t\tdelivery_charges: 0,\r\n\t\tdistance: 0,\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (localStorage.getItem(\"userSelected\") === \"SELFPICKUP\") {\r\n\t\t\tthis.setState({ delivery_charges: 0 });\r\n\t\t} else {\r\n\t\t\tthis.setState({ delivery_charges: this.props.restaurant_info.delivery_charges });\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (localStorage.getItem(\"userSelected\") === \"DELIVERY\") {\r\n\t\t\tif (this.props.restaurant_info.delivery_charges !== nextProps.restaurant_info.delivery_charges) {\r\n\t\t\t\tthis.setState({ delivery_charges: nextProps.restaurant_info.delivery_charges });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (nextProps.distance) {\r\n\t\t\tif (localStorage.getItem(\"userSelected\") === \"DELIVERY\") {\r\n\t\t\t\tif (nextProps.restaurant_info.delivery_charge_type === \"DYNAMIC\") {\r\n\t\t\t\t\tthis.setState({ distance: nextProps.distance }, () => {\r\n\t\t\t\t\t\t//check if restaurant has dynamic delivery charge..\r\n\t\t\t\t\t\tthis.calculateDynamicDeliveryCharge();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcalculateDynamicDeliveryCharge = () => {\r\n\t\tconst { restaurant_info } = this.props;\r\n\r\n\t\tconst distanceFromUserToRestaurant = this.state.distance;\r\n\t\tconsole.log(\"Distance from user to restaurant: \" + distanceFromUserToRestaurant + \" km\");\r\n\r\n\t\tif (distanceFromUserToRestaurant > restaurant_info.base_delivery_distance) {\r\n\t\t\tconst extraDistance = distanceFromUserToRestaurant - restaurant_info.base_delivery_distance;\r\n\t\t\tconsole.log(\"Extra Distance: \" + extraDistance + \" km\");\r\n\r\n\t\t\tconst extraCharge =\r\n\t\t\t\t(extraDistance / restaurant_info.extra_delivery_distance) * restaurant_info.extra_delivery_charge;\r\n\t\t\tconsole.log(\"Extra Charge: \" + extraCharge);\r\n\r\n\t\t\tlet dynamicDeliveryCharge = parseFloat(restaurant_info.base_delivery_charge) + parseFloat(extraCharge);\r\n\t\t\tconsole.log(\"Total Charge: \" + dynamicDeliveryCharge);\r\n\t\t\tif (localStorage.getItem(\"enDelChrRnd\") === \"true\") {\r\n\t\t\t\tdynamicDeliveryCharge = Math.ceil(dynamicDeliveryCharge);\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({ delivery_charges: dynamicDeliveryCharge });\r\n\t\t} else {\r\n\t\t\tthis.setState({ delivery_charges: restaurant_info.base_delivery_charge });\r\n\t\t}\r\n\t};\r\n\r\n\t// Calculating total with/without coupon/tax\r\n\tgetTotalAfterCalculation = () => {\r\n\t\tconst { total, restaurant_info, coupon } = this.props;\r\n\t\tlet calc = 0;\r\n\t\tif (coupon.code) {\r\n\t\t\tif (coupon.discount_type === \"PERCENTAGE\") {\r\n\t\t\t\tlet percentage_discount = formatPrice((coupon.discount / 100) * parseFloat(total));\r\n\t\t\t\tif (coupon.max_discount) {\r\n\t\t\t\t\tif (parseFloat(percentage_discount) >= coupon.max_discount) {\r\n\t\t\t\t\t\tpercentage_discount = coupon.max_discount;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// coupon.appliedAmount = percentage_discount;\r\n\t\t\t\tthis.props.couponApplied(coupon, percentage_discount);\r\n\t\t\t\tcalc = formatPrice(\r\n\t\t\t\t\tformatPrice(\r\n\t\t\t\t\t\tparseFloat(total) -\r\n\t\t\t\t\t\t\tpercentage_discount +\r\n\t\t\t\t\t\t\tparseFloat(restaurant_info.restaurant_charges || 0.0) +\r\n\t\t\t\t\t\t\tparseFloat(this.state.delivery_charges || 0.0)\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tcalc = formatPrice(\r\n\t\t\t\t\tparseFloat(total) -\r\n\t\t\t\t\t\t(parseFloat(coupon.discount) || 0.0) +\r\n\t\t\t\t\t\t((parseFloat(restaurant_info.restaurant_charges) || 0.0) +\r\n\t\t\t\t\t\t\t(parseFloat(this.state.delivery_charges) || 0.0))\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tcalc = formatPrice(\r\n\t\t\t\tparseFloat(total) +\r\n\t\t\t\t\tparseFloat(restaurant_info.restaurant_charges || 0.0) +\r\n\t\t\t\t\tparseFloat(this.state.delivery_charges || 0.0)\r\n\t\t\t);\r\n\t\t}\r\n\t\tif (localStorage.getItem(\"taxApplicable\") === \"true\") {\r\n\t\t\tcalc = formatPrice(\r\n\t\t\t\tparseFloat(\r\n\t\t\t\t\tparseFloat(calc) + parseFloat(parseFloat(localStorage.getItem(\"taxPercentage\")) / 100) * calc\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\treturn calc;\r\n\t\t} else {\r\n\t\t\treturn calc;\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { total, restaurant_info, coupon } = this.props;\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"bg-white bill-details mb-200\">\r\n\t\t\t\t\t<div className=\"p-15\">\r\n\t\t\t\t\t\t<h2 className=\"bill-detail-text m-0\">{localStorage.getItem(\"cartBillDetailsText\")}</h2>\r\n\t\t\t\t\t\t<div className=\"display-flex\">\r\n\t\t\t\t\t\t\t<div className=\"flex-auto\">{localStorage.getItem(\"cartItemTotalText\")}</div>\r\n\t\t\t\t\t\t\t<div className=\"flex-auto text-right\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t{formatPrice(total)}\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t{coupon.code && (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<div className=\"display-flex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto coupon-text\">\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"cartCouponText\")}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right coupon-text\">\r\n\t\t\t\t\t\t\t\t\t\t<span>-</span>\r\n\t\t\t\t\t\t\t\t\t\t{coupon.discount_type === \"PERCENTAGE\" ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{coupon.discount}%{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"coupon-appliedAmount\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\") + coupon.appliedAmount}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcoupon.appliedAmount + localStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\") + coupon.discount}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcoupon.discount + localStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{restaurant_info.restaurant_charges === \"0.00\" ||\r\n\t\t\t\t\t\trestaurant_info.restaurant_charges === null ? null : (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<div className=\"display-flex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto\">{localStorage.getItem(\"cartRestaurantCharges\")}</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right\">\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t{restaurant_info.restaurant_charges}\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{this.state.delivery_charges === 0 ? (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<div className=\"display-flex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto\">{localStorage.getItem(\"cartDeliveryCharges\")}</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right\">\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<div className=\"display-flex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto\">{localStorage.getItem(\"cartDeliveryCharges\")}</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right\">\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t{formatPrice(this.state.delivery_charges)}\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{localStorage.getItem(\"taxApplicable\") === \"true\" && (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<div className=\"display-flex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-danger\">{localStorage.getItem(\"taxText\")}</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right text-danger\">\r\n\t\t\t\t\t\t\t\t\t\t<span>+</span>\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"taxPercentage\")}%\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className=\"display-flex\">\r\n\t\t\t\t\t\t\t<div className=\"flex-auto font-w700\">{localStorage.getItem(\"cartToPayText\")}</div>\r\n\t\t\t\t\t\t\t<div className=\"flex-auto text-right font-w700\">\r\n\t\t\t\t\t\t\t\t{/* Calculating total after discount coupon or without discount coupon */}\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t{this.getTotalAfterCalculation()}\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{localStorage.getItem(\"userSelected\") === \"SELFPICKUP\" && (\r\n\t\t\t\t\t\t\t<p className=\"my-2 mt-3 text-danger font-weight-bold\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"selectedSelfPickupMessage\")}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tcoupon: state.coupon.coupon,\r\n\trestaurant_info: state.items.restaurant_info,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ couponApplied }\r\n)(BillDetails);\r\n"]},"metadata":{},"sourceType":"module"}