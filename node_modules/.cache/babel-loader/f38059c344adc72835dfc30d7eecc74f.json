{"ast":null,"code":"import _classCallCheck from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/lampp/htdocs/shawarma/src/components/Mobile/Cart/Coupon/index.js\";\nimport React, { Component } from \"react\";\nimport Ink from \"react-ink\";\nimport { applyCoupon } from \"../../../../services/coupon/actions\";\nimport { connect } from \"react-redux\";\n\nvar Coupon =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Coupon, _Component);\n\n  function Coupon() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Coupon);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Coupon)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      inputCoupon: \"\",\n      couponFailed: false,\n      couponFailedType: \"\",\n      couponSubtotalMessage: \"\"\n    };\n\n    _this.handleInput = function (event) {\n      _this.setState({\n        inputCoupon: event.target.value\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n\n      _this.props.applyCoupon(_this.state.inputCoupon, _this.props.restaurant_info.id, _this.props.subtotal);\n    };\n\n    return _this;\n  }\n\n  _createClass(Coupon, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // automatically apply coupon if already exists in localstorage\n      if (localStorage.getItem(\"appliedCoupon\")) {\n        this.setState({\n          inputCoupon: localStorage.getItem(\"appliedCoupon\")\n        }, function () {\n          _this2.refs.couponInput.defaultValue = localStorage.getItem(\"appliedCoupon\");\n\n          _this2.props.applyCoupon(localStorage.getItem(\"appliedCoupon\"), _this2.props.restaurant_info.id, _this2.props.subtotal);\n        });\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var coupon = this.props.coupon; //check if props changed after calling the server\n\n      if (coupon !== nextProps.coupon) {\n        //if nextProps.coupon is successful then\n        if (nextProps.coupon.success) {\n          console.log(\"SUCCESS COUPON\");\n          localStorage.setItem(\"appliedCoupon\", nextProps.coupon.code);\n          this.setState({\n            couponFailed: false\n          });\n        } else {\n          console.log(\"COUPON Removed\"); // coupon is invalid\n\n          console.log(\"FAILED COUPON\");\n          localStorage.removeItem(\"appliedCoupon\");\n          this.setState({\n            couponFailed: !nextProps.coupon.hideMessage,\n            couponFailedType: nextProps.coupon.type,\n            couponSubtotalMessage: nextProps.coupon.message\n          });\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {// this.props.coupon.code = undefined;\n      // localStorage.removeItem(\"appliedCoupon\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var coupon = this.props.coupon;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group mb-20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"coupon-form\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn apply-coupon-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"si si-tag\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }))), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control apply-coupon-input\",\n        placeholder: localStorage.getItem(\"cartCouponText\"),\n        onChange: this.handleInput,\n        style: {\n          color: localStorage.getItem(\"storeColor\")\n        },\n        spellCheck: \"false\",\n        ref: \"couponInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"input-group-append\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn apply-coupon-btn\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"si si-arrow-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), React.createElement(Ink, {\n        duration: \"500\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"coupon-status\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, coupon.code && React.createElement(\"div\", {\n        className: \"coupon-success pt-10 pb-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, localStorage.getItem(\"showCouponDescriptionOnSuccess\") === \"true\" ? React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, coupon.description) : React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, '\"' + coupon.code + '\"', \" \", localStorage.getItem(\"cartApplyCoupon\"), \" \", coupon.discount_type === \"PERCENTAGE\" ? coupon.discount + \"%\" : React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, localStorage.getItem(\"currencySymbolAlign\") === \"left\" && localStorage.getItem(\"currencyFormat\") + coupon.discount, localStorage.getItem(\"currencySymbolAlign\") === \"right\" && coupon.discount + localStorage.getItem(\"currencyFormat\"), \" \", localStorage.getItem(\"cartCouponOffText\")))), this.state.couponFailed && (this.state.couponFailedType === \"MINSUBTOTAL\" ? React.createElement(\"div\", {\n        className: \"coupon-fail pt-10 pb-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, this.state.couponSubtotalMessage) : React.createElement(\"div\", {\n        className: \"coupon-fail pt-10 pb-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, localStorage.getItem(\"cartInvalidCoupon\"))))));\n    }\n  }]);\n\n  return Coupon;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    coupon: state.coupon.coupon,\n    restaurant_info: state.items.restaurant_info\n  };\n};\n\nexport default connect(mapStateToProps, {\n  applyCoupon: applyCoupon\n})(Coupon);","map":{"version":3,"sources":["/opt/lampp/htdocs/shawarma/src/components/Mobile/Cart/Coupon/index.js"],"names":["React","Component","Ink","applyCoupon","connect","Coupon","state","inputCoupon","couponFailed","couponFailedType","couponSubtotalMessage","handleInput","event","setState","target","value","handleSubmit","preventDefault","props","restaurant_info","id","subtotal","localStorage","getItem","refs","couponInput","defaultValue","nextProps","coupon","success","console","log","setItem","code","removeItem","hideMessage","type","message","color","description","discount_type","discount","mapStateToProps","items"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport Ink from \"react-ink\";\r\nimport { applyCoupon } from \"../../../../services/coupon/actions\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass Coupon extends Component {\r\n\tstate = {\r\n\t\tinputCoupon: \"\",\r\n\t\tcouponFailed: false,\r\n\t\tcouponFailedType: \"\",\r\n\t\tcouponSubtotalMessage: \"\",\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\t// automatically apply coupon if already exists in localstorage\r\n\t\tif (localStorage.getItem(\"appliedCoupon\")) {\r\n\t\t\tthis.setState({ inputCoupon: localStorage.getItem(\"appliedCoupon\") }, () => {\r\n\t\t\t\tthis.refs.couponInput.defaultValue = localStorage.getItem(\"appliedCoupon\");\r\n\t\t\t\tthis.props.applyCoupon(\r\n\t\t\t\t\tlocalStorage.getItem(\"appliedCoupon\"),\r\n\t\t\t\t\tthis.props.restaurant_info.id,\r\n\t\t\t\t\tthis.props.subtotal\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tconst { coupon } = this.props;\r\n\t\t//check if props changed after calling the server\r\n\t\tif (coupon !== nextProps.coupon) {\r\n\t\t\t//if nextProps.coupon is successful then\r\n\t\t\tif (nextProps.coupon.success) {\r\n\t\t\t\tconsole.log(\"SUCCESS COUPON\");\r\n\t\t\t\tlocalStorage.setItem(\"appliedCoupon\", nextProps.coupon.code);\r\n\t\t\t\tthis.setState({ couponFailed: false });\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"COUPON Removed\");\r\n\t\t\t\t// coupon is invalid\r\n\t\t\t\tconsole.log(\"FAILED COUPON\");\r\n\t\t\t\tlocalStorage.removeItem(\"appliedCoupon\");\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcouponFailed: !nextProps.coupon.hideMessage,\r\n\t\t\t\t\tcouponFailedType: nextProps.coupon.type,\r\n\t\t\t\t\tcouponSubtotalMessage: nextProps.coupon.message,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\thandleInput = (event) => {\r\n\t\tthis.setState({ inputCoupon: event.target.value });\r\n\t};\r\n\r\n\thandleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.props.applyCoupon(this.state.inputCoupon, this.props.restaurant_info.id, this.props.subtotal);\r\n\t};\r\n\r\n\tcomponentWillUnmount() {\r\n\t\t// this.props.coupon.code = undefined;\r\n\t\t// localStorage.removeItem(\"appliedCoupon\");\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { coupon } = this.props;\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"input-group mb-20\">\r\n\t\t\t\t\t<form className=\"coupon-form\" onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t\t<div className=\"input-group\">\r\n\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t<button className=\"btn apply-coupon-btn\">\r\n\t\t\t\t\t\t\t\t\t<i className=\"si si-tag\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control apply-coupon-input\"\r\n\t\t\t\t\t\t\t\tplaceholder={localStorage.getItem(\"cartCouponText\")}\r\n\t\t\t\t\t\t\t\tonChange={this.handleInput}\r\n\t\t\t\t\t\t\t\tstyle={{ color: localStorage.getItem(\"storeColor\") }}\r\n\t\t\t\t\t\t\t\tspellCheck=\"false\"\r\n\t\t\t\t\t\t\t\tref=\"couponInput\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div className=\"input-group-append\">\r\n\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn apply-coupon-btn\" onClick={this.handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t<i className=\"si si-arrow-right\" />\r\n\t\t\t\t\t\t\t\t\t<Ink duration=\"500\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<div className=\"coupon-status\">\r\n\t\t\t\t\t\t{coupon.code && (\r\n\t\t\t\t\t\t\t<div className=\"coupon-success pt-10 pb-10\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"showCouponDescriptionOnSuccess\") === \"true\" ? (\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>{coupon.description}</React.Fragment>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t{'\"' + coupon.code + '\"'} {localStorage.getItem(\"cartApplyCoupon\")}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t{coupon.discount_type === \"PERCENTAGE\" ? (\r\n\t\t\t\t\t\t\t\t\t\t\tcoupon.discount + \"%\"\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\") + coupon.discount}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcoupon.discount + localStorage.getItem(\"currencyFormat\")}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"cartCouponOffText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{/* Coupon is not applied, then coupon state is true */}\r\n\t\t\t\t\t\t{this.state.couponFailed &&\r\n\t\t\t\t\t\t\t(this.state.couponFailedType === \"MINSUBTOTAL\" ? (\r\n\t\t\t\t\t\t\t\t<div className=\"coupon-fail pt-10 pb-10\">{this.state.couponSubtotalMessage}</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"coupon-fail pt-10 pb-10\">\r\n\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"cartInvalidCoupon\")}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tcoupon: state.coupon.coupon,\r\n\trestaurant_info: state.items.restaurant_info,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ applyCoupon }\r\n)(Coupon);\r\n"]},"metadata":{},"sourceType":"module"}