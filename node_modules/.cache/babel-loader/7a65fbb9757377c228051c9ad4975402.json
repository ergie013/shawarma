{"ast":null,"code":"import _classCallCheck from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/lampp/htdocs/shawarma/src/components/Mobile/Location/index.js\";\nimport React, { Component } from \"react\";\nimport Flip from \"react-reveal/Flip\";\nimport GooglePlacesAutocomplete from \"react-google-places-autocomplete\";\nimport Meta from \"../../helpers/meta\";\nimport PopularPlaces from \"./PopularPlaces\";\nimport { Redirect } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { geocodeByPlaceId } from \"react-google-places-autocomplete\";\nimport { getPopularLocations } from \"../../../services/popularLocations/actions\";\nimport { GET_ADDRESS_FROM_COORDINATES } from \"../../../configs\";\nimport Axios from \"axios\";\nimport { getAddresses, setDefaultAddress } from \"../../../services/addresses/actions\";\nimport AddressList from \"../Account/Addresses/AddressList\";\nimport Ink from \"react-ink\";\n\nvar Location =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Location, _Component);\n\n  function Location() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Location);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Location)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      google_script_loaded: false,\n      loading_popular_location: true,\n      gps_loading: false\n    };\n\n    _this.handleGeoLocationClick = function (results) {\n      // console.log(results);\n      var saveGeoLocation = new Promise(function (resolve) {\n        localStorage.setItem(\"geoLocation\", JSON.stringify(results[0]));\n        resolve(\"GeoLocation Saved\");\n      });\n      saveGeoLocation.then(function () {\n        _this.setState({\n          gps_loading: false\n        });\n\n        _this.context.router.history.push(\"/my-location\");\n      });\n    };\n\n    _this.getMyLocation = function () {\n      var location = navigator && navigator.geolocation;\n      console.log(\"LOCATION\", location);\n\n      _this.setState({\n        gps_loading: true\n      });\n\n      if (location) {\n        location.getCurrentPosition(function (position) {\n          _this.reverseLookup(position.coords.latitude, position.coords.longitude);\n        }, function (error) {\n          _this.setState({\n            gps_loading: false\n          });\n\n          console.log(error);\n          alert(localStorage.getItem(\"gpsAccessNotGrantedMsg\"));\n        });\n      }\n    };\n\n    _this.reverseLookup = function (lat, lng) {\n      Axios.post(GET_ADDRESS_FROM_COORDINATES, {\n        lat: lat,\n        lng: lng\n      }).then(function (response) {\n        console.log(response);\n        var myLocation = [{\n          formatted_address: response.data,\n          geometry: {\n            location: {\n              lat: lat,\n              lng: lng\n            }\n          }\n        }];\n\n        _this.handleGeoLocationClick(myLocation);\n      }).catch(function (error) {\n        console.warn(error.response.data);\n      });\n    };\n\n    _this.handleSetDefaultAddress = function (address_id, address) {\n      // console.log(\"Address FULL\", address);\n      var user = _this.props.user;\n\n      if (user.success) {\n        _this.props.setDefaultAddress(user.data.id, address_id, user.data.auth_token).then(function () {\n          var saveUserSetAddress = new Promise(function (resolve) {\n            var userSetAddress = {\n              lat: address.latitude,\n              lng: address.longitude,\n              address: address.address,\n              house: address.house,\n              tag: address.tag\n            };\n            localStorage.setItem(\"userSetAddress\", JSON.stringify(userSetAddress));\n            resolve(\"Address Saved\");\n          });\n          saveUserSetAddress.then(function () {\n            _this.context.router.history.push(\"/\");\n          });\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Location, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.props.getPopularLocations();\n\n      if (this.searchInput) {\n        this.searchInput.focus();\n      } // setTimeout(() => {\n      // \tthis.setState({ google_script_loaded: true });\n      // }, 2000);\n\n\n      var existingScript = document.getElementById(\"googleMaps\");\n\n      if (!existingScript) {\n        var script = document.createElement(\"script\");\n        script.src = \"https://maps.googleapis.com/maps/api/js?key=\" + localStorage.getItem(\"googleApiKey\") + \"&libraries=places\";\n        script.id = \"googleMaps\";\n        document.body.appendChild(script);\n\n        script.onload = function () {\n          _this2.setState({\n            google_script_loaded: true\n          });\n        };\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      //remove script when component unmount\n      var existingScript = document.getElementById(\"googleMaps\");\n\n      if (existingScript) {\n        existingScript.parentNode.removeChild(existingScript);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.popular_locations !== nextProps.popular_locations) {\n        this.setState({\n          loading_popular_location: false\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (window.innerWidth > 768) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        });\n      }\n\n      if (localStorage.getItem(\"storeColor\") === null) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        });\n      }\n\n      var _this$props = this.props,\n          user = _this$props.user,\n          popular_locations = _this$props.popular_locations,\n          addresses = _this$props.addresses;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(Meta, {\n        seotitle: localStorage.getItem(\"seoMetaTitle\"),\n        seodescription: localStorage.getItem(\"seoMetaDescription\"),\n        ogtype: \"website\",\n        ogtitle: localStorage.getItem(\"seoOgTitle\"),\n        ogdescription: localStorage.getItem(\"seoOgDescription\"),\n        ogurl: window.location.href,\n        twittertitle: localStorage.getItem(\"seoTwitterTitle\"),\n        twitterdescription: localStorage.getItem(\"seoTwitterDescription\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), this.state.gps_loading && React.createElement(\"div\", {\n        className: \"height-100 overlay-loading ongoing-payment-spin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"spin-load\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-12 p-0 pt-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, this.state.google_script_loaded && React.createElement(GooglePlacesAutocomplete, {\n        debounce: 750,\n        withSessionToken: true,\n        loader: React.createElement(\"img\", {\n          src: \"/assets/img/various/spinner.svg\",\n          className: \"location-loading-spinner\",\n          alt: \"loading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }),\n        renderInput: function renderInput(props) {\n          return React.createElement(\"div\", {\n            className: \"input-location-icon-field\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 186\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"si si-magnifier\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 187\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"input-group-prepend\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 188\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            type: \"button\",\n            className: \"btn search-navs-btns location-back-button\",\n            style: {\n              position: \"relative\"\n            },\n            onClick: function onClick() {\n              return _this3.context.router.history.goBack();\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 189\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"si si-arrow-left\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 195\n            },\n            __self: this\n          }), React.createElement(Ink, {\n            duration: \"500\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 196\n            },\n            __self: this\n          })), React.createElement(\"input\", Object.assign({}, props, {\n            className: \"form-control search-input\",\n            placeholder: localStorage.getItem(\"searchAreaPlaceholder\"),\n            ref: function ref(input) {\n              _this3.searchInput = input;\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 198\n            },\n            __self: this\n          }))));\n        },\n        renderSuggestions: function renderSuggestions(active, suggestions, onSelectSuggestion) {\n          return React.createElement(\"div\", {\n            className: \"location-suggestions-container\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 210\n            },\n            __self: this\n          }, suggestions.map(function (suggestion, index) {\n            return React.createElement(Flip, {\n              top: true,\n              delay: index * 50,\n              key: suggestion.id,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 212\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: \"location-suggestion\",\n              onClick: function onClick(event) {\n                onSelectSuggestion(suggestion, event);\n                geocodeByPlaceId(suggestion.place_id).then(function (results) {\n                  return _this3.handleGeoLocationClick(results);\n                }).catch(function (error) {\n                  return console.error(error);\n                });\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 213\n              },\n              __self: this\n            }, React.createElement(\"span\", {\n              className: \"location-main-name\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 222\n              },\n              __self: this\n            }, suggestion.structured_formatting.main_text), React.createElement(\"br\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 225\n              },\n              __self: this\n            }), React.createElement(\"span\", {\n              className: \"location-secondary-name\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 226\n              },\n              __self: this\n            }, suggestion.structured_formatting.secondary_text)));\n          }), React.createElement(\"img\", {\n            src: \"/assets/img/various/powered_by_google_on_white.png\",\n            alt: \"powered by Google\",\n            className: \"pl-15\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 232\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-rounded btn-gps btn-md ml-15 mt-4 pl-0 py-15\",\n        style: {\n          color: localStorage.getItem(\"storeColor\")\n        },\n        onClick: this.getMyLocation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"si si-pointer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }), \" \", localStorage.getItem(\"useCurrentLocationText\"))), React.createElement(PopularPlaces, {\n        loading: this.state.loading_popular_location,\n        handleGeoLocationClick: this.handleGeoLocationClick,\n        locations: popular_locations,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }), user.success && addresses.length > 0 && React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"p-15 mt-10 location-saved-address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"text-muted h4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, localStorage.getItem(\"locationSavedAddresses\")), addresses.map(function (address) {\n        return React.createElement(AddressList, {\n          handleDeleteAddress: _this3.handleDeleteAddress,\n          deleteButton: false,\n          key: address.id,\n          address: address,\n          user: user,\n          fromCartPage: false,\n          handleSetDefaultAddress: _this3.handleSetDefaultAddress,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        });\n      }))));\n    }\n  }]);\n\n  return Location;\n}(Component);\n\nLocation.contextTypes = {\n  router: function router() {\n    return null;\n  }\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user.user,\n    popular_locations: state.popular_locations.popular_locations,\n    addresses: state.addresses.addresses\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getPopularLocations: getPopularLocations,\n  getAddresses: getAddresses,\n  setDefaultAddress: setDefaultAddress\n})(Location);","map":{"version":3,"sources":["/opt/lampp/htdocs/shawarma/src/components/Mobile/Location/index.js"],"names":["React","Component","Flip","GooglePlacesAutocomplete","Meta","PopularPlaces","Redirect","connect","geocodeByPlaceId","getPopularLocations","GET_ADDRESS_FROM_COORDINATES","Axios","getAddresses","setDefaultAddress","AddressList","Ink","Location","state","google_script_loaded","loading_popular_location","gps_loading","handleGeoLocationClick","results","saveGeoLocation","Promise","resolve","localStorage","setItem","JSON","stringify","then","setState","context","router","history","push","getMyLocation","location","navigator","geolocation","console","log","getCurrentPosition","position","reverseLookup","coords","latitude","longitude","error","alert","getItem","lat","lng","post","response","myLocation","formatted_address","data","geometry","catch","warn","handleSetDefaultAddress","address_id","address","user","props","success","id","auth_token","saveUserSetAddress","userSetAddress","house","tag","searchInput","focus","existingScript","document","getElementById","script","createElement","src","body","appendChild","onload","parentNode","removeChild","nextProps","popular_locations","window","innerWidth","addresses","href","goBack","input","active","suggestions","onSelectSuggestion","map","suggestion","index","event","place_id","structured_formatting","main_text","secondary_text","color","length","handleDeleteAddress","contextTypes","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport Flip from \"react-reveal/Flip\";\r\n\r\nimport GooglePlacesAutocomplete from \"react-google-places-autocomplete\";\r\nimport Meta from \"../../helpers/meta\";\r\nimport PopularPlaces from \"./PopularPlaces\";\r\nimport { Redirect } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport { geocodeByPlaceId } from \"react-google-places-autocomplete\";\r\nimport { getPopularLocations } from \"../../../services/popularLocations/actions\";\r\nimport { GET_ADDRESS_FROM_COORDINATES } from \"../../../configs\";\r\nimport Axios from \"axios\";\r\n\r\nimport { getAddresses, setDefaultAddress } from \"../../../services/addresses/actions\";\r\nimport AddressList from \"../Account/Addresses/AddressList\";\r\nimport Ink from \"react-ink\";\r\n\r\nclass Location extends Component {\r\n\tstate = {\r\n\t\tgoogle_script_loaded: false,\r\n\t\tloading_popular_location: true,\r\n\t\tgps_loading: false,\r\n\t};\r\n\tstatic contextTypes = {\r\n\t\trouter: () => null,\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getPopularLocations();\r\n\r\n\t\tif (this.searchInput) {\r\n\t\t\tthis.searchInput.focus();\r\n\t\t}\r\n\r\n\t\t// setTimeout(() => {\r\n\t\t// \tthis.setState({ google_script_loaded: true });\r\n\t\t// }, 2000);\r\n\r\n\t\tconst existingScript = document.getElementById(\"googleMaps\");\r\n\t\tif (!existingScript) {\r\n\t\t\tconst script = document.createElement(\"script\");\r\n\t\t\tscript.src =\r\n\t\t\t\t\"https://maps.googleapis.com/maps/api/js?key=\" +\r\n\t\t\t\tlocalStorage.getItem(\"googleApiKey\") +\r\n\t\t\t\t\"&libraries=places\";\r\n\t\t\tscript.id = \"googleMaps\";\r\n\t\t\tdocument.body.appendChild(script);\r\n\t\t\tscript.onload = () => {\r\n\t\t\t\tthis.setState({ google_script_loaded: true });\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\t//remove script when component unmount\r\n\t\tconst existingScript = document.getElementById(\"googleMaps\");\r\n\t\tif (existingScript) {\r\n\t\t\texistingScript.parentNode.removeChild(existingScript);\r\n\t\t}\r\n\t}\r\n\r\n\thandleGeoLocationClick = (results) => {\r\n\t\t// console.log(results);\r\n\t\tconst saveGeoLocation = new Promise((resolve) => {\r\n\t\t\tlocalStorage.setItem(\"geoLocation\", JSON.stringify(results[0]));\r\n\t\t\tresolve(\"GeoLocation Saved\");\r\n\t\t});\r\n\t\tsaveGeoLocation.then(() => {\r\n\t\t\tthis.setState({ gps_loading: false });\r\n\t\t\tthis.context.router.history.push(\"/my-location\");\r\n\t\t});\r\n\t};\r\n\r\n\tgetMyLocation = () => {\r\n\t\tconst location = navigator && navigator.geolocation;\r\n\t\tconsole.log(\"LOCATION\", location);\r\n\t\tthis.setState({ gps_loading: true });\r\n\t\tif (location) {\r\n\t\t\tlocation.getCurrentPosition(\r\n\t\t\t\t(position) => {\r\n\t\t\t\t\tthis.reverseLookup(position.coords.latitude, position.coords.longitude);\r\n\t\t\t\t},\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\tthis.setState({ gps_loading: false });\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\talert(localStorage.getItem(\"gpsAccessNotGrantedMsg\"));\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\treverseLookup = (lat, lng) => {\r\n\t\tAxios.post(GET_ADDRESS_FROM_COORDINATES, {\r\n\t\t\tlat: lat,\r\n\t\t\tlng: lng,\r\n\t\t})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t\tconst myLocation = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tformatted_address: response.data,\r\n\t\t\t\t\t\tgeometry: {\r\n\t\t\t\t\t\t\tlocation: {\r\n\t\t\t\t\t\t\t\tlat: lat,\r\n\t\t\t\t\t\t\t\tlng: lng,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t];\r\n\t\t\t\tthis.handleGeoLocationClick(myLocation);\r\n\t\t\t})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tconsole.warn(error.response.data);\r\n\t\t\t});\r\n\t};\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (this.props.popular_locations !== nextProps.popular_locations) {\r\n\t\t\tthis.setState({ loading_popular_location: false });\r\n\t\t}\r\n\t}\r\n\r\n\thandleSetDefaultAddress = (address_id, address) => {\r\n\t\t// console.log(\"Address FULL\", address);\r\n\t\tconst { user } = this.props;\r\n\t\tif (user.success) {\r\n\t\t\tthis.props.setDefaultAddress(user.data.id, address_id, user.data.auth_token).then(() => {\r\n\t\t\t\tconst saveUserSetAddress = new Promise((resolve) => {\r\n\t\t\t\t\tconst userSetAddress = {\r\n\t\t\t\t\t\tlat: address.latitude,\r\n\t\t\t\t\t\tlng: address.longitude,\r\n\t\t\t\t\t\taddress: address.address,\r\n\t\t\t\t\t\thouse: address.house,\r\n\t\t\t\t\t\ttag: address.tag,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tlocalStorage.setItem(\"userSetAddress\", JSON.stringify(userSetAddress));\r\n\t\t\t\t\tresolve(\"Address Saved\");\r\n\t\t\t\t});\r\n\t\t\t\tsaveUserSetAddress.then(() => {\r\n\t\t\t\t\tthis.context.router.history.push(\"/\");\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tif (window.innerWidth > 768) {\r\n\t\t\treturn <Redirect to=\"/\" />;\r\n\t\t}\r\n\t\tif (localStorage.getItem(\"storeColor\") === null) {\r\n\t\t\treturn <Redirect to={\"/\"} />;\r\n\t\t}\r\n\t\tconst { user, popular_locations, addresses } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tseotitle={localStorage.getItem(\"seoMetaTitle\")}\r\n\t\t\t\t\tseodescription={localStorage.getItem(\"seoMetaDescription\")}\r\n\t\t\t\t\togtype=\"website\"\r\n\t\t\t\t\togtitle={localStorage.getItem(\"seoOgTitle\")}\r\n\t\t\t\t\togdescription={localStorage.getItem(\"seoOgDescription\")}\r\n\t\t\t\t\togurl={window.location.href}\r\n\t\t\t\t\ttwittertitle={localStorage.getItem(\"seoTwitterTitle\")}\r\n\t\t\t\t\ttwitterdescription={localStorage.getItem(\"seoTwitterDescription\")}\r\n\t\t\t\t/>\r\n\t\t\t\t{this.state.gps_loading && (\r\n\t\t\t\t\t<div className=\"height-100 overlay-loading ongoing-payment-spin\">\r\n\t\t\t\t\t\t<div className=\"spin-load\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"col-12 p-0 pt-0\">\r\n\t\t\t\t\t{this.state.google_script_loaded && (\r\n\t\t\t\t\t\t<GooglePlacesAutocomplete\r\n\t\t\t\t\t\t\tdebounce={750}\r\n\t\t\t\t\t\t\twithSessionToken={true}\r\n\t\t\t\t\t\t\tloader={\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/spinner.svg\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"location-loading-spinner\"\r\n\t\t\t\t\t\t\t\t\talt=\"loading\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\trenderInput={(props) => (\r\n\t\t\t\t\t\t\t\t<div className=\"input-location-icon-field\">\r\n\t\t\t\t\t\t\t\t\t<i className=\"si si-magnifier\" />\r\n\t\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn search-navs-btns location-back-button\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ position: \"relative\" }}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.context.router.history.goBack()}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"si si-arrow-left\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<Ink duration=\"500\" />\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control search-input\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={localStorage.getItem(\"searchAreaPlaceholder\")}\r\n\t\t\t\t\t\t\t\t\t\t\tref={(input) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.searchInput = input;\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\trenderSuggestions={(active, suggestions, onSelectSuggestion) => (\r\n\t\t\t\t\t\t\t\t<div className=\"location-suggestions-container\">\r\n\t\t\t\t\t\t\t\t\t{suggestions.map((suggestion, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<Flip top delay={index * 50} key={suggestion.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"location-suggestion\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonSelectSuggestion(suggestion, event);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgeocodeByPlaceId(suggestion.place_id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.then((results) => this.handleGeoLocationClick(results))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.catch((error) => console.error(error));\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"location-main-name\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{suggestion.structured_formatting.main_text}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"location-secondary-name\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{suggestion.structured_formatting.secondary_text}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Flip>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/powered_by_google_on_white.png\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"powered by Google\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"pl-15\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"btn btn-rounded btn-gps btn-md ml-15 mt-4 pl-0 py-15\"\r\n\t\t\t\t\t\tstyle={{ color: localStorage.getItem(\"storeColor\") }}\r\n\t\t\t\t\t\tonClick={this.getMyLocation}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i className=\"si si-pointer\" /> {localStorage.getItem(\"useCurrentLocationText\")}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<PopularPlaces\r\n\t\t\t\t\tloading={this.state.loading_popular_location}\r\n\t\t\t\t\thandleGeoLocationClick={this.handleGeoLocationClick}\r\n\t\t\t\t\tlocations={popular_locations}\r\n\t\t\t\t/>\r\n\t\t\t\t{user.success && addresses.length > 0 && (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<div className=\"p-15 mt-10 location-saved-address\">\r\n\t\t\t\t\t\t\t<h1 className=\"text-muted h4\">{localStorage.getItem(\"locationSavedAddresses\")}</h1>\r\n\t\t\t\t\t\t\t{addresses.map((address) => (\r\n\t\t\t\t\t\t\t\t<AddressList\r\n\t\t\t\t\t\t\t\t\thandleDeleteAddress={this.handleDeleteAddress}\r\n\t\t\t\t\t\t\t\t\tdeleteButton={false}\r\n\t\t\t\t\t\t\t\t\tkey={address.id}\r\n\t\t\t\t\t\t\t\t\taddress={address}\r\n\t\t\t\t\t\t\t\t\tuser={user}\r\n\t\t\t\t\t\t\t\t\tfromCartPage={false}\r\n\t\t\t\t\t\t\t\t\thandleSetDefaultAddress={this.handleSetDefaultAddress}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)}\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.user.user,\r\n\tpopular_locations: state.popular_locations.popular_locations,\r\n\taddresses: state.addresses.addresses,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ getPopularLocations, getAddresses, setDefaultAddress }\r\n)(Location);\r\n"]},"metadata":{},"sourceType":"module"}