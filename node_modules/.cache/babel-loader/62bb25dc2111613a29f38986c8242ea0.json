{"ast":null,"code":"import _classCallCheck from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectSpread from \"/opt/lampp/htdocs/shawarma/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/opt/lampp/htdocs/shawarma/src/withTracker.js\";\nimport React, { Component } from \"react\";\nimport GoogleAnalytics from \"react-ga\";\n\nvar withTracker = function withTracker(WrappedComponent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var trackPage = function trackPage(page) {\n    if (localStorage.getItem(\"enableGoogleAnalytics\") === \"true\") {\n      GoogleAnalytics.initialize(localStorage.getItem(\"googleAnalyticsId\"));\n      GoogleAnalytics.set(_objectSpread({\n        page: page\n      }, options));\n      GoogleAnalytics.pageview(page);\n    }\n  };\n\n  var HOC =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(HOC, _Component);\n\n    function HOC() {\n      _classCallCheck(this, HOC);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(HOC).apply(this, arguments));\n    }\n\n    _createClass(HOC, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var page = this.props.location.pathname;\n        trackPage(page);\n      }\n    }, {\n      key: \"componentWillReceiveProps\",\n      value: function componentWillReceiveProps(nextProps) {\n        var currentPage = this.props.location.pathname;\n        var nextPage = nextProps.location.pathname;\n\n        if (currentPage !== nextPage) {\n          trackPage(nextPage);\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return React.createElement(WrappedComponent, Object.assign({}, this.props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }));\n      }\n    }]);\n\n    return HOC;\n  }(Component);\n\n  return HOC;\n};\n\nexport default withTracker;","map":{"version":3,"sources":["/opt/lampp/htdocs/shawarma/src/withTracker.js"],"names":["React","Component","GoogleAnalytics","withTracker","WrappedComponent","options","trackPage","page","localStorage","getItem","initialize","set","pageview","HOC","props","location","pathname","nextProps","currentPage","nextPage"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,eAAP,MAA4B,UAA5B;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,gBAAD,EAAoC;AAAA,MAAjBC,OAAiB,uEAAP,EAAO;;AACvD,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAC,IAAI,EAAI;AACzB,QAAIC,YAAY,CAACC,OAAb,CAAqB,uBAArB,MAAkD,MAAtD,EAA8D;AAC7DP,MAAAA,eAAe,CAACQ,UAAhB,CAA2BF,YAAY,CAACC,OAAb,CAAqB,mBAArB,CAA3B;AACAP,MAAAA,eAAe,CAACS,GAAhB;AACCJ,QAAAA,IAAI,EAAJA;AADD,SAEIF,OAFJ;AAIAH,MAAAA,eAAe,CAACU,QAAhB,CAAyBL,IAAzB;AACA;AACD,GATD;;AAWA,MAAMM,GAAG;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,0CACY;AACnB,YAAMN,IAAI,GAAG,KAAKO,KAAL,CAAWC,QAAX,CAAoBC,QAAjC;AACAV,QAAAA,SAAS,CAACC,IAAD,CAAT;AACA;AAJO;AAAA;AAAA,gDAMkBU,SANlB,EAM6B;AACpC,YAAMC,WAAW,GAAG,KAAKJ,KAAL,CAAWC,QAAX,CAAoBC,QAAxC;AACA,YAAMG,QAAQ,GAAGF,SAAS,CAACF,QAAV,CAAmBC,QAApC;;AAEA,YAAIE,WAAW,KAAKC,QAApB,EAA8B;AAC7Bb,UAAAA,SAAS,CAACa,QAAD,CAAT;AACA;AACD;AAbO;AAAA;AAAA,+BAeC;AACR,eAAO,oBAAC,gBAAD,oBAAsB,KAAKL,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AACA;AAjBO;;AAAA;AAAA,IAAiBb,SAAjB,CAAT;;AAoBA,SAAOY,GAAP;AACA,CAjCD;;AAmCA,eAAeV,WAAf","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport GoogleAnalytics from \"react-ga\";\r\n\r\nconst withTracker = (WrappedComponent, options = {}) => {\r\n\tconst trackPage = page => {\r\n\t\tif (localStorage.getItem(\"enableGoogleAnalytics\") === \"true\") {\r\n\t\t\tGoogleAnalytics.initialize(localStorage.getItem(\"googleAnalyticsId\"));\r\n\t\t\tGoogleAnalytics.set({\r\n\t\t\t\tpage,\r\n\t\t\t\t...options\r\n\t\t\t});\r\n\t\t\tGoogleAnalytics.pageview(page);\r\n\t\t}\r\n\t};\r\n\r\n\tconst HOC = class extends Component {\r\n\t\tcomponentDidMount() {\r\n\t\t\tconst page = this.props.location.pathname;\r\n\t\t\ttrackPage(page);\r\n\t\t}\r\n\r\n\t\tcomponentWillReceiveProps(nextProps) {\r\n\t\t\tconst currentPage = this.props.location.pathname;\r\n\t\t\tconst nextPage = nextProps.location.pathname;\r\n\r\n\t\t\tif (currentPage !== nextPage) {\r\n\t\t\t\ttrackPage(nextPage);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\treturn <WrappedComponent {...this.props} />;\r\n\t\t}\r\n\t};\r\n\r\n\treturn HOC;\r\n};\r\n\r\nexport default withTracker;\r\n"]},"metadata":{},"sourceType":"module"}